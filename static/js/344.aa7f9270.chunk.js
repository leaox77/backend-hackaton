"use strict";(self.webpackChunkecommerce=self.webpackChunkecommerce||[]).push([[344],{4344:(e,t,s)=>{s.r(t),s.d(t,{default:()=>h});var i=s(6669),o=s(5043),r=s(3003),n=s(5475),a=s(117),l=s(3546),c=s(3178),d=s(3115),u=s(579);const h=(0,r.Ng)((e=>({wishlist_items:e.Wishlist.items,isAuthenticated:e.Auth.isAuthenticated,user:e.Auth.user})),{setAlert:d.n,remove_wishlist_item:c.dm,get_wishlist_items:c.uO})((e=>{let{wishlist_items:t,setAlert:s,isAuthenticated:d,user:h,product:p}=e;const[m,f]=(0,o.useState)(null),[x,g]=(0,o.useState)(0),[v,y]=(0,o.useState)(null),w=(0,r.wA)(),[j,b]=(0,o.useState)(!1);(0,o.useEffect)((()=>{window.scrollTo(0,0),w((0,c.uO)())}),[j,w]),(0,o.useEffect)((()=>{if(t&&t.length>0){const e=12,s=Math.min(t.length/e*100,100);g(s)}else g(0)}),[t]);const N={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{type:"spring",stiffness:100}},exit:{scale:.8,opacity:0,transition:{duration:.3}}};return(0,u.jsx)(i.A,{children:(0,u.jsx)("div",{className:"bg-gradient-to-b from-gray-50 to-white min-h-screen",children:(0,u.jsxs)("div",{className:"max-w-7xl mx-auto pt-16 pb-24 px-4 sm:px-6 lg:px-8",children:[(0,u.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-12",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("h1",{className:"text-3xl font-extrabold tracking-tight text-gray-900 sm:text-4xl bg-clip-text text-transparent bg-black",children:"Productos Favoritos"}),(0,u.jsx)("p",{className:"mt-2 text-sm text-gray-500",children:null!==t&&void 0!==t&&t.length?`${t.length} producto${1!==t.length?"s":""} en tu lista`:"A\xfan no tienes productos favoritos"})]}),(0,u.jsx)("div",{className:"mt-4 md:mt-0",children:(0,u.jsxs)(n.N_,{to:"/shop",className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-gradient-to-r from-midnight-blue to-purple-night hover:from-crimson-red hover:to-deep-rose focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 transition-all duration-300",children:[(0,u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mr-2 h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,u.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 8h16M4 16h16"})}),"Explorar m\xe1s productos"]})})]}),(0,u.jsx)("div",{className:"w-full bg-gray-200 h-2 rounded-full overflow-hidden mb-10",children:(0,u.jsx)(a.P.div,{initial:{width:0},animate:{width:`${x}%`},transition:{duration:1,ease:"easeOut"},className:"bg-gradient-to-r from-deep-rose via-crimson-red to-red-500 h-2"})}),t&&t.length>0?(0,u.jsx)(a.P.div,{variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},initial:"hidden",animate:"visible",className:"grid grid-cols-2 gap-y-10 gap-x-6 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5",children:(0,u.jsx)(l.N,{children:t.map(((e,t)=>{var i,o,r,l;return(0,u.jsx)(a.P.div,{variants:N,exit:"exit",layout:!0,className:"group relative "+(m===e.product.id?"opacity-50":""),onMouseEnter:()=>y(e.product.id),onMouseLeave:()=>y(null),children:(0,u.jsxs)("div",{className:"m-2 rounded-lg overflow-hidden bg-white shadow-md hover:shadow-xl transition-shadow duration-300 transform hover:-translate-y-1",children:[(0,u.jsxs)("div",{className:"relative pb-[100%]",children:[(0,u.jsxs)(n.N_,{to:`/product/${e.product.id}`,children:[(0,u.jsx)("img",{src:e.product.photo,alt:e.product.name,className:"p-6 absolute inset-0 w-full h-full object-cover object-center transition-transform duration-500 ease-in-out group-hover:scale-110"}),(0,u.jsx)("div",{className:"absolute inset-0 bg-black opacity-0 group-hover:opacity-10 transition-opacity duration-300"})]}),(0,u.jsx)("button",{onClick:()=>(async e=>{f(e),await w((0,c.dm)(e)),setTimeout((()=>{b((e=>!e)),s("Producto eliminado de favoritos","success"),f(null)}),300)})(e.product.id),className:"absolute top-3 right-3 z-10 bg-white text-gray-600 rounded-full p-2 shadow-md hover:bg-red-50 hover:text-red-500 transition-all duration-300 transform hover:scale-110",title:"Eliminar de favoritos",children:(0,u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,u.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,u.jsx)("div",{className:"p-4",children:(0,u.jsxs)(n.N_,{to:`/product/${e.product.id}`,children:[(0,u.jsx)("h3",{className:"text-sm font-medium text-gray-900 line-clamp-2 h-10",children:e.product.name}),(0,u.jsxs)("div",{className:"mt-2 flex justify-between items-center",children:[(0,u.jsx)("span",{className:"text-lg",children:h&&void 0!==h.mayorista_tipo?0===h.mayorista_tipo?null===(i=e.product)||void 0===i?void 0:i.price:1===h.mayorista_tipo?null===(o=e.product)||void 0===o?void 0:o.price_mayorista_1:2===h.mayorista_tipo?null===(r=e.product)||void 0===r?void 0:r.price_mayorista_2:3===h.mayorista_tipo?null===(l=e.product)||void 0===l?void 0:l.price_mayorista_3:"N/A":"Inicia sesi\xf3n"}),(0,u.jsx)(a.P.div,{initial:{opacity:0,x:20},animate:{opacity:v===e.product.id?1:0,x:v===e.product.id?0:10},className:"text-purple-600",children:(0,u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,u.jsx)("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})})]})]})})]})},e.product.id)}))})}):(0,u.jsxs)(a.P.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.6},className:"flex flex-col items-center justify-center py-24 text-center",children:[(0,u.jsx)(a.P.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.2,type:"spring",stiffness:100},children:(0,u.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-32 w-32 text-gray-400 mb-6 transform rotate-[-10deg]",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",children:[(0,u.jsx)("path",{d:"M6 6h15l-1.5 9h-13L4 4H2"}),(0,u.jsx)("circle",{cx:"9",cy:"20",r:"1"}),(0,u.jsx)("circle",{cx:"18",cy:"20",r:"1"})]})}),(0,u.jsx)("h2",{className:"text-2xl font-bold text-gray-700 mb-2",children:"Tu lista de favoritos est\xe1 vac\xeda"}),(0,u.jsx)("p",{className:"text-gray-500 text-lg mb-8 max-w-md",children:"Agrega productos a tus favoritos para guardarlos aqu\xed y tenerlos a la mano cuando los necesites"}),(0,u.jsx)(n.N_,{to:"/shop",className:"group relative inline-flex items-center justify-center overflow-hidden rounded-lg bg-gradient-to-br from-midnight-blue to-purple-night p-0.5 text-sm font-medium text-white hover:text-white focus:outline-none focus:ring-4 focus:ring-purple-200",children:(0,u.jsx)("span",{className:"relative rounded-md bg-white px-6 py-3 transition-all duration-75 ease-in group-hover:bg-opacity-0 text-gray-700 group-hover:text-white font-semibold",children:"Descubrir productos incre\xedbles"})})]})]})})})}))},3178:(e,t,s)=>{s.d(t,{OY:()=>a,dm:()=>c,mN:()=>l,uO:()=>n});var i=s(6213),o=s(4308);const r=()=>({headers:{Authorization:`JWT ${localStorage.getItem("access")}`,"Content-Type":"application/json",Accept:"application/json"}}),n=()=>async e=>{if(localStorage.getItem("access"))try{const t=await i.A.get("http://localhost:8000/api/wishlist/wishlist-items",r());e({type:o.Q$,payload:t.data})}catch(t){e({type:o.ti})}},a=e=>async t=>{if(!localStorage.getItem("access"))return;const s=JSON.stringify({product_id:e});try{const e=await i.A.post("http://localhost:8000/api/wishlist/add-item",s,r());t({type:o.eW,payload:e.data})}catch(n){t({type:o.Xd})}},l=()=>async e=>{if(localStorage.getItem("access"))try{const t=await i.A.get("http://localhost:8000/api/wishlist/get-item-total",r());e({type:o.qT,payload:t.data})}catch(t){e({type:o.hZ})}},c=e=>async t=>{if(!localStorage.getItem("access"))return;const s={...r(),data:{product_id:e}};try{await i.A.delete("http://localhost:8000/api/wishlist/remove-item",s),t({type:o.$F,payload:e}),console.log("\ud83d\ude80 Producto eliminado del wishlist:",e)}catch(n){t({type:o.in})}}},3546:(e,t,s)=>{s.d(t,{N:()=>g});var i=s(579),o=s(5043),r=s(2190),n=s(4930),a=s(9674),l=s(1051);class c extends o.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const e=t.offsetParent,s=e instanceof HTMLElement&&e.offsetWidth||0,i=this.props.sizeRef.current;i.height=t.offsetHeight||0,i.width=t.offsetWidth||0,i.top=t.offsetTop,i.left=t.offsetLeft,i.right=s-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function d(e){let{children:t,isPresent:s,anchorX:r}=e;const n=(0,o.useId)(),a=(0,o.useRef)(null),d=(0,o.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:u}=(0,o.useContext)(l.Q);return(0,o.useInsertionEffect)((()=>{const{width:e,height:t,top:i,left:o,right:l}=d.current;if(s||!a.current||!e||!t)return;const c="left"===r?`left: ${o}`:`right: ${l}`;a.current.dataset.motionPopId=n;const h=document.createElement("style");return u&&(h.nonce=u),document.head.appendChild(h),h.sheet&&h.sheet.insertRule(`\n          [data-motion-pop-id="${n}"] {\n            position: absolute !important;\n            width: ${e}px !important;\n            height: ${t}px !important;\n            ${c}px !important;\n            top: ${i}px !important;\n          }\n        `),()=>{document.head.removeChild(h)}}),[s]),(0,i.jsx)(c,{isPresent:s,childRef:a,sizeRef:d,children:o.cloneElement(t,{ref:a})})}const u=e=>{let{children:t,initial:s,isPresent:r,onExitComplete:l,custom:c,presenceAffectsLayout:u,mode:p,anchorX:m}=e;const f=(0,n.M)(h),x=(0,o.useId)(),g=(0,o.useCallback)((e=>{f.set(e,!0);for(const t of f.values())if(!t)return;l&&l()}),[f,l]),v=(0,o.useMemo)((()=>({id:x,initial:s,isPresent:r,custom:c,onExitComplete:g,register:e=>(f.set(e,!1),()=>f.delete(e))})),u?[Math.random(),g]:[r,g]);return(0,o.useMemo)((()=>{f.forEach(((e,t)=>f.set(t,!1)))}),[r]),o.useEffect((()=>{!r&&!f.size&&l&&l()}),[r]),"popLayout"===p&&(t=(0,i.jsx)(d,{isPresent:r,anchorX:m,children:t})),(0,i.jsx)(a.t.Provider,{value:v,children:t})};function h(){return new Map}var p=s(8917);const m=e=>e.key||"";function f(e){const t=[];return o.Children.forEach(e,(e=>{(0,o.isValidElement)(e)&&t.push(e)})),t}var x=s(293);const g=e=>{let{children:t,custom:s,initial:a=!0,onExitComplete:l,presenceAffectsLayout:c=!0,mode:d="sync",propagate:h=!1,anchorX:g="left"}=e;const[v,y]=(0,p.xQ)(h),w=(0,o.useMemo)((()=>f(t)),[t]),j=h&&!v?[]:w.map(m),b=(0,o.useRef)(!0),N=(0,o.useRef)(w),_=(0,n.M)((()=>new Map)),[k,A]=(0,o.useState)(w),[C,P]=(0,o.useState)(w);(0,x.E)((()=>{b.current=!1,N.current=w;for(let e=0;e<C.length;e++){const t=m(C[e]);j.includes(t)?_.delete(t):!0!==_.get(t)&&_.set(t,!1)}}),[C,j.length,j.join("-")]);const E=[];if(w!==k){let e=[...w];for(let t=0;t<C.length;t++){const s=C[t],i=m(s);j.includes(i)||(e.splice(t,0,s),E.push(s))}return"wait"===d&&E.length&&(e=E),P(f(e)),A(w),null}const{forceRender:M}=(0,o.useContext)(r.L);return(0,i.jsx)(i.Fragment,{children:C.map((e=>{const t=m(e),o=!(h&&!v)&&(w===C||j.includes(t));return(0,i.jsx)(u,{isPresent:o,initial:!(b.current&&!a)&&void 0,custom:s,presenceAffectsLayout:c,mode:d,onExitComplete:o?void 0:()=>{if(!_.has(t))return;_.set(t,!0);let e=!0;_.forEach((t=>{t||(e=!1)})),e&&(null===M||void 0===M||M(),P(N.current),h&&(null===y||void 0===y||y()),l&&l())},anchorX:g,children:e},t)}))})}}}]);
//# sourceMappingURL=344.aa7f9270.chunk.js.map