"use strict";(self.webpackChunkecommerce=self.webpackChunkecommerce||[]).push([[618],{3842:(e,t,a)=>{a.d(t,{A:()=>d});var r=a(5475),s=a(2783),n=a(8029),i=a(5977),o=a(579);function l(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter(Boolean).join(" ")}const d=()=>(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(r.N_,{to:"/dashboard",className:l("text-gray-600 hover:bg-gray-50 hover:text-gray-900","group flex items-center px-2 py-2 text-base font-medium rounded-md"),children:[(0,o.jsx)(s.A,{className:l("mr-4 flex-shrink-0 h-6 w-6 text-gray-400 group-hover:text-gray-500"),"aria-hidden":"true"}),"Dashboard"]}),(0,o.jsxs)(r.N_,{to:"/dashboard/payments",className:l("text-gray-600 hover:bg-gray-50 hover:text-gray-900","group flex items-center px-2 py-2 text-base font-medium rounded-md"),children:[(0,o.jsx)(n.A,{className:l("mr-4 flex-shrink-0 h-6 w-6 text-gray-400 group-hover:text-gray-500"),"aria-hidden":"true"}),"Historial de compras"]}),(0,o.jsxs)(r.N_,{to:"/dashboard/profile",className:l("text-gray-600 hover:bg-gray-50 hover:text-gray-900","group flex items-center px-2 py-2 text-base font-medium rounded-md"),children:[(0,o.jsx)(i.A,{className:l("mr-4 flex-shrink-0 h-6 w-6 text-gray-400 group-hover:text-gray-500"),"aria-hidden":"true"}),"Perfil"]})]})},9618:(e,t,a)=>{a.r(t),a.d(t,{default:()=>v});var r=a(3003),s=a(5043),n=a(3216),i=a(5475),o=a(1471),l=a(2258),d=a(3938);const c=s.forwardRef((function(e,t){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"}))}));const m=s.forwardRef((function(e,t){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"}))}));const h=s.forwardRef((function(e,t){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"}))}));var u=a(9954),x=a(9784);const g=[{name:"La Paz"},{name:"Cochabamba"},{name:"Potosi"},{name:"Tarija"},{name:"Santa Cruz"},{name:"Beni"},{name:"Oruro"},{name:"Pando"},{name:"Potosi"}];var p=a(3842),f=a(579);const v=(0,r.Ng)((e=>({isAuthenticated:e.Auth.isAuthenticated,profile:e.Profile.profile})),{update_user_profile:x.Y})((e=>{let{update_user_profile:t,isAuthenticated:a,profile:r}=e;const[x,v]=(0,s.useState)(!1),[b,w]=(0,s.useState)(!1),[j,y]=(0,s.useState)(!1),[N,k]=(0,s.useState)({address_line_1:"",address_line_2:"",city:"",state_province_region:"",age:"",phone:""});(0,s.useEffect)((()=>{r&&k({address_line_1:r.address_line_1||"",address_line_2:r.address_line_2||"",city:r.city||"",state_province_region:r.state_province_region||"",age:r.age||"",phone:r.phone||""})}),[r]);const{address_line_1:_,address_line_2:C,city:A,state_province_region:E,age:z,phone:M}=N,L=e=>k({...N,[e.target.name]:e.target.value});return a?(0,f.jsxs)("div",{className:"flex min-h-screen bg-gradient-to-br from-indigo-50 to-blue-100",children:[x&&(0,f.jsxs)("div",{className:"fixed inset-0 z-50 flex md:hidden",children:[(0,f.jsx)("div",{className:"fixed inset-0 bg-gray-800 bg-opacity-75 backdrop-blur-sm",onClick:()=>v(!1)}),(0,f.jsxs)("div",{className:"relative flex flex-col w-72 max-w-xs bg-white shadow-xl rounded-r-xl overflow-hidden",children:[(0,f.jsx)("div",{className:"p-5 bg-gradient-to-r from-midnight-blue to-purple-night",children:(0,f.jsxs)("div",{className:"flex items-center justify-between",children:[(0,f.jsx)("h2",{className:"text-xl font-bold text-white",children:"Mi Cuenta"}),(0,f.jsx)("button",{className:"p-2 rounded-full bg-white bg-opacity-20 hover:bg-opacity-30 transition",onClick:()=>v(!1),children:(0,f.jsx)(o.A,{className:"h-5 w-5 text-white"})})]})}),(0,f.jsx)("nav",{className:"mt-5 p-4 space-y-3",children:(0,f.jsx)(p.A,{})})]})]}),(0,f.jsxs)("aside",{className:"hidden md:flex md:w-72 md:flex-col bg-white border-r border-gray-200 shadow-lg fixed h-full",children:[(0,f.jsx)("div",{className:"p-5 bg-gradient-to-r from-midnight-blue to-purple-night",children:(0,f.jsx)("h2",{className:"text-xl font-bold text-white",children:"Mi Cuenta"})}),(0,f.jsx)("div",{className:"p-4",children:(0,f.jsx)(i.N_,{to:"/",className:"inline-flex items-center justify-center w-full px-4 py-2 text-sm font-medium text-midnight-blue bg-indigo-100 border border-transparent rounded-md hover:bg-indigo-200 transition",children:"Regresar a Inicio"})}),(0,f.jsx)("nav",{className:"mt-2 p-4 space-y-2",children:(0,f.jsx)(p.A,{})})]}),(0,f.jsxs)("main",{className:"flex-1 md:ml-72",children:[(0,f.jsx)("div",{className:"sticky top-0 z-10 bg-white shadow-md",children:(0,f.jsx)("div",{className:"mx-auto px-4 sm:px-6 lg:px-8",children:(0,f.jsxs)("div",{className:"flex justify-between h-16",children:[(0,f.jsx)("div",{className:"flex items-center md:hidden",children:(0,f.jsx)("button",{className:"p-2 rounded-md text-gray-600 hover:text-gray-900 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500",onClick:()=>v(!0),children:(0,f.jsx)(l.A,{className:"h-6 w-6"})})}),(0,f.jsx)("div",{className:"flex items-center",children:(0,f.jsx)("h1",{className:"text-2xl font-semibold text-gray-800",children:"Perfil de Usuario"})}),(0,f.jsx)("div",{className:"flex items-center",children:(0,f.jsx)(d.A,{className:"h-8 w-8 text-midnight-blue"})})]})})}),(0,f.jsx)("div",{className:"mx-auto px-4 sm:px-6 lg:px-8 py-8 max-w-3xl",children:(0,f.jsxs)("div",{className:"bg-white rounded-xl shadow-xl overflow-hidden",children:[(0,f.jsxs)("div",{className:"px-6 py-4 bg-gradient-to-r from-midnight-blue to-purple-night",children:[(0,f.jsx)("h2",{className:"text-lg font-bold text-white",children:"Informaci\xf3n Personal"}),(0,f.jsx)("p",{className:"text-indigo-100 text-sm",children:"Actualiza tus datos de contacto y direcci\xf3n"})]}),(0,f.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),w(!0),await t(_,C,A,E,z,M),w(!1),y(!0),setTimeout((()=>y(!1)),2e3)},className:"p-6",children:[(0,f.jsxs)("div",{className:"grid grid-cols-1 gap-x-6 gap-y-5 sm:grid-cols-2",children:[(0,f.jsxs)("div",{className:"col-span-2",children:[(0,f.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Direcci\xf3n Principal"}),(0,f.jsxs)("div",{className:"mt-1 relative rounded-md shadow-sm",children:[(0,f.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,f.jsx)(c,{className:"h-5 w-5 text-gray-400"})}),(0,f.jsx)("input",{type:"text",name:"address_line_1",value:_,onChange:L,className:"pl-10 block w-full py-3 border-gray-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Av. Principal 123"})]})]}),(0,f.jsxs)("div",{className:"col-span-2",children:[(0,f.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Direcci\xf3n Secundaria"}),(0,f.jsx)("input",{type:"text",name:"address_line_2",value:C,onChange:L,className:"mt-1 block w-full py-3 border-gray-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Direccion secundaria"})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Ciudad"}),(0,f.jsxs)("select",{name:"city",value:A,onChange:L,className:"mt-1 block w-full py-3 border-gray-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500",children:[(0,f.jsx)("option",{value:"",children:(null===r||void 0===r?void 0:r.city)||"Seleccionar ciudad"}),g.map(((e,t)=>(0,f.jsx)("option",{value:e.name,children:e.name},t)))]})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Provincia"}),(0,f.jsx)("input",{type:"text",name:"state_province_region",value:E,onChange:L,className:"mt-1 block w-full py-3 border-gray-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500"})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Edad"}),(0,f.jsx)("input",{type:"number",name:"age",value:z,onChange:L,className:"mt-1 block w-full py-3 border-gray-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500"})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Celular"}),(0,f.jsxs)("div",{className:"mt-1 relative rounded-md shadow-sm",children:[(0,f.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,f.jsx)(m,{className:"h-5 w-5 text-gray-400"})}),(0,f.jsx)("input",{type:"text",name:"phone",value:M,onChange:L,className:"pl-10 block w-full py-3 border-gray-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500",placeholder:"79876543"})]})]})]}),(0,f.jsx)("div",{className:"mt-8",children:b?(0,f.jsxs)("button",{disabled:!0,className:"w-full flex justify-center items-center px-6 py-3 border border-transparent rounded-lg shadow-sm text-base font-medium text-white bg-midnight-blue cursor-not-allowed",children:[(0,f.jsx)(u.BM,{width:24,height:24,color:"#fff",secondaryColor:"#ccc"}),(0,f.jsx)("span",{className:"ml-2",children:"Guardando..."})]}):(0,f.jsx)("button",{type:"submit",className:"w-full flex justify-center items-center px-6 py-3 border border-transparent rounded-lg shadow-sm text-base font-medium text-white transition-all "+(j?"bg-deep-rose hover:bg-royal-purple":"bg-gradient-to-r from-midnight-blue to-purple-night hover:from-purple-night hover:to-midnight-blue"),children:j?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(h,{className:"h-5 w-5 text-white"}),(0,f.jsx)("span",{className:"ml-2",children:"\xa1Informaci\xf3n Actualizada!"})]}):(0,f.jsx)("span",{children:"Guardar Cambios"})})})]})]})})]})]}):(0,f.jsx)(n.C5,{to:"/"})}))},3115:(e,t,a)=>{a.d(t,{n:()=>s});var r=a(4308);const s=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3;return s=>{s({type:r._R,payload:{msg:e,alertType:t}}),setTimeout((()=>s({type:r.sN})),a)}}},9784:(e,t,a)=>{a.d(t,{Y:()=>o,h:()=>i});var r=a(6213),s=a(3115),n=a(4308);const i=()=>async e=>{if(localStorage.getItem("access")){const a={headers:{Accept:"application/json",Authorization:`JWT ${localStorage.getItem("access")}`}};try{const t=await r.A.get("http://localhost:8000/api/profile/user",a);200===t.status?e({type:n.xC,payload:t.data}):e({type:n.kA})}catch(t){e({type:n.kA})}}},o=(e,t,a,i,o,l,d)=>async c=>{if(localStorage.getItem("access")){const h={headers:{Accept:"application/json","Content-Type":"application/json",Authorization:`JWT ${localStorage.getItem("access")}`}},u=JSON.stringify({address_line_1:e,address_line_2:t,city:a,state_province_region:i,zipcode:o,phone:l,country_region:d});try{const e=await r.A.put("http://localhost:8000/api/profile/update",u,h);200===e.status?(c({type:n.Mf,payload:e.data}),c((0,s.n)("Profile updated successfully","green"))):(c({type:n.TX}),c((0,s.n)("Failed to update profile","red")))}catch(m){c({type:n.TX}),c((0,s.n)("Failed to update profile","red"))}}}},2783:(e,t,a)=>{a.d(t,{A:()=>s});var r=a(5043);const s=r.forwardRef((function(e,t){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"}))}))},2258:(e,t,a)=>{a.d(t,{A:()=>s});var r=a(5043);const s=r.forwardRef((function(e,t){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6h16M4 12h16M4 18h16"}))}))},1471:(e,t,a)=>{a.d(t,{A:()=>s});var r=a(5043);const s=r.forwardRef((function(e,t){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"}))}))},8029:(e,t,a)=>{a.d(t,{A:()=>s});var r=a(5043);const s=r.forwardRef((function(e,t){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),r.createElement("path",{d:"M4 4a2 2 0 00-2 2v1h16V6a2 2 0 00-2-2H4z"}),r.createElement("path",{fillRule:"evenodd",d:"M18 9H2v5a2 2 0 002 2h12a2 2 0 002-2V9zM4 13a1 1 0 011-1h1a1 1 0 110 2H5a1 1 0 01-1-1zm5-1a1 1 0 100 2h1a1 1 0 100-2H9z",clipRule:"evenodd"}))}))},5977:(e,t,a)=>{a.d(t,{A:()=>s});var r=a(5043);const s=r.forwardRef((function(e,t){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),r.createElement("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"}))}))}}]);
//# sourceMappingURL=618.d732d1c9.chunk.js.map