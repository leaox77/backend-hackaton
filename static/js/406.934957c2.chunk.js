"use strict";(self.webpackChunkecommerce=self.webpackChunkecommerce||[]).push([[406],{3842:(e,t,s)=>{s.d(t,{A:()=>n});var a=s(5475),i=s(2783),r=s(8029),d=s(5977),l=s(579);function c(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter(Boolean).join(" ")}const n=()=>(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(a.N_,{to:"/dashboard",className:c("text-gray-600 hover:bg-gray-50 hover:text-gray-900","group flex items-center px-2 py-2 text-base font-medium rounded-md"),children:[(0,l.jsx)(i.A,{className:c("mr-4 flex-shrink-0 h-6 w-6 text-gray-400 group-hover:text-gray-500"),"aria-hidden":"true"}),"Dashboard"]}),(0,l.jsxs)(a.N_,{to:"/dashboard/payments",className:c("text-gray-600 hover:bg-gray-50 hover:text-gray-900","group flex items-center px-2 py-2 text-base font-medium rounded-md"),children:[(0,l.jsx)(r.A,{className:c("mr-4 flex-shrink-0 h-6 w-6 text-gray-400 group-hover:text-gray-500"),"aria-hidden":"true"}),"Historial de compras"]}),(0,l.jsxs)(a.N_,{to:"/dashboard/profile",className:c("text-gray-600 hover:bg-gray-50 hover:text-gray-900","group flex items-center px-2 py-2 text-base font-medium rounded-md"),children:[(0,l.jsx)(d.A,{className:c("mr-4 flex-shrink-0 h-6 w-6 text-gray-400 group-hover:text-gray-500"),"aria-hidden":"true"}),"Perfil"]})]})},2406:(e,t,s)=>{s.r(t),s.d(t,{default:()=>j});var a=s(3003),i=s(3216),r=s(5043),d=s(5475),l=s(6178),c=s.n(l),n=s(1804),o=s(1507),m=s(3842),x=s(1471),h=s(2258),g=s(2363),p=s(9478),u=s(579);const j=(0,a.Ng)((e=>({order:e.Orders.order,isAuthenticated:e.Auth.isAuthenticated,user:e.Auth.user})),{get_items:o.Su,get_total:o.OL,get_item_total:o.ES,get_order_detail:n._q})((e=>{let{order:t,isAuthenticated:s,get_order_detail:a}=e;const[l,n]=(0,r.useState)(!1),o=(0,i.g)().transaction_id;return(0,r.useEffect)((()=>{a(o)}),[o,a]),s?(0,u.jsxs)("div",{className:"flex min-h-screen bg-gradient-to-br from-indigo-50 to-blue-100",children:[l&&(0,u.jsxs)("div",{className:"fixed inset-0 z-50 flex md:hidden",children:[(0,u.jsx)("div",{className:"fixed inset-0 bg-gray-800 bg-opacity-75 backdrop-blur-sm",onClick:()=>n(!1)}),(0,u.jsxs)("div",{className:"relative flex flex-col w-72 max-w-xs bg-white shadow-xl rounded-r-xl overflow-hidden",children:[(0,u.jsx)("div",{className:"p-5 bg-gradient-to-r from-midnight-blue to-purple-night",children:(0,u.jsxs)("div",{className:"flex items-center justify-between",children:[(0,u.jsx)("h2",{className:"text-xl font-bold text-white",children:"Mi Cuenta"}),(0,u.jsx)("button",{className:"p-2 rounded-full bg-white bg-opacity-20 hover:bg-opacity-30 transition",onClick:()=>n(!1),children:(0,u.jsx)(x.A,{className:"h-5 w-5 text-white"})})]})}),(0,u.jsx)("nav",{className:"mt-5 p-4 space-y-3",children:(0,u.jsx)(m.A,{})})]})]}),(0,u.jsxs)("aside",{className:"hidden md:flex md:w-72 md:flex-col bg-white border-r border-gray-200 shadow-lg fixed h-full",children:[(0,u.jsx)("div",{className:"p-5 bg-gradient-to-r from-midnight-blue to-purple-night",children:(0,u.jsx)("h2",{className:"text-xl font-bold text-white",children:"Mi Cuenta"})}),(0,u.jsx)("div",{className:"p-4",children:(0,u.jsx)(d.N_,{to:"/",className:"inline-flex items-center justify-center w-full px-4 py-2 text-sm font-medium text-midnight-blue bg-indigo-100 border border-transparent rounded-md hover:bg-indigo-200 transition",children:"Regresar a Inicio"})}),(0,u.jsx)("nav",{className:"mt-2 p-4 space-y-2",children:(0,u.jsx)(m.A,{})})]}),(0,u.jsxs)("main",{className:"flex-1 md:ml-72",children:[(0,u.jsx)("div",{className:"sticky top-0 z-10 bg-white shadow-md",children:(0,u.jsx)("div",{className:"mx-auto px-4 sm:px-6 lg:px-8",children:(0,u.jsxs)("div",{className:"flex justify-between h-16",children:[(0,u.jsx)("div",{className:"flex items-center md:hidden",children:(0,u.jsx)("button",{className:"p-2 rounded-md text-gray-600 hover:text-gray-900 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500",onClick:()=>n(!0),children:(0,u.jsx)(h.A,{className:"h-6 w-6"})})}),(0,u.jsx)("div",{className:"flex items-center",children:(0,u.jsx)("h1",{className:"text-2xl font-semibold text-gray-800",children:"Detalle de Factura"})}),(0,u.jsx)("div",{className:"flex items-center",children:(0,u.jsx)(g.A,{className:"h-8 w-8 text-midnight-blue"})})]})})}),(0,u.jsx)("div",{className:"mx-auto sm:px-6 lg:px-8 py-8 max-w-4xl",children:t?(0,u.jsxs)("div",{className:"bg-white rounded-xl shadow-xl overflow-hidden",children:[(0,u.jsx)("div",{className:"px-6 py-4 bg-gradient-to-r from-midnight-blue to-purple-night",children:(0,u.jsxs)("div",{className:"flex justify-between items-center",children:[(0,u.jsxs)("h2",{className:"text-lg font-bold text-white",children:["Detalles del Pedido #",t.transaction_id?t.transaction_id.slice(-6):"N/A"]}),(0,u.jsx)("span",{className:"px-3 py-1 text-xs font-semibold text-indigo-800 bg-indigo-100 rounded-full",children:t.status||"Procesando"})]})}),(0,u.jsxs)("div",{className:"p-6",children:[(0,u.jsxs)("div",{className:"text-sm border-b border-gray-200 pb-5 flex justify-between items-center",children:[(0,u.jsxs)("div",{className:"flex items-center text-sm text-gray-500",children:[(0,u.jsx)(g.A,{className:"h-5 w-5 text-indigo-500 mr-2"}),(0,u.jsxs)("div",{children:["ID de Transacci\xf3n: ",(0,u.jsx)("span",{className:"font-medium",children:t.transaction_id})]})]}),(0,u.jsx)("div",{className:"font-medium text-gray-900",children:t.date_issued?(0,u.jsxs)("time",{dateTime:t.date_issued,children:[c()(t.date_issued).format("LL")," \u2022 ",c()(t.date_issued).fromNow()]}):(0,u.jsx)("time",{dateTime:new Date,children:c()().format("LL")})})]}),(0,u.jsxs)("div",{className:"mt-8",children:[(0,u.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Productos Comprados"}),(0,u.jsx)("div",{className:"space-y-8",children:t.order_items&&t.order_items.map((e=>(0,u.jsx)("div",{className:"bg-white border border-gray-200 rounded-lg shadow-sm overflow-hidden",children:(0,u.jsx)("div",{className:"p-6",children:(0,u.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-6",children:[(0,u.jsxs)("div",{className:"md:col-span-7",children:[(0,u.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:(0,u.jsx)("p",{className:"hover:text-midnight-blue transition",children:"Producto:"})}),(0,u.jsx)(d.N_,{to:`/product/${(null===e||void 0===e?void 0:e.id)||(null===e||void 0===e?void 0:e.product_id)}`,className:"hover:text-midnight-blue transition",children:e.name}),(0,u.jsx)("p",{className:"text-gray-600 mb-4",children:e.s}),(0,u.jsxs)("div",{className:"flex items-center text-sm text-gray-500 mb-4",children:[(0,u.jsx)(g.A,{className:"h-5 w-5 text-indigo-500 mr-2"}),(0,u.jsxs)("div",{children:["ID de Transacci\xf3n: ",(0,u.jsx)("span",{className:"font-medium",children:t.transaction_id})]})]})]}),(0,u.jsx)("div",{className:"md:col-span-5 bg-indigo-50 p-4 rounded-lg",children:(0,u.jsxs)("div",{children:[(0,u.jsxs)("div",{className:"flex items-center mb-2",children:[(0,u.jsx)(p.A,{className:"h-5 w-5 text-indigo-500 mr-2"}),(0,u.jsx)("h4",{className:"font-medium text-gray-900",children:"Detalles del Producto"})]}),(0,u.jsxs)("div",{className:"ml-7 text-gray-600 space-y-1",children:[(0,u.jsxs)("p",{className:"text-sm flex justify-between",children:[(0,u.jsx)("span",{children:"Precio total del producto:"}),(0,u.jsx)("span",{className:"font-medium",children:e.price})]}),(0,u.jsxs)("p",{className:"text-sm flex justify-between",children:[(0,u.jsx)("span",{children:"Cantidad:"}),(0,u.jsx)("span",{className:"font-medium",children:e.count})]})]})]})})]})})},e.id)))})]})]})]}):(0,u.jsxs)("div",{className:"bg-white rounded-xl shadow-xl overflow-hidden",children:[(0,u.jsx)("div",{className:"px-6 py-4 bg-gradient-to-r from-midnight-blue to-purple-night",children:(0,u.jsx)("h2",{className:"text-lg font-bold text-white",children:"Cargando pedido..."})}),(0,u.jsx)("div",{className:"p-6",children:(0,u.jsx)("p",{className:"text-gray-500",children:"Buscando informaci\xf3n del pedido..."})})]})})]})]}):(0,u.jsx)(i.C5,{to:"/"})}))},1804:(e,t,s)=>{s.d(t,{ES:()=>n,Jb:()=>r,OL:()=>c,Su:()=>l,_q:()=>d});var a=s(6213),i=s(4308);const r=()=>async e=>{if(localStorage.getItem("access")){const s={headers:{Accept:"application/json",Authorization:`JWT ${localStorage.getItem("access")}`}};try{const t=await a.A.get("http://localhost:8000/api/orders/get-orders",s);200===t.status?e({type:i.f3,payload:t.data}):e({type:i.ul})}catch(t){e({type:i.ul})}}},d=e=>async t=>{if(localStorage.getItem("access")){const r={headers:{Accept:"application/json",Authorization:`JWT ${localStorage.getItem("access")}`}};try{const s=await a.A.get(`http://localhost:8000/api/orders/get-order/${e}`,r);200===s.status?t({type:i.Ny,payload:s.data}):t({type:i.NI})}catch(s){t({type:i.NI})}}},l=()=>async e=>{if(localStorage.getItem("access")){const s={headers:{Accept:"application/json",Authorization:`JWT ${localStorage.getItem("access")}`}};try{const t=await a.A.get("http://localhost:8000/api/cart/get-items",s);200===t.status?e({type:i._W,payload:t.data}):e({type:i.BS})}catch(t){e({type:i.BS})}}},c=()=>async e=>{if(localStorage.getItem("access")){const s={headers:{Accept:"application/json",Authorization:`JWT ${localStorage.getItem("access")}`}};try{const t=await a.A.get("http://localhost:8000/api/cart/get-total",s);200===t.status?e({type:i.oy,payload:t.data}):e({type:i.pp})}catch(t){e({type:i.pp})}}},n=()=>async e=>{if(localStorage.getItem("access")){const s={headers:{Accept:"application/json",Authorization:`JWT ${localStorage.getItem("access")}`}};try{const t=await a.A.get("http://localhost:8000/api/cart/get-item-total",s);200===t.status?e({type:i.O5,payload:t.data}):e({type:i.DY})}catch(t){e({type:i.DY})}}}}}]);
//# sourceMappingURL=406.934957c2.chunk.js.map