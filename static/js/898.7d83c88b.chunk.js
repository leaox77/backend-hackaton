"use strict";(self.webpackChunkecommerce=self.webpackChunkecommerce||[]).push([[898],{9892:(t,e,a)=>{a.r(e),a.d(e,{default:()=>A});var o=a(342),s=a(5043),i=a(3003),r=a(5475),c=a(117),n=a(579),l=a(2190),d=a(4930),p=a(9674),u=a(1051);class h extends s.Component{getSnapshotBeforeUpdate(t){const e=this.props.childRef.current;if(e&&t.isPresent&&!this.props.isPresent){const t=e.offsetParent,a=t instanceof HTMLElement&&t.offsetWidth||0,o=this.props.sizeRef.current;o.height=e.offsetHeight||0,o.width=e.offsetWidth||0,o.top=e.offsetTop,o.left=e.offsetLeft,o.right=a-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function m(t){let{children:e,isPresent:a,anchorX:o}=t;const i=(0,s.useId)(),r=(0,s.useRef)(null),c=(0,s.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=(0,s.useContext)(u.Q);return(0,s.useInsertionEffect)((()=>{const{width:t,height:e,top:s,left:n,right:d}=c.current;if(a||!r.current||!t||!e)return;const p="left"===o?`left: ${n}`:`right: ${d}`;r.current.dataset.motionPopId=i;const u=document.createElement("style");return l&&(u.nonce=l),document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`\n          [data-motion-pop-id="${i}"] {\n            position: absolute !important;\n            width: ${t}px !important;\n            height: ${e}px !important;\n            ${p}px !important;\n            top: ${s}px !important;\n          }\n        `),()=>{document.head.removeChild(u)}}),[a]),(0,n.jsx)(h,{isPresent:a,childRef:r,sizeRef:c,children:s.cloneElement(e,{ref:r})})}const g=t=>{let{children:e,initial:a,isPresent:o,onExitComplete:i,custom:r,presenceAffectsLayout:c,mode:l,anchorX:u}=t;const h=(0,d.M)(y),g=(0,s.useId)(),f=(0,s.useCallback)((t=>{h.set(t,!0);for(const e of h.values())if(!e)return;i&&i()}),[h,i]),x=(0,s.useMemo)((()=>({id:g,initial:a,isPresent:o,custom:r,onExitComplete:f,register:t=>(h.set(t,!1),()=>h.delete(t))})),c?[Math.random(),f]:[o,f]);return(0,s.useMemo)((()=>{h.forEach(((t,e)=>h.set(e,!1)))}),[o]),s.useEffect((()=>{!o&&!h.size&&i&&i()}),[o]),"popLayout"===l&&(e=(0,n.jsx)(m,{isPresent:o,anchorX:u,children:e})),(0,n.jsx)(p.t.Provider,{value:x,children:e})};function y(){return new Map}var f=a(8917);const x=t=>t.key||"";function v(t){const e=[];return s.Children.forEach(t,(t=>{(0,s.isValidElement)(t)&&e.push(t)})),e}var w=a(293);const j=t=>{let{children:e,custom:a,initial:o=!0,onExitComplete:i,presenceAffectsLayout:r=!0,mode:c="sync",propagate:p=!1,anchorX:u="left"}=t;const[h,m]=(0,f.xQ)(p),y=(0,s.useMemo)((()=>v(e)),[e]),j=p&&!h?[]:y.map(x),S=(0,s.useRef)(!0),_=(0,s.useRef)(y),A=(0,d.M)((()=>new Map)),[N,b]=(0,s.useState)(y),[I,k]=(0,s.useState)(y);(0,w.E)((()=>{S.current=!1,_.current=y;for(let t=0;t<I.length;t++){const e=x(I[t]);j.includes(e)?A.delete(e):!0!==A.get(e)&&A.set(e,!1)}}),[I,j.length,j.join("-")]);const C=[];if(y!==N){let t=[...y];for(let e=0;e<I.length;e++){const a=I[e],o=x(a);j.includes(o)||(t.splice(e,0,a),C.push(a))}return"wait"===c&&C.length&&(t=C),k(v(t)),b(y),null}const{forceRender:P}=(0,s.useContext)(l.L);return(0,n.jsx)(n.Fragment,{children:I.map((t=>{const e=x(t),s=!(p&&!h)&&(y===I||j.includes(e));return(0,n.jsx)(g,{isPresent:s,initial:!(S.current&&!o)&&void 0,custom:a,presenceAffectsLayout:r,mode:c,onExitComplete:s?void 0:()=>{if(!A.has(e))return;A.set(e,!0);let t=!0;A.forEach((e=>{e||(t=!1)})),t&&(null===P||void 0===P||P(),k(_.current),p&&(null===m||void 0===m||m()),i&&i())},anchorX:u,children:t},e)}))})};var S=a(3178),_=a(3115);const A=(0,i.Ng)((t=>({wishlist_items:t.Wishlist.items,isAuthenticated:t.Auth.isAuthenticated,user:t.Auth.user})),{setAlert:_.n,remove_wishlist_item:S.dm,get_wishlist_items:S.uO})((t=>{let{wishlist_items:e,setAlert:a,isAuthenticated:l,user:d,product:p}=t;const[u,h]=(0,s.useState)(null),[m,g]=(0,s.useState)(0),[y,f]=(0,s.useState)(null),x=(0,i.wA)(),[v,w]=(0,s.useState)(!1);(0,s.useEffect)((()=>{window.scrollTo(0,0),x((0,S.uO)())}),[v,x]),(0,s.useEffect)((()=>{if(e&&e.length>0){const t=12,a=Math.min(e.length/t*100,100);g(a)}else g(0)}),[e]);const _={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{type:"spring",stiffness:100}},exit:{scale:.8,opacity:0,transition:{duration:.3}}};return(0,n.jsx)(o.A,{children:(0,n.jsx)("div",{className:"bg-gradient-to-b from-gray-50 to-white min-h-screen",children:(0,n.jsxs)("div",{className:"max-w-7xl mx-auto pt-16 pb-24 px-4 sm:px-6 lg:px-8",children:[(0,n.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-12",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{className:"text-3xl font-extrabold tracking-tight text-gray-900 sm:text-4xl bg-clip-text text-transparent bg-black",children:"Productos Favoritos"}),(0,n.jsx)("p",{className:"mt-2 text-sm text-gray-500",children:null!==e&&void 0!==e&&e.length?`${e.length} producto${1!==e.length?"s":""} en tu lista`:"A\xfan no tienes productos favoritos"})]}),(0,n.jsx)("div",{className:"mt-4 md:mt-0",children:(0,n.jsxs)(r.N_,{to:"/shop",className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-gradient-to-r from-midnight-blue to-purple-night hover:from-crimson-red hover:to-deep-rose focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 transition-all duration-300",children:[(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mr-2 h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 8h16M4 16h16"})}),"Explorar m\xe1s productos"]})})]}),(0,n.jsx)("div",{className:"w-full bg-gray-200 h-2 rounded-full overflow-hidden mb-10",children:(0,n.jsx)(c.P.div,{initial:{width:0},animate:{width:`${m}%`},transition:{duration:1,ease:"easeOut"},className:"bg-gradient-to-r from-deep-rose via-crimson-red to-red-500 h-2"})}),e&&e.length>0?(0,n.jsx)(c.P.div,{variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},initial:"hidden",animate:"visible",className:"grid grid-cols-2 gap-y-10 gap-x-6 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5",children:(0,n.jsx)(j,{children:e.map(((t,e)=>{var o,s,i,l;return(0,n.jsx)(c.P.div,{variants:_,exit:"exit",layout:!0,className:"group relative "+(u===t.product.id?"opacity-50":""),onMouseEnter:()=>f(t.product.id),onMouseLeave:()=>f(null),children:(0,n.jsxs)("div",{className:"m-2 rounded-lg overflow-hidden bg-white shadow-md hover:shadow-xl transition-shadow duration-300 transform hover:-translate-y-1",children:[(0,n.jsxs)("div",{className:"relative pb-[100%]",children:[(0,n.jsxs)(r.N_,{to:`/product/${t.product.id}`,children:[(0,n.jsx)("img",{src:t.product.photo,alt:t.product.name,className:"p-6 absolute inset-0 w-full h-full object-cover object-center transition-transform duration-500 ease-in-out group-hover:scale-110"}),(0,n.jsx)("div",{className:"absolute inset-0 bg-black opacity-0 group-hover:opacity-10 transition-opacity duration-300"})]}),(0,n.jsx)("button",{onClick:()=>(async t=>{h(t),await x((0,S.dm)(t)),setTimeout((()=>{w((t=>!t)),a("Producto eliminado de favoritos","success"),h(null)}),300)})(t.product.id),className:"absolute top-3 right-3 z-10 bg-white text-gray-600 rounded-full p-2 shadow-md hover:bg-red-50 hover:text-red-500 transition-all duration-300 transform hover:scale-110",title:"Eliminar de favoritos",children:(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,n.jsx)("div",{className:"p-4",children:(0,n.jsxs)(r.N_,{to:`/product/${t.product.id}`,children:[(0,n.jsx)("h3",{className:"text-sm font-medium text-gray-900 line-clamp-2 h-10",children:t.product.name}),(0,n.jsxs)("div",{className:"mt-2 flex justify-between items-center",children:[(0,n.jsx)("span",{className:"text-lg",children:d&&void 0!==d.mayorista_tipo?0===d.mayorista_tipo?null===(o=t.product)||void 0===o?void 0:o.price:1===d.mayorista_tipo?null===(s=t.product)||void 0===s?void 0:s.price_mayorista_1:2===d.mayorista_tipo?null===(i=t.product)||void 0===i?void 0:i.price_mayorista_2:3===d.mayorista_tipo?null===(l=t.product)||void 0===l?void 0:l.price_mayorista_3:"N/A":"Inicia sesi\xf3n"}),(0,n.jsx)(c.P.div,{initial:{opacity:0,x:20},animate:{opacity:y===t.product.id?1:0,x:y===t.product.id?0:10},className:"text-purple-600",children:(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,n.jsx)("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})})]})]})})]})},t.product.id)}))})}):(0,n.jsxs)(c.P.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.6},className:"flex flex-col items-center justify-center py-24 text-center",children:[(0,n.jsx)(c.P.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.2,type:"spring",stiffness:100},children:(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-32 w-32 text-gray-400 mb-6 transform rotate-[-10deg]",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",children:[(0,n.jsx)("path",{d:"M6 6h15l-1.5 9h-13L4 4H2"}),(0,n.jsx)("circle",{cx:"9",cy:"20",r:"1"}),(0,n.jsx)("circle",{cx:"18",cy:"20",r:"1"})]})}),(0,n.jsx)("h2",{className:"text-2xl font-bold text-gray-700 mb-2",children:"Tu lista de favoritos est\xe1 vac\xeda"}),(0,n.jsx)("p",{className:"text-gray-500 text-lg mb-8 max-w-md",children:"Agrega productos a tus favoritos para guardarlos aqu\xed y tenerlos a la mano cuando los necesites"}),(0,n.jsx)(r.N_,{to:"/shop",className:"group relative inline-flex items-center justify-center overflow-hidden rounded-lg bg-gradient-to-br from-midnight-blue to-purple-night p-0.5 text-sm font-medium text-white hover:text-white focus:outline-none focus:ring-4 focus:ring-purple-200",children:(0,n.jsx)("span",{className:"relative rounded-md bg-white px-6 py-3 transition-all duration-75 ease-in group-hover:bg-opacity-0 text-gray-700 group-hover:text-white font-semibold",children:"Descubrir productos incre\xedbles"})})]})]})})})}))},342:(t,e,a)=>{a.d(e,{A:()=>u});var o=a(3401),s=(a(2342),a(35)),i=a(1507),r=a(9784),c=a(5043),n=a(3003),l=a(4834),d=a(8017),p=a(579);const u=(0,n.Ng)(null,{check_authenticated:s.f_,load_user:s.Jc,refresh:s.Ow,get_items:i.Su,get_total:i.OL,get_item_total:i.ES,get_user_profile:r.h})((t=>((0,c.useEffect)((()=>{t.refresh(),t.check_authenticated(),t.load_user(),t.get_items(),t.get_total(),t.get_item_total(),t.get_user_profile()}),[]),(0,p.jsxs)("div",{children:[(0,p.jsx)(l.A,{}),(0,p.jsx)(o.N9,{autoClose:5e3}),t.children,(0,p.jsx)(d.A,{})]}))))},1507:(t,e,a)=>{a.d(e,{ES:()=>n,K$:()=>i,OL:()=>c,Su:()=>r,eV:()=>l,j5:()=>d});var o=a(6213),s=a(4308);const i=t=>async e=>{if(localStorage.getItem("access")){const i={headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`JWT ${localStorage.getItem("access")}`}},r=t.id,c=JSON.stringify({product_id:r});try{const t=await o.A.post("http://localhost:8000/api/cart/add-item",c,i);201===t.status?e({type:s.CF,payload:t.data}):e({type:s.J1})}catch(a){e({type:s.J1})}}else{let a=[];localStorage.getItem("cart")&&(a=JSON.parse(localStorage.getItem("cart")));let o=!0;a.map((e=>{t.id.toString()===e.product.id.toString()&&(o=!1)}));const i={product:t,count:1};o&&a.push(i),e({type:s.SJ,payload:a})}},r=()=>async t=>{if(localStorage.getItem("access")){const a={headers:{Accept:"application/json",Authorization:`JWT ${localStorage.getItem("access")}`}};try{const e=await o.A.get("http://localhost:8000/api/cart/cart-items",a);200===e.status?t({type:s._W,payload:e.data}):t({type:s.BS})}catch(e){t({type:s.BS})}}else t({type:s.K})},c=()=>async t=>{if(localStorage.getItem("access")){const a={headers:{Accept:"application/json",Authorization:`JWT ${localStorage.getItem("access")}`}};try{const e=await o.A.get("http://localhost:8000/api/cart/get-total",a);200===e.status?t({type:s.oy,payload:e.data}):t({type:s.pp})}catch(e){t({type:s.pp})}}else{let e=0,a=0,o=[];localStorage.getItem("cart")&&(o=JSON.parse(localStorage.getItem("cart")),o.map((t=>{e+=parseFloat(t.product.price)*parseFloat(t.count),a+=parseFloat(t.product.compare_price)*parseFloat(t.count)}))),t({type:s.Kl,payload:[parseFloat(e.toFixed(2)),parseFloat(a.toFixed(2))]})}},n=()=>async t=>{if(localStorage.getItem("access")){const a={headers:{Accept:"application/json",Authorization:`JWT ${localStorage.getItem("access")}`}};try{const e=await o.A.get("http://localhost:8000/api/cart/get-item-total",a);200===e.status?t({type:s.O5,payload:e.data}):t({type:s.DY})}catch(e){t({type:s.DY})}}else{let e=0;localStorage.getItem("cart")&&(e=JSON.parse(localStorage.getItem("cart")).length),t({type:s.Ig,payload:e})}},l=(t,e)=>async a=>{if(localStorage.getItem("access")){const r={headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`JWT ${localStorage.getItem("access")}`}},c=t.product.id,n=JSON.stringify({product_id:c,count:e});try{const t=await o.A.put("http://localhost:8000/api/cart/update-item",n,r);200!==t.status||t.data.error?a({type:s.lP}):a({type:s.Qk,payload:t.data})}catch(i){a({type:s.lP})}}else{let o=[];localStorage.getItem("cart")&&(o=JSON.parse(localStorage.getItem("cart")),o.map(((a,s)=>{a.product.id.toString()===t.product.id.toString()&&(o[s].count=parseInt(e))}))),a({type:s.u3,payload:o})}},d=t=>async e=>{if(localStorage.getItem("access")){const i=t.product.id,r=JSON.stringify({product_id:i}),c={headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`JWT ${localStorage.getItem("access")}`},data:r};try{const t=await o.A.delete("http://localhost:8000/api/cart/remove-item",c);200===t.status?e({type:s.J0,payload:t.data}):e({type:s.uP})}catch(a){e({type:s.uP})}}else{let a=[],o=[];localStorage.getItem("cart")&&(a=JSON.parse(localStorage.getItem("cart")),a.map((e=>{e.product.id.toString()!==t.product.id.toString()&&o.push(e)}))),e({type:s.Zk,payload:o})}}},9784:(t,e,a)=>{a.d(e,{Y:()=>c,h:()=>r});var o=a(6213),s=a(3115),i=a(4308);const r=()=>async t=>{if(localStorage.getItem("access")){const a={headers:{Accept:"application/json",Authorization:`JWT ${localStorage.getItem("access")}`}};try{const e=await o.A.get("http://localhost:8000/api/profile/user",a);200===e.status?t({type:i.xC,payload:e.data}):t({type:i.kA})}catch(e){t({type:i.kA})}}},c=(t,e,a,r,c,n,l)=>async d=>{if(localStorage.getItem("access")){const u={headers:{Accept:"application/json","Content-Type":"application/json",Authorization:`JWT ${localStorage.getItem("access")}`}},h=JSON.stringify({address_line_1:t,address_line_2:e,city:a,state_province_region:r,zipcode:c,phone:n,country_region:l});try{const t=await o.A.put("http://localhost:8000/api/profile/update",h,u);200===t.status?(d({type:i.Mf,payload:t.data}),d((0,s.n)("Profile updated successfully","green"))):(d({type:i.TX}),d((0,s.n)("Failed to update profile","red")))}catch(p){d({type:i.TX}),d((0,s.n)("Failed to update profile","red"))}}}},3178:(t,e,a)=>{a.d(e,{OY:()=>c,dm:()=>l,mN:()=>n,uO:()=>r});var o=a(6213),s=a(4308);const i=()=>({headers:{Authorization:`JWT ${localStorage.getItem("access")}`,"Content-Type":"application/json",Accept:"application/json"}}),r=()=>async t=>{if(localStorage.getItem("access"))try{const e=await o.A.get("http://localhost:8000/api/wishlist/wishlist-items",i());t({type:s.Q$,payload:e.data})}catch(e){t({type:s.ti})}},c=t=>async e=>{if(!localStorage.getItem("access"))return;const a=JSON.stringify({product_id:t});try{const t=await o.A.post("http://localhost:8000/api/wishlist/add-item",a,i());e({type:s.eW,payload:t.data})}catch(r){e({type:s.Xd})}},n=()=>async t=>{if(localStorage.getItem("access"))try{const e=await o.A.get("http://localhost:8000/api/wishlist/get-item-total",i());t({type:s.qT,payload:e.data})}catch(e){t({type:s.hZ})}},l=t=>async e=>{if(!localStorage.getItem("access"))return;const a={...i(),data:{product_id:t}};try{await o.A.delete("http://localhost:8000/api/wishlist/remove-item",a),e({type:s.$F,payload:t}),console.log("\ud83d\ude80 Producto eliminado del wishlist:",t)}catch(r){e({type:s.in})}}}}]);
//# sourceMappingURL=898.7d83c88b.chunk.js.map