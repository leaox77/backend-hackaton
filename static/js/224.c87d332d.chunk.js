"use strict";(self.webpackChunkecommerce=self.webpackChunkecommerce||[]).push([[224],{2470:(t,e,a)=>{a.r(e),a.d(e,{default:()=>i});var o=a(342),s=a(5043),r=a(3003),c=a(35),l=a(579);const n=t=>{let{label:e,name:a,type:o="text",value:s,onChange:r,error:c}=t;return(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:a,className:"block text-sm font-medium text-gray-700",children:e}),(0,l.jsx)("input",{id:a,name:a,type:o,value:s,onChange:r,className:`mt-1 block w-full px-3 py-2 border ${c?"border-red-500":"border-gray-300"} rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm`}),c&&(0,l.jsx)("p",{className:"mt-1 text-sm text-red-500",children:c})]})},i=(0,r.Ng)((t=>({})),{signup:c.$5})((t=>{let{signup:e}=t;(0,s.useEffect)((()=>{window.scrollTo(0,0)}),[]);const[a,r]=(0,s.useState)(!1),[c,i]=(0,s.useState)({first_name:"",last_name:"",email:"",password:"",re_password:""}),[p,d]=(0,s.useState)({}),{first_name:g,last_name:m,email:u,password:y,re_password:h}=c,f=t=>i({...c,[t.target.name]:t.target.value});return(0,l.jsx)(o.A,{children:(0,l.jsx)("div",{className:"min-h-full flex justify-center items-center py-8 px-4 sm:px-6 lg:px-8",children:(0,l.jsxs)("div",{className:"flex bg-white shadow-md border border-gray-200 rounded-lg w-[80%] sm:w-[60%] md:w-[50%] lg:w-[40%]",children:[(0,l.jsx)("div",{className:"w-[23%] bg-gradient-to-r from-crimson-red via-deep-rose via-dark-burgundy via-royal-purple to-midnight-blue rounded-l-lg rounded-tr-[18px] rounded-br-[18px] hidden sm:block"}),(0,l.jsxs)("div",{className:"px-6 py-8 flex-1",children:[(0,l.jsx)("h2",{className:"text-2xl font-bold text-center text-gray-900",children:"Crear cuenta"}),(0,l.jsxs)("form",{onSubmit:t=>{t.preventDefault(),(()=>{const t={};return g.trim()||(t.first_name="El nombre es obligatorio"),m.trim()||(t.last_name="El apellido es obligatorio"),/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(u)||(t.email="Correo no v\xe1lido"),/^(?=.*[A-Z])(?=.*\d)(?=.*[!@#$%^&*])[A-Za-z\d!@#$%^&*]{8,}$/.test(y)||(t.password="La contrase\xf1a debe tener al menos 8 caracteres, una may\xfascula, un n\xfamero y un s\xedmbolo"),y!==h&&(t.re_password="Las contrase\xf1as deben coincidir"),d(t),0===Object.keys(t).length})()&&(e(g,m,u,y,h),r(!0),window.scrollTo(0,0))},className:"space-y-5 mt-5",children:[(0,l.jsx)(n,{label:"Nombre",name:"first_name",value:g,onChange:f,error:p.first_name}),(0,l.jsx)(n,{label:"Apellido",name:"last_name",value:m,onChange:f,error:p.last_name}),(0,l.jsx)(n,{label:"Correo",name:"email",type:"email",value:u,onChange:f,error:p.email}),(0,l.jsx)(n,{label:"Contrase\xf1a",name:"password",type:"password",value:y,onChange:f,error:p.password}),(0,l.jsx)(n,{label:"Confirmar contrase\xf1a",name:"re_password",type:"password",value:h,onChange:f,error:p.re_password}),(0,l.jsx)("button",{type:"submit",className:"w-full bg-midnight-blue hover:bg-purple-night text-white py-2 px-4 rounded-md shadow-md focus:outline-none",children:"Registrarse"})]})]})]})})})}))},342:(t,e,a)=>{a.d(e,{A:()=>g});var o=a(3401),s=(a(2342),a(35)),r=a(1507),c=a(9784),l=a(5043),n=a(3003),i=a(4834),p=a(8017),d=a(579);const g=(0,n.Ng)(null,{check_authenticated:s.f_,load_user:s.Jc,refresh:s.Ow,get_items:r.Su,get_total:r.OL,get_item_total:r.ES,get_user_profile:c.h})((t=>((0,l.useEffect)((()=>{t.refresh(),t.check_authenticated(),t.load_user(),t.get_items(),t.get_total(),t.get_item_total(),t.get_user_profile()}),[]),(0,d.jsxs)("div",{children:[(0,d.jsx)(i.A,{}),(0,d.jsx)(o.N9,{autoClose:5e3}),t.children,(0,d.jsx)(p.A,{})]}))))},1507:(t,e,a)=>{a.d(e,{ES:()=>n,K$:()=>r,OL:()=>l,Su:()=>c,eV:()=>i,j5:()=>p});var o=a(6213),s=a(4308);const r=t=>async e=>{if(localStorage.getItem("access")){const r={headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`JWT ${localStorage.getItem("access")}`}},c=t.id,l=JSON.stringify({product_id:c});try{const t=await o.A.post("http://localhost:8000/api/cart/add-item",l,r);201===t.status?e({type:s.CF,payload:t.data}):e({type:s.J1})}catch(a){e({type:s.J1})}}else{let a=[];localStorage.getItem("cart")&&(a=JSON.parse(localStorage.getItem("cart")));let o=!0;a.map((e=>{t.id.toString()===e.product.id.toString()&&(o=!1)}));const r={product:t,count:1};o&&a.push(r),e({type:s.SJ,payload:a})}},c=()=>async t=>{if(localStorage.getItem("access")){const a={headers:{Accept:"application/json",Authorization:`JWT ${localStorage.getItem("access")}`}};try{const e=await o.A.get("http://localhost:8000/api/cart/cart-items",a);200===e.status?t({type:s._W,payload:e.data}):t({type:s.BS})}catch(e){t({type:s.BS})}}else t({type:s.K})},l=()=>async t=>{if(localStorage.getItem("access")){const a={headers:{Accept:"application/json",Authorization:`JWT ${localStorage.getItem("access")}`}};try{const e=await o.A.get("http://localhost:8000/api/cart/get-total",a);200===e.status?t({type:s.oy,payload:e.data}):t({type:s.pp})}catch(e){t({type:s.pp})}}else{let e=0,a=0,o=[];localStorage.getItem("cart")&&(o=JSON.parse(localStorage.getItem("cart")),o.map((t=>{e+=parseFloat(t.product.price)*parseFloat(t.count),a+=parseFloat(t.product.compare_price)*parseFloat(t.count)}))),t({type:s.Kl,payload:[parseFloat(e.toFixed(2)),parseFloat(a.toFixed(2))]})}},n=()=>async t=>{if(localStorage.getItem("access")){const a={headers:{Accept:"application/json",Authorization:`JWT ${localStorage.getItem("access")}`}};try{const e=await o.A.get("http://localhost:8000/api/cart/get-item-total",a);200===e.status?t({type:s.O5,payload:e.data}):t({type:s.DY})}catch(e){t({type:s.DY})}}else{let e=0;localStorage.getItem("cart")&&(e=JSON.parse(localStorage.getItem("cart")).length),t({type:s.Ig,payload:e})}},i=(t,e)=>async a=>{if(localStorage.getItem("access")){const c={headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`JWT ${localStorage.getItem("access")}`}},l=t.product.id,n=JSON.stringify({product_id:l,count:e});try{const t=await o.A.put("http://localhost:8000/api/cart/update-item",n,c);200!==t.status||t.data.error?a({type:s.lP}):a({type:s.Qk,payload:t.data})}catch(r){a({type:s.lP})}}else{let o=[];localStorage.getItem("cart")&&(o=JSON.parse(localStorage.getItem("cart")),o.map(((a,s)=>{a.product.id.toString()===t.product.id.toString()&&(o[s].count=parseInt(e))}))),a({type:s.u3,payload:o})}},p=t=>async e=>{if(localStorage.getItem("access")){const r=t.product.id,c=JSON.stringify({product_id:r}),l={headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`JWT ${localStorage.getItem("access")}`},data:c};try{const t=await o.A.delete("http://localhost:8000/api/cart/remove-item",l);200===t.status?e({type:s.J0,payload:t.data}):e({type:s.uP})}catch(a){e({type:s.uP})}}else{let a=[],o=[];localStorage.getItem("cart")&&(a=JSON.parse(localStorage.getItem("cart")),a.map((e=>{e.product.id.toString()!==t.product.id.toString()&&o.push(e)}))),e({type:s.Zk,payload:o})}}},9784:(t,e,a)=>{a.d(e,{Y:()=>l,h:()=>c});var o=a(6213),s=a(3115),r=a(4308);const c=()=>async t=>{if(localStorage.getItem("access")){const a={headers:{Accept:"application/json",Authorization:`JWT ${localStorage.getItem("access")}`}};try{const e=await o.A.get("http://localhost:8000/api/profile/user",a);200===e.status?t({type:r.xC,payload:e.data}):t({type:r.kA})}catch(e){t({type:r.kA})}}},l=(t,e,a,c,l,n,i)=>async p=>{if(localStorage.getItem("access")){const g={headers:{Accept:"application/json","Content-Type":"application/json",Authorization:`JWT ${localStorage.getItem("access")}`}},m=JSON.stringify({address_line_1:t,address_line_2:e,city:a,state_province_region:c,zipcode:l,phone:n,country_region:i});try{const t=await o.A.put("http://localhost:8000/api/profile/update",m,g);200===t.status?(p({type:r.Mf,payload:t.data}),p((0,s.n)("Profile updated successfully","green"))):(p({type:r.TX}),p((0,s.n)("Failed to update profile","red")))}catch(d){p({type:r.TX}),p((0,s.n)("Failed to update profile","red"))}}}}}]);
//# sourceMappingURL=224.c87d332d.chunk.js.map