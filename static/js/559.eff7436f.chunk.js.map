{"version":3,"file":"static/js/559.eff7436f.chunk.js","mappings":"qMA4FA,MAKA,GAAeA,EAAAA,EAAAA,KALUC,IAAK,CAC1BC,qBAAsBD,EAAME,GAAGD,qBAC/BE,wBAAyBH,EAAME,GAAGC,2BAGE,CACpCC,yBCpEqCC,GAAYC,UACjD,MAAMC,EAAS,CACXC,QAAS,CACL,eAAgB,mBAChBC,OAAQ,qBAIVC,EAAOC,KAAKC,UAAU,CAAEP,YAE9B,IACI,MAAMQ,QAAYC,EAAAA,EAAMC,KACpB,mDACAL,EACAH,GAGJS,EAAS,CACLC,KAAMC,EAAAA,GACNC,QAASN,EAAIO,KAAKC,YAE1B,CAAE,MAAOC,GAAQ,IAADC,EACZC,QAAQF,MAAM,4BAAsC,QAAhBC,EAAED,EAAMG,gBAAQ,IAAAF,OAAA,EAAdA,EAAgBH,MACtDJ,EAAS,CACLC,KAAMS,EAAAA,IAEd,GD2CAC,sBCzFiCA,IAAMrB,UACvC,IACI,MAAMO,QAAYC,EAAAA,EAAMc,IAAI,iDAA6D,CACrFpB,QAAS,CACLC,OAAQ,sBAIhBO,EAAS,CACLC,KAAMY,EAAAA,GACNV,QAASN,EAAIO,KAAKU,SAE1B,CAAE,MAAOR,GACLN,EAAS,CACLC,KAAMc,EAAAA,IAEd,IDuEJ,EA5FA,SAA0BC,GAKtB,IALuB,qBACvB/B,EAAoB,wBACpBE,EAAuB,yBACvBC,EAAwB,sBACxBuB,GACHK,EACG,MAAO3B,EAAS4B,IAAcC,EAAAA,EAAAA,UAAS,KAChCC,EAAWC,IAAgBF,EAAAA,EAAAA,WAAS,GAkC3C,OAhCAV,QAAQa,IAAI,qDAA4CpC,IAaxDqC,EAAAA,EAAAA,YAAU,KACN,GAA6B,OAAzBrC,EAA+B,CAC/BuB,QAAQa,IAAI,8DACZD,GAAa,GACb,MAAMG,EAAQC,YAAW,KACrBJ,GAAa,GACbZ,QAAQa,IAAI,0CAAkC,GAC/C,KACH,MAAO,IAAMI,aAAaF,EAC9B,IACD,CAACtC,KAUAyC,EAAAA,EAAAA,KAACC,EAAAA,EAAe,CAAAC,UACZC,EAAAA,EAAAA,MAAA,OAAKC,UAAU,2DAA0DF,SAAA,EACrEF,EAAAA,EAAAA,KAAA,MAAII,UAAU,8BAA6BF,SAAC,gCAE5CF,EAAAA,EAAAA,KAAA,UACIK,QApCIC,KAChBrB,GAAuB,EAoCXmB,UAAU,yEAAwEF,SACrF,oBAIAzC,IACGuC,EAAAA,EAAAA,KAAA,KAAGI,UAAU,sBAAqBF,SAAEzC,KAGxCuC,EAAAA,EAAAA,KAAA,YACIO,MAAO5C,EACP6C,SAAWC,GAAMlB,EAAWkB,EAAEC,OAAOH,OACrCI,YAAY,2BACZP,UAAU,oDACVQ,KAAM,KAGVZ,EAAAA,EAAAA,KAAA,UACIK,QAnDMQ,KACK,KAAnBlD,EAAQmD,SACRhC,QAAQa,IAAI,kDAA2ChC,GACvDD,EAAyBC,GAC7B,EAgDYyC,UAAU,gEAA+DF,SAC5E,wBAKAT,GAAalC,IACV4C,EAAAA,EAAAA,MAAA,OACIC,UAAW,6DAzCJW,EA0CHxD,EAzCF,aAAdwD,EAAiC,eACnB,aAAdA,EAAiC,gBACnB,aAAdA,EAAiC,aAC9B,eAuCab,SAAA,CACP,uCACwC3C,EAAqByD,sBA7CnDD,KAmD/B,G,sIExEA,MAuBA,GAAe1D,EAAAA,EAAAA,IAAQ,KAAM,CACzB4D,oBAAmB,KACnBC,UAAS,KACTC,QAAO,KACPC,UAAS,KACTC,UAAS,KACTC,eAAc,KACdC,iBACJ,KARA,EAvBgBC,KAEZ5B,EAAAA,EAAAA,YAAU,KACN4B,EAAML,UACNK,EAAMP,sBACNO,EAAMN,YACNM,EAAMJ,YACNI,EAAMH,YACNG,EAAMF,iBACNE,EAAMD,kBAAkB,GACzB,KAGCpB,EAAAA,EAAAA,MAAA,OAAAD,SAAA,EACIF,EAAAA,EAAAA,KAACyB,EAAAA,EAAM,KACPzB,EAAAA,EAAAA,KAAC0B,EAAAA,GAAc,CAACC,UAAW,MAC1BH,EAAMtB,UACPF,EAAAA,EAAAA,KAAC4B,EAAAA,EAAM,S,wGCPZ,MAAMC,EAAWC,GAAWlE,UAC/B,GAAImE,aAAaC,QAAQ,UAAW,CAChC,MAAMnE,EAAS,CACXC,QAAS,CACL,eAAgB,mBAChB,OAAU,mBACV,cAAiB,OAAOiE,aAAaC,QAAQ,cAI/CC,EAAaH,EAAQI,GACrBlE,EAAOC,KAAKC,UAAU,CAAE+D,eAE9B,IACI,MAAM9D,QAAYC,EAAAA,EAAMC,KAAK,0CAAsDL,EAAMH,GAEtE,MAAfM,EAAIgE,OACJ7D,EAAS,CACLC,KAAM6D,EAAAA,GACN3D,QAASN,EAAIO,OAGjBJ,EAAS,CACLC,KAAM8D,EAAAA,IAGlB,CAAE,MAAMC,GACJhE,EAAS,CACLC,KAAM8D,EAAAA,IAEd,CAEJ,KAAO,CACH,IAAIE,EAAO,GAEPR,aAAaC,QAAQ,UACrBO,EAAOtE,KAAKuE,MAAMT,aAAaC,QAAQ,UAG3C,IAAIS,GAAgB,EAEpBF,EAAKG,KAAIC,IACDb,EAAQI,GAAGU,aAAeD,EAAKb,QAAQI,GAAGU,aAC1CH,GAAgB,EACpB,IAGJ,MAAMI,EAAa,CACff,QAASA,EACTgB,MAAO,GAGPL,GACAF,EAAKQ,KAAKF,GAGdvE,EAAS,CACLC,KAAMyE,EAAAA,GACNvE,QAAS8D,GAEjB,GAISnB,EAAYA,IAAMxD,UAC3B,GAAImE,aAAaC,QAAQ,UAAW,CAChC,MAAMnE,EAAS,CACXC,QAAS,CACL,OAAU,mBACV,cAAiB,OAAOiE,aAAaC,QAAQ,cAIrD,IACI,MAAM7D,QAAYC,EAAAA,EAAMc,IAAI,4CAAwDrB,GAEjE,MAAfM,EAAIgE,OACJ7D,EAAS,CACLC,KAAM0E,EAAAA,GACNxE,QAASN,EAAIO,OAGjBJ,EAAS,CACLC,KAAM2E,EAAAA,IAGlB,CAAE,MAAMZ,GACJhE,EAAS,CACLC,KAAM2E,EAAAA,IAEd,CACJ,MACI5E,EAAS,CACLC,KAAM4E,EAAAA,GAEd,EAGS9B,EAAYA,IAAMzD,UAC3B,GAAImE,aAAaC,QAAQ,UAAW,CAChC,MAAMnE,EAAS,CACXC,QAAS,CACL,OAAU,mBACV,cAAiB,OAAOiE,aAAaC,QAAQ,cAIrD,IACI,MAAM7D,QAAYC,EAAAA,EAAMc,IAAI,2CAAuDrB,GAEhE,MAAfM,EAAIgE,OACJ7D,EAAS,CACLC,KAAM6E,EAAAA,GACN3E,QAASN,EAAIO,OAGjBJ,EAAS,CACLC,KAAM8E,EAAAA,IAGlB,CAAE,MAAMf,GACJhE,EAAS,CACLC,KAAM8E,EAAAA,IAEd,CACJ,KAAO,CACH,IAAIC,EAAQ,EACRC,EAAgB,EAChBhB,EAAO,GAEPR,aAAaC,QAAQ,UACrBO,EAAOtE,KAAKuE,MAAMT,aAAaC,QAAQ,SAEvCO,EAAKG,KAAIC,IACLW,GAASE,WAAWb,EAAKb,QAAQ2B,OAASD,WAAWb,EAAKG,OAC1DS,GAAiBC,WAAWb,EAAKb,QAAQ4B,eAAiBF,WAAWb,EAAKG,MAAM,KAIxFxE,EAAS,CACLC,KAAMoF,EAAAA,GACNlF,QAAS,CAAC+E,WAAWF,EAAMM,QAAQ,IAAKJ,WAAWD,EAAcK,QAAQ,MAEjF,GAIStC,EAAiBA,IAAM1D,UAChC,GAAImE,aAAaC,QAAQ,UAAW,CAChC,MAAMnE,EAAS,CACXC,QAAS,CACL,OAAU,mBACV,cAAiB,OAAOiE,aAAaC,QAAQ,cAIrD,IACI,MAAM7D,QAAYC,EAAAA,EAAMc,IAAI,gDAA4DrB,GAErE,MAAfM,EAAIgE,OACJ7D,EAAS,CACLC,KAAMsF,EAAAA,GACNpF,QAASN,EAAIO,OAGjBJ,EAAS,CACLC,KAAMuF,EAAAA,IAGlB,CAAE,MAAMxB,GACJhE,EAAS,CACLC,KAAMuF,EAAAA,IAEd,CACJ,KAAO,CACH,IAAIR,EAAQ,EAERvB,aAAaC,QAAQ,UACrBsB,EAAQrF,KAAKuE,MAAMT,aAAaC,QAAQ,SAAS+B,QAGrDzF,EAAS,CACLC,KAAMyF,EAAAA,GACNvF,QAAS6E,GAEjB,GAGSW,EAAcA,CAACtB,EAAMG,IAAUlF,UACxC,GAAImE,aAAaC,QAAQ,UAAW,CAChC,MAAMnE,EAAS,CACXC,QAAS,CACL,eAAgB,mBAChB,OAAU,mBACV,cAAiB,OAAOiE,aAAaC,QAAQ,cAI/CC,EAAaU,EAAKb,QAAQI,GAC1BlE,EAAOC,KAAKC,UAAU,CAAE+D,aAAYa,UAE1C,IACI,MAAM3E,QAAYC,EAAAA,EAAM8F,IAAI,6CAAyDlG,EAAMH,GAExE,MAAfM,EAAIgE,QAAmBhE,EAAIO,KAAKE,MAMhCN,EAAS,CACLC,KAAM4F,EAAAA,KANV7F,EAAS,CACLC,KAAM6F,EAAAA,GACN3F,QAASN,EAAIO,MAOzB,CAAE,MAAM4D,GACJhE,EAAS,CACLC,KAAM4F,EAAAA,IAEd,CAEJ,KAAO,CACH,IAAI5B,EAAO,GAEPR,aAAaC,QAAQ,UACrBO,EAAOtE,KAAKuE,MAAMT,aAAaC,QAAQ,SAEvCO,EAAKG,KAAI,CAAC2B,EAAWC,KACbD,EAAUvC,QAAQI,GAAGU,aAAeD,EAAKb,QAAQI,GAAGU,aACpDL,EAAK+B,GAAOxB,MAAQyB,SAASzB,GACjC,KAIRxE,EAAS,CACLC,KAAMiG,EAAAA,GACN/F,QAAS8D,GAEjB,GAISkC,EAAc9B,GAAQ/E,UAC/B,GAAImE,aAAaC,QAAQ,UAAW,CAChC,MAAMC,EAAaU,EAAKb,QAAQI,GAC1BlE,EAAOC,KAAKC,UAAU,CAAE+D,eAGxBpE,EAAS,CACXC,QAAS,CACL,eAAgB,mBAChB,OAAU,mBACV,cAAiB,OAAOiE,aAAaC,QAAQ,aAEjDtD,KAAMV,GAGV,IACI,MAAMG,QAAYC,EAAAA,EAAMsG,OAAO,6CAAyD7G,GAErE,MAAfM,EAAIgE,OACJ7D,EAAS,CACLC,KAAMoG,EAAAA,GACNlG,QAASN,EAAIO,OAGjBJ,EAAS,CACLC,KAAMqG,EAAAA,IAGlB,CAAE,MAAMtC,GACJhE,EAAS,CACLC,KAAMqG,EAAAA,IAEd,CACJ,KAAO,CACH,IAAIrC,EAAO,GACPsC,EAAW,GAEX9C,aAAaC,QAAQ,UACrBO,EAAOtE,KAAKuE,MAAMT,aAAaC,QAAQ,SAEvCO,EAAKG,KAAI2B,IACDA,EAAUvC,QAAQI,GAAGU,aAAeD,EAAKb,QAAQI,GAAGU,YACpDiC,EAAS9B,KAAKsB,EAClB,KAIR/F,EAAS,CACLC,KAAMuG,EAAAA,GACNrG,QAASoG,GAEjB,E,4ECvTG,MAAMtD,EAAmBA,IAAM3D,UAClC,GAAImE,aAAaC,QAAQ,UAAW,CAChC,MAAMnE,EAAS,CACXC,QAAS,CACL,OAAU,mBACV,cAAiB,OAAOiE,aAAaC,QAAQ,cAIrD,IACI,MAAM7D,QAAYC,EAAAA,EAAMc,IAAI,yCAAqDrB,GAE9D,MAAfM,EAAIgE,OACJ7D,EAAS,CACLC,KAAMwG,EAAAA,GACNtG,QAASN,EAAIO,OAGjBJ,EAAS,CACLC,KAAMyG,EAAAA,IAGlB,CAAE,MAAM1C,GACJhE,EAAS,CACLC,KAAMyG,EAAAA,IAEd,CACJ,GAISC,EAAsBA,CAC/BC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,IACC5H,UACD,GAAImE,aAAaC,QAAQ,UAAW,CAChC,MAAMnE,EAAS,CACXC,QAAS,CACL,OAAU,mBACV,eAAgB,mBAChB,cAAiB,OAAOiE,aAAaC,QAAQ,cAI/ChE,EAAOC,KAAKC,UAAU,CACxBgH,iBACAC,iBACAC,OACAC,wBACAC,UACAC,QACAC,mBAGJ,IACI,MAAMrH,QAAYC,EAAAA,EAAM8F,IAAI,2CAAuDlG,EAAMH,GAEtE,MAAfM,EAAIgE,QACJ7D,EAAS,CACLC,KAAMkH,EAAAA,GACNhH,QAASN,EAAIO,OAEjBJ,GAASoH,EAAAA,EAAAA,GAAS,+BAAgC,YAElDpH,EAAS,CACLC,KAAMoH,EAAAA,KAEVrH,GAASoH,EAAAA,EAAAA,GAAS,2BAA4B,QAEtD,CAAE,MAAMpD,GACJhE,EAAS,CACLC,KAAMoH,EAAAA,KAEVrH,GAASoH,EAAAA,EAAAA,GAAS,2BAA4B,OAClD,CACJ,E","sources":["containers/ai/SentimentAnalysis.jsx","redux/actions/rl.js","hocs/Layout.js","redux/actions/cart.js","redux/actions/profile.js"],"sourcesContent":["import { connect } from \"react-redux\";\r\nimport FullWidthLayout from \"../../hocs/Layout\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { get_sentiment_prediction, train_sentiment_model } from \"../../redux/actions/rl\";\r\n\r\nfunction SentimentAnalysis({\r\n    sentiment_prediction,\r\n    sentiment_model_message,\r\n    get_sentiment_prediction,\r\n    train_sentiment_model,\r\n}) {\r\n    const [comment, setComment] = useState(\"\");\r\n    const [showAlert, setShowAlert] = useState(false);\r\n\r\n    console.log(\"üî• Valor actual de sentiment_prediction:\", sentiment_prediction);\r\n\r\n    const handleTrain = () => {\r\n        train_sentiment_model();\r\n    };\r\n\r\n    const handlePredict = () => {\r\n        if (comment.trim() !== \"\") {\r\n            console.log(\"‚úÖ Bot√≥n presionado, comentario enviado:\", comment);\r\n            get_sentiment_prediction(comment);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (sentiment_prediction !== null) {\r\n            console.log(\"üéâ Se activ√≥ el useEffect para mostrar alerta\");\r\n            setShowAlert(true);\r\n            const timer = setTimeout(() => {\r\n                setShowAlert(false);\r\n                console.log(\"‚åõ Alerta oculta autom√°ticamente\");\r\n            }, 3000);\r\n            return () => clearTimeout(timer);\r\n        }\r\n    }, [sentiment_prediction]);\r\n\r\n    const getSentimentColor = (sentiment) => {\r\n        if (sentiment === \"positivo\") return \"bg-green-500\";\r\n        if (sentiment === \"negativo\") return \"bg-yellow-500\";\r\n        if (sentiment === \"agresivo\") return \"bg-red-600\";\r\n        return \"bg-gray-500\";\r\n    };\r\n\r\n    return (\r\n        <FullWidthLayout>\r\n            <div className=\"max-w-2xl mx-auto mt-6 p-6 bg-white rounded-lg shadow-md\">\r\n                <h2 className=\"text-2xl font-semibold mb-4\">An√°lisis de Sentimiento</h2>\r\n\r\n                <button\r\n                    onClick={handleTrain}\r\n                    className=\"mb-4 bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700\"\r\n                >\r\n                    Entrenar Modelo\r\n                </button>\r\n\r\n                {sentiment_model_message && (\r\n                    <p className=\"mb-4 text-green-700\">{sentiment_model_message}</p>\r\n                )}\r\n\r\n                <textarea\r\n                    value={comment}\r\n                    onChange={(e) => setComment(e.target.value)}\r\n                    placeholder=\"Escribe un comentario...\"\r\n                    className=\"w-full border border-gray-300 rounded-md p-3 mb-4\"\r\n                    rows={4}\r\n                />\r\n\r\n                <button\r\n                    onClick={handlePredict}\r\n                    className=\"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700\"\r\n                >\r\n                    Analizar Comentario\r\n                </button>\r\n\r\n                {/* Alerta din√°mica */}\r\n                {showAlert && sentiment_prediction && (\r\n                    <div\r\n                        className={`mt-4 p-4 rounded-md text-white font-semibold text-center ${getSentimentColor(\r\n                            sentiment_prediction\r\n                        )}`}\r\n                    >\r\n                        El comentario fue clasificado como: {sentiment_prediction.toUpperCase()}\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </FullWidthLayout>\r\n    );\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    sentiment_prediction: state.rl.sentiment_prediction,\r\n    sentiment_model_message: state.rl.sentiment_model_message,\r\n});\r\n\r\nexport default connect(mapStateToProps, {\r\n    get_sentiment_prediction,\r\n    train_sentiment_model,\r\n})(SentimentAnalysis);\r\n","import {\r\n    TRAIN_SENTIMENT_MODEL_SUCCESS,\r\n    TRAIN_SENTIMENT_MODEL_FAIL,\r\n    GET_SENTIMENT_PREDICTION_SUCCESS,\r\n    GET_SENTIMENT_PREDICTION_FAIL\r\n} from './types';\r\n\r\nimport axios from 'axios';\r\n\r\n// Entrena el modelo\r\nexport const train_sentiment_model = () => async dispatch => {\r\n    try {\r\n        const res = await axios.get(`${process.env.REACT_APP_API_URL}/api/ml/sentimiento/train`, {\r\n            headers: {\r\n                Accept: 'application/json',\r\n            }\r\n        });\r\n\r\n        dispatch({\r\n            type: TRAIN_SENTIMENT_MODEL_SUCCESS,\r\n            payload: res.data.message\r\n        });\r\n    } catch (error) {\r\n        dispatch({\r\n            type: TRAIN_SENTIMENT_MODEL_FAIL\r\n        });\r\n    }\r\n};\r\n\r\n// Realiza una predicci√≥n de sentimiento\r\nexport const get_sentiment_prediction = (comment) => async dispatch => {\r\n    const config = {\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n            Accept: 'application/json',\r\n        }\r\n    };\r\n\r\n    const body = JSON.stringify({ comment });  // üî• Esto es CLAVE\r\n\r\n    try {\r\n        const res = await axios.post(\r\n            `${process.env.REACT_APP_API_URL}/api/ml/sentimiento/predict`,\r\n            body,\r\n            config\r\n        );\r\n\r\n        dispatch({\r\n            type: GET_SENTIMENT_PREDICTION_SUCCESS,\r\n            payload: res.data.prediction\r\n        });\r\n    } catch (error) {\r\n        console.error(\"‚ùå ERROR AL PREDECIR:\", error.response?.data);\r\n        dispatch({\r\n            type: GET_SENTIMENT_PREDICTION_FAIL\r\n        });\r\n    }\r\n};\r\n","import { ToastContainer } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport { check_authenticated, load_user, refresh } from '../redux/actions/auth';\r\nimport {\r\n    get_items,\r\n    get_total,\r\n    get_item_total\r\n} from \"../redux/actions/cart\";\r\n\r\nimport {\r\n    get_user_profile\r\n} from \"../redux/actions/profile\";\r\n\r\nimport { useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Navbar from '../components/navigation/Navbar';\r\nimport Footer from '../components/navigation/Footer';\r\n\r\nconst Layout = (props) => {\r\n\r\n    useEffect(() => {\r\n        props.refresh()\r\n        props.check_authenticated()\r\n        props.load_user()\r\n        props.get_items()\r\n        props.get_total()\r\n        props.get_item_total()\r\n        props.get_user_profile()\r\n    }, []);\r\n\r\n    return(\r\n        <div>\r\n            <Navbar/>\r\n            <ToastContainer autoClose={5000} />\r\n            {props.children}\r\n            <Footer/>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default connect(null, {\r\n    check_authenticated,\r\n    load_user,\r\n    refresh,\r\n    get_items,\r\n    get_total,\r\n    get_item_total,\r\n    get_user_profile\r\n}) (Layout)","import axios from 'axios';\r\nimport {\r\n    ADD_ITEM,\r\n    GET_TOTAL,\r\n    GET_ITEM_TOTAL,\r\n    GET_ITEMS,\r\n    UPDATE_ITEM,\r\n    REMOVE_ITEM,\r\n    EMPTY_CART,\r\n    ADD_ITEM_SUCCESS,\r\n    ADD_ITEM_FAIL,\r\n    GET_TOTAL_SUCCESS,\r\n    GET_TOTAL_FAIL,\r\n    GET_ITEM_TOTAL_SUCCESS,\r\n    GET_ITEM_TOTAL_FAIL,\r\n    GET_ITEMS_SUCCESS,\r\n    GET_ITEMS_FAIL,\r\n    UPDATE_ITEM_SUCCESS,\r\n    UPDATE_ITEM_FAIL,\r\n    REMOVE_ITEM_SUCCESS,\r\n    REMOVE_ITEM_FAIL,\r\n    EMPTY_CART_SUCCESS,\r\n    EMPTY_CART_FAIL,\r\n    SYNCH_CART_SUCCESS,\r\n    SYNCH_CART_FAIL,\r\n} from './types';\r\n\r\n\r\nexport const add_item = product => async dispatch => {\r\n    if (localStorage.getItem('access')) {\r\n        const config = {\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Accept': 'application/json',\r\n                'Authorization': `JWT ${localStorage.getItem('access')}`,\r\n            }\r\n        };\r\n\r\n        const product_id = product.id;\r\n        const body = JSON.stringify({ product_id });\r\n\r\n        try {\r\n            const res = await axios.post(`${process.env.REACT_APP_API_URL}/api/cart/add-item`, body, config);\r\n\r\n            if (res.status === 201) {\r\n                dispatch({\r\n                    type: ADD_ITEM_SUCCESS,\r\n                    payload: res.data\r\n                });\r\n            } else {\r\n                dispatch({\r\n                    type: ADD_ITEM_FAIL\r\n                });\r\n            }\r\n        } catch(err){\r\n            dispatch({\r\n                type: ADD_ITEM_FAIL\r\n            });\r\n        }\r\n\r\n    } else {\r\n        let cart = [];\r\n\r\n        if (localStorage.getItem('cart')) {\r\n            cart = JSON.parse(localStorage.getItem('cart'));\r\n        }\r\n\r\n        let shouldAddItem = true;\r\n\r\n        cart.map(item => {\r\n            if (product.id.toString() === item.product.id.toString()) {\r\n                shouldAddItem = false;\r\n            }\r\n        });\r\n\r\n        const order_item = {\r\n            product: product,\r\n            count: 1\r\n        };\r\n\r\n        if (shouldAddItem) {\r\n            cart.push(order_item);\r\n        }\r\n\r\n        dispatch({\r\n            type: ADD_ITEM,\r\n            payload: cart\r\n        });\r\n    }\r\n}\r\n\r\n\r\nexport const get_items = () => async dispatch => {\r\n    if (localStorage.getItem('access')) {\r\n        const config = {\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Authorization': `JWT ${localStorage.getItem('access')}`,\r\n            }\r\n        };\r\n\r\n        try {\r\n            const res = await axios.get(`${process.env.REACT_APP_API_URL}/api/cart/cart-items`, config);\r\n\r\n            if (res.status === 200) {\r\n                dispatch({\r\n                    type: GET_ITEMS_SUCCESS,\r\n                    payload: res.data\r\n                });\r\n            } else {\r\n                dispatch({\r\n                    type: GET_ITEMS_FAIL\r\n                });\r\n            }\r\n        } catch(err) {\r\n            dispatch({\r\n                type: GET_ITEMS_FAIL\r\n            });\r\n        }\r\n    } else {\r\n        dispatch({\r\n            type: GET_ITEMS\r\n        });\r\n    }\r\n}\r\n\r\nexport const get_total = () => async dispatch => {\r\n    if (localStorage.getItem('access')) {\r\n        const config = {\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Authorization': `JWT ${localStorage.getItem('access')}`,\r\n            }\r\n        };\r\n\r\n        try {\r\n            const res = await axios.get(`${process.env.REACT_APP_API_URL}/api/cart/get-total`, config);\r\n\r\n            if (res.status === 200) {\r\n                dispatch({\r\n                    type: GET_TOTAL_SUCCESS,\r\n                    payload: res.data\r\n                });\r\n            } else {\r\n                dispatch({\r\n                    type: GET_TOTAL_FAIL\r\n                });\r\n            }\r\n        } catch(err) {\r\n            dispatch({\r\n                type: GET_TOTAL_FAIL\r\n            });\r\n        }\r\n    } else {\r\n        let total = 0.0;\r\n        let compare_total = 0.0;\r\n        let cart = [];\r\n\r\n        if (localStorage.getItem('cart')) {\r\n            cart = JSON.parse(localStorage.getItem('cart'));\r\n\r\n            cart.map(item => {\r\n                total += parseFloat(item.product.price) * parseFloat(item.count);\r\n                compare_total += parseFloat(item.product.compare_price) * parseFloat(item.count);\r\n            });\r\n        }\r\n\r\n        dispatch({\r\n            type: GET_TOTAL,\r\n            payload: [parseFloat(total.toFixed(2)), parseFloat(compare_total.toFixed(2))]\r\n        });\r\n    }\r\n}\r\n\r\n\r\nexport const get_item_total = () => async dispatch => {\r\n    if (localStorage.getItem('access')) {\r\n        const config = {\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Authorization': `JWT ${localStorage.getItem('access')}`,\r\n            }\r\n        };\r\n\r\n        try {\r\n            const res = await axios.get(`${process.env.REACT_APP_API_URL}/api/cart/get-item-total`, config);\r\n\r\n            if (res.status === 200) {\r\n                dispatch({\r\n                    type: GET_ITEM_TOTAL_SUCCESS,\r\n                    payload: res.data\r\n                });\r\n            } else {\r\n                dispatch({\r\n                    type: GET_ITEM_TOTAL_FAIL\r\n                });\r\n            }\r\n        } catch(err) {\r\n            dispatch({\r\n                type: GET_ITEM_TOTAL_FAIL\r\n            });\r\n        }\r\n    } else {\r\n        let total = 0;\r\n\r\n        if (localStorage.getItem('cart')) {\r\n            total = JSON.parse(localStorage.getItem('cart')).length;\r\n        }\r\n\r\n        dispatch({\r\n            type: GET_ITEM_TOTAL,\r\n            payload: total\r\n        });\r\n    }\r\n}\r\n\r\nexport const update_item = (item, count) => async dispatch => {\r\n    if (localStorage.getItem('access')) {\r\n        const config = {\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Accept': 'application/json',\r\n                'Authorization': `JWT ${localStorage.getItem('access')}`,\r\n            }\r\n        };\r\n\r\n        const product_id = item.product.id;\r\n        const body = JSON.stringify({ product_id, count });\r\n\r\n        try {\r\n            const res = await axios.put(`${process.env.REACT_APP_API_URL}/api/cart/update-item`, body, config);\r\n\r\n            if (res.status === 200 && !res.data.error) {\r\n                dispatch({\r\n                    type: UPDATE_ITEM_SUCCESS,\r\n                    payload: res.data\r\n                });\r\n            } else {\r\n                dispatch({\r\n                    type: UPDATE_ITEM_FAIL\r\n                });\r\n            }\r\n        } catch(err) {\r\n            dispatch({\r\n                type: UPDATE_ITEM_FAIL\r\n            });\r\n        }\r\n\r\n    } else {\r\n        let cart = [];\r\n\r\n        if (localStorage.getItem('cart')) {\r\n            cart = JSON.parse(localStorage.getItem('cart'));\r\n\r\n            cart.map((cart_item, index) => {\r\n                if (cart_item.product.id.toString() === item.product.id.toString()) {\r\n                    cart[index].count = parseInt(count);\r\n                }\r\n            });\r\n        }\r\n\r\n        dispatch({\r\n            type: UPDATE_ITEM,\r\n            payload: cart\r\n        });\r\n    }\r\n}\r\n\r\n\r\nexport const remove_item = item => async dispatch => {\r\n    if (localStorage.getItem('access')) {\r\n        const product_id = item.product.id;\r\n        const body = JSON.stringify({ product_id });\r\n\r\n\r\n        const config = {\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Accept': 'application/json',\r\n                'Authorization': `JWT ${localStorage.getItem('access')}`,\r\n            },\r\n            data: body\r\n        };\r\n\r\n        try {\r\n            const res = await axios.delete(`${process.env.REACT_APP_API_URL}/api/cart/remove-item`, config);\r\n\r\n            if (res.status === 200) {\r\n                dispatch({\r\n                    type: REMOVE_ITEM_SUCCESS,\r\n                    payload: res.data\r\n                });\r\n            } else {\r\n                dispatch({\r\n                    type: REMOVE_ITEM_FAIL\r\n                });\r\n            }\r\n        } catch(err) {\r\n            dispatch({\r\n                type: REMOVE_ITEM_FAIL\r\n            });\r\n        }\r\n    } else {\r\n        let cart = [];\r\n        let new_cart = [];\r\n\r\n        if (localStorage.getItem('cart')) {\r\n            cart = JSON.parse(localStorage.getItem('cart'));\r\n\r\n            cart.map(cart_item => {\r\n                if (cart_item.product.id.toString() !== item.product.id.toString()) {\r\n                    new_cart.push(cart_item);\r\n                }\r\n            });\r\n        }\r\n\r\n        dispatch({\r\n            type: REMOVE_ITEM,\r\n            payload: new_cart\r\n        });\r\n    }\r\n}\r\n\r\nexport const empty_cart = () => async dispatch => {\r\n    if (localStorage.getItem('access')) {\r\n        const config = {\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Authorization': `JWT ${localStorage.getItem('access')}`,\r\n            }\r\n        };\r\n\r\n        try {\r\n            const res = await axios.delete(`${process.env.REACT_APP_API_URL}/api/cart/empty-cart`, config);\r\n\r\n            if (res.status === 200) {\r\n                dispatch({\r\n                    type: EMPTY_CART_SUCCESS\r\n                });\r\n            } else {\r\n                dispatch({\r\n                    type: EMPTY_CART_FAIL\r\n                });\r\n            }\r\n        } catch(err) {\r\n            dispatch({\r\n                type: EMPTY_CART_FAIL\r\n            });\r\n        }\r\n    } else {\r\n        dispatch({\r\n            type: EMPTY_CART\r\n        });\r\n    }\r\n}\r\n\r\n\r\nexport const synch_cart = () => async dispatch => {\r\n    const config = {\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n            'Accept': 'application/json',\r\n            'Authorization': `JWT ${localStorage.getItem('access')}`,\r\n        }\r\n    };\r\n\r\n    let cart_items = [];\r\n\r\n    if (localStorage.getItem('cart')) {\r\n        let cart = JSON.parse(localStorage.getItem('cart'));\r\n\r\n        cart.map(cart_item => {\r\n            const item = {};\r\n            item.product_id = cart_item.product.id;\r\n            item.count = cart_item.count;\r\n            cart_items.push(item);\r\n        });\r\n    }\r\n\r\n    const body = JSON.stringify({ cart_items });\r\n\r\n    try {\r\n        const res = await axios.put(`${process.env.REACT_APP_API_URL}/api/cart/synch`, body, config);\r\n\r\n        if (res.status === 201) {\r\n            dispatch({\r\n                type: SYNCH_CART_SUCCESS\r\n            });\r\n        } else {\r\n            dispatch({\r\n                type: SYNCH_CART_FAIL\r\n            });\r\n        }\r\n    } catch(err) {\r\n        dispatch({\r\n            type: SYNCH_CART_FAIL\r\n        });\r\n    }\r\n}","import axios from 'axios';\r\nimport { setAlert } from './alert';\r\nimport {\r\n    GET_USER_PROFILE_SUCCESS,\r\n    GET_USER_PROFILE_FAIL,\r\n    UPDATE_USER_PROFILE_SUCCESS,\r\n    UPDATE_USER_PROFILE_FAIL\r\n} from './types';\r\n\r\nexport const get_user_profile = () => async dispatch => {\r\n    if (localStorage.getItem('access')) {\r\n        const config = {\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Authorization': `JWT ${localStorage.getItem('access')}`\r\n            }\r\n        };\r\n\r\n        try {\r\n            const res = await axios.get(`${process.env.REACT_APP_API_URL}/api/profile/user`, config);\r\n\r\n            if (res.status === 200) {\r\n                dispatch({\r\n                    type: GET_USER_PROFILE_SUCCESS,\r\n                    payload: res.data\r\n                });\r\n            } else {\r\n                dispatch({\r\n                    type: GET_USER_PROFILE_FAIL\r\n                });\r\n            }\r\n        } catch(err) {\r\n            dispatch({\r\n                type: GET_USER_PROFILE_FAIL\r\n            });\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport const update_user_profile = (\r\n    address_line_1,\r\n    address_line_2,\r\n    city,\r\n    state_province_region,\r\n    zipcode,\r\n    phone,\r\n    country_region\r\n) => async dispatch => {\r\n    if (localStorage.getItem('access')) {\r\n        const config = {\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `JWT ${localStorage.getItem('access')}`\r\n            }\r\n        };\r\n\r\n        const body = JSON.stringify({\r\n            address_line_1,\r\n            address_line_2,\r\n            city,\r\n            state_province_region,\r\n            zipcode,\r\n            phone,\r\n            country_region\r\n        });\r\n\r\n        try {\r\n            const res = await axios.put(`${process.env.REACT_APP_API_URL}/api/profile/update`, body, config);\r\n\r\n            if (res.status === 200) {\r\n                dispatch({\r\n                    type: UPDATE_USER_PROFILE_SUCCESS,\r\n                    payload: res.data\r\n                });\r\n                dispatch(setAlert('Profile updated successfully', 'green'));\r\n            } else {\r\n                dispatch({\r\n                    type: UPDATE_USER_PROFILE_FAIL\r\n                });\r\n                dispatch(setAlert('Failed to update profile', 'red'));\r\n            }\r\n        } catch(err) {\r\n            dispatch({\r\n                type: UPDATE_USER_PROFILE_FAIL\r\n            });\r\n            dispatch(setAlert('Failed to update profile', 'red'));\r\n        }\r\n    }\r\n}"],"names":["connect","state","sentiment_prediction","rl","sentiment_model_message","get_sentiment_prediction","comment","async","config","headers","Accept","body","JSON","stringify","res","axios","post","dispatch","type","GET_SENTIMENT_PREDICTION_SUCCESS","payload","data","prediction","error","_error$response","console","response","GET_SENTIMENT_PREDICTION_FAIL","train_sentiment_model","get","TRAIN_SENTIMENT_MODEL_SUCCESS","message","TRAIN_SENTIMENT_MODEL_FAIL","_ref","setComment","useState","showAlert","setShowAlert","log","useEffect","timer","setTimeout","clearTimeout","_jsx","FullWidthLayout","children","_jsxs","className","onClick","handleTrain","value","onChange","e","target","placeholder","rows","handlePredict","trim","sentiment","toUpperCase","check_authenticated","load_user","refresh","get_items","get_total","get_item_total","get_user_profile","props","Navbar","ToastContainer","autoClose","Footer","add_item","product","localStorage","getItem","product_id","id","status","ADD_ITEM_SUCCESS","ADD_ITEM_FAIL","err","cart","parse","shouldAddItem","map","item","toString","order_item","count","push","ADD_ITEM","GET_ITEMS_SUCCESS","GET_ITEMS_FAIL","GET_ITEMS","GET_TOTAL_SUCCESS","GET_TOTAL_FAIL","total","compare_total","parseFloat","price","compare_price","GET_TOTAL","toFixed","GET_ITEM_TOTAL_SUCCESS","GET_ITEM_TOTAL_FAIL","length","GET_ITEM_TOTAL","update_item","put","UPDATE_ITEM_FAIL","UPDATE_ITEM_SUCCESS","cart_item","index","parseInt","UPDATE_ITEM","remove_item","delete","REMOVE_ITEM_SUCCESS","REMOVE_ITEM_FAIL","new_cart","REMOVE_ITEM","GET_USER_PROFILE_SUCCESS","GET_USER_PROFILE_FAIL","update_user_profile","address_line_1","address_line_2","city","state_province_region","zipcode","phone","country_region","UPDATE_USER_PROFILE_SUCCESS","setAlert","UPDATE_USER_PROFILE_FAIL"],"sourceRoot":""}