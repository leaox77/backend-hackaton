"use strict";(self.webpackChunkecommerce=self.webpackChunkecommerce||[]).push([[953],{8137:(t,e,a)=>{a.r(e),a.d(e,{default:()=>p});var o=a(342),s=a(5043),c=a(5475),r=a(3003),l=a(35),i=a(9954),n=a(3216),d=a(579);const p=(0,r.Ng)((t=>({loading:t.Auth.loading})),{login:l.iD})((t=>{let{login:e,loading:a}=t;(0,s.useEffect)((()=>{window.scrollTo(0,0)}),[]);const[r,l]=(0,s.useState)({email:"",password:""}),{email:p,password:g}=r,[m,u]=(0,s.useState)(!1),h=t=>l({...r,[t.target.name]:t.target.value});return m?(0,d.jsx)(n.C5,{to:"/"}):(0,d.jsx)(o.A,{children:(0,d.jsx)("div",{className:"min-h-full flex justify-center py-12 sm:px-6 lg:px-8",children:(0,d.jsxs)("div",{className:"flex bg-white shadow-lg border border-gray-300 sm:rounded-lg w-full max-w-2xl flex-col md:flex-row",children:[(0,d.jsx)("div",{className:"w-full md:w-[23%] bg-gradient-to-r from-crimson-red via-deep-rose via-dark-burgundy via-royal-purple to-midnight-blue rounded-t-lg md:rounded-l-lg md:rounded-tr-none rounded-br-lg md:rounded-br-none md:h-full md:py-8"}),(0,d.jsxs)("div",{className:"sm:mx-auto sm:w-full sm:max-w-md px-7 py-8",children:[(0,d.jsx)("h2",{className:"mt-2 text-center text-3xl font-extrabold text-gray-900",children:"Iniciar sesi\xf3n"}),(0,d.jsxs)("p",{className:"mt-1 text-center text-sm text-gray-600",children:["O"," ",(0,d.jsx)(c.N_,{to:"/signup",className:"font-medium text-indigo-600 hover:text-indigo-500",children:"registrate"})]}),(0,d.jsx)("div",{className:"mt-1 sm:mx-auto sm:w-full sm:max-w-md",children:(0,d.jsx)("div",{className:"py-8 px-1",children:(0,d.jsxs)("form",{onSubmit:t=>{t.preventDefault(),e(p,g),u(!0)},className:"space-y-6",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Correo electr\xf3nico"}),(0,d.jsx)("div",{className:"mt-1",children:(0,d.jsx)("input",{name:"email",value:p,onChange:h,type:"email",required:!0,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Contrase\xf1a"}),(0,d.jsx)("div",{className:"mt-1",children:(0,d.jsx)("input",{name:"password",value:g,onChange:h,type:"password",required:!0,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})})]}),(0,d.jsx)("div",{className:"flex items-center justify-between",children:(0,d.jsx)("div",{className:"text-sm",children:(0,d.jsx)(c.N_,{to:"/reset_password",className:"font-medium text-indigo-600 hover:text-indigo-500",children:"\xbfOlvidaste tu contrase\xf1a?"})})}),(0,d.jsx)("div",{children:a?(0,d.jsx)("button",{className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:(0,d.jsx)(i.BM,{color:"#fff",width:20,height:20,ariaLabel:"loading"})}):(0,d.jsx)("button",{type:"submit",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-midnight-blue hover:bg-purple-night focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Acceder"})})]})})})]})]})})})}))},342:(t,e,a)=>{a.d(e,{A:()=>g});var o=a(3401),s=(a(2342),a(35)),c=a(1507),r=a(9784),l=a(5043),i=a(3003),n=a(4834),d=a(8017),p=a(579);const g=(0,i.Ng)(null,{check_authenticated:s.f_,load_user:s.Jc,refresh:s.Ow,get_items:c.Su,get_total:c.OL,get_item_total:c.ES,get_user_profile:r.h})((t=>((0,l.useEffect)((()=>{t.refresh(),t.check_authenticated(),t.load_user(),t.get_items(),t.get_total(),t.get_item_total(),t.get_user_profile()}),[]),(0,p.jsxs)("div",{children:[(0,p.jsx)(n.A,{}),(0,p.jsx)(o.N9,{autoClose:5e3}),t.children,(0,p.jsx)(d.A,{})]}))))},1507:(t,e,a)=>{a.d(e,{ES:()=>i,K$:()=>c,OL:()=>l,Su:()=>r,eV:()=>n,j5:()=>d});var o=a(6213),s=a(4308);const c=t=>async e=>{if(localStorage.getItem("access")){const c={headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`JWT ${localStorage.getItem("access")}`}},r=t.id,l=JSON.stringify({product_id:r});try{const t=await o.A.post("http://localhost:8000/api/cart/add-item",l,c);201===t.status?e({type:s.CF,payload:t.data}):e({type:s.J1})}catch(a){e({type:s.J1})}}else{let a=[];localStorage.getItem("cart")&&(a=JSON.parse(localStorage.getItem("cart")));let o=!0;a.map((e=>{t.id.toString()===e.product.id.toString()&&(o=!1)}));const c={product:t,count:1};o&&a.push(c),e({type:s.SJ,payload:a})}},r=()=>async t=>{if(localStorage.getItem("access")){const a={headers:{Accept:"application/json",Authorization:`JWT ${localStorage.getItem("access")}`}};try{const e=await o.A.get("http://localhost:8000/api/cart/cart-items",a);200===e.status?t({type:s._W,payload:e.data}):t({type:s.BS})}catch(e){t({type:s.BS})}}else t({type:s.K})},l=()=>async t=>{if(localStorage.getItem("access")){const a={headers:{Accept:"application/json",Authorization:`JWT ${localStorage.getItem("access")}`}};try{const e=await o.A.get("http://localhost:8000/api/cart/get-total",a);200===e.status?t({type:s.oy,payload:e.data}):t({type:s.pp})}catch(e){t({type:s.pp})}}else{let e=0,a=0,o=[];localStorage.getItem("cart")&&(o=JSON.parse(localStorage.getItem("cart")),o.map((t=>{e+=parseFloat(t.product.price)*parseFloat(t.count),a+=parseFloat(t.product.compare_price)*parseFloat(t.count)}))),t({type:s.Kl,payload:[parseFloat(e.toFixed(2)),parseFloat(a.toFixed(2))]})}},i=()=>async t=>{if(localStorage.getItem("access")){const a={headers:{Accept:"application/json",Authorization:`JWT ${localStorage.getItem("access")}`}};try{const e=await o.A.get("http://localhost:8000/api/cart/get-item-total",a);200===e.status?t({type:s.O5,payload:e.data}):t({type:s.DY})}catch(e){t({type:s.DY})}}else{let e=0;localStorage.getItem("cart")&&(e=JSON.parse(localStorage.getItem("cart")).length),t({type:s.Ig,payload:e})}},n=(t,e)=>async a=>{if(localStorage.getItem("access")){const r={headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`JWT ${localStorage.getItem("access")}`}},l=t.product.id,i=JSON.stringify({product_id:l,count:e});try{const t=await o.A.put("http://localhost:8000/api/cart/update-item",i,r);200!==t.status||t.data.error?a({type:s.lP}):a({type:s.Qk,payload:t.data})}catch(c){a({type:s.lP})}}else{let o=[];localStorage.getItem("cart")&&(o=JSON.parse(localStorage.getItem("cart")),o.map(((a,s)=>{a.product.id.toString()===t.product.id.toString()&&(o[s].count=parseInt(e))}))),a({type:s.u3,payload:o})}},d=t=>async e=>{if(localStorage.getItem("access")){const c=t.product.id,r=JSON.stringify({product_id:c}),l={headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`JWT ${localStorage.getItem("access")}`},data:r};try{const t=await o.A.delete("http://localhost:8000/api/cart/remove-item",l);200===t.status?e({type:s.J0,payload:t.data}):e({type:s.uP})}catch(a){e({type:s.uP})}}else{let a=[],o=[];localStorage.getItem("cart")&&(a=JSON.parse(localStorage.getItem("cart")),a.map((e=>{e.product.id.toString()!==t.product.id.toString()&&o.push(e)}))),e({type:s.Zk,payload:o})}}},9784:(t,e,a)=>{a.d(e,{Y:()=>l,h:()=>r});var o=a(6213),s=a(3115),c=a(4308);const r=()=>async t=>{if(localStorage.getItem("access")){const a={headers:{Accept:"application/json",Authorization:`JWT ${localStorage.getItem("access")}`}};try{const e=await o.A.get("http://localhost:8000/api/profile/user",a);200===e.status?t({type:c.xC,payload:e.data}):t({type:c.kA})}catch(e){t({type:c.kA})}}},l=(t,e,a,r,l,i,n)=>async d=>{if(localStorage.getItem("access")){const g={headers:{Accept:"application/json","Content-Type":"application/json",Authorization:`JWT ${localStorage.getItem("access")}`}},m=JSON.stringify({address_line_1:t,address_line_2:e,city:a,state_province_region:r,zipcode:l,phone:i,country_region:n});try{const t=await o.A.put("http://localhost:8000/api/profile/update",m,g);200===t.status?(d({type:c.Mf,payload:t.data}),d((0,s.n)("Profile updated successfully","green"))):(d({type:c.TX}),d((0,s.n)("Failed to update profile","red")))}catch(p){d({type:c.TX}),d((0,s.n)("Failed to update profile","red"))}}}}}]);
//# sourceMappingURL=953.b4c495a6.chunk.js.map