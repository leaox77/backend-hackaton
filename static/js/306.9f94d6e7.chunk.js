"use strict";(self.webpackChunkecommerce=self.webpackChunkecommerce||[]).push([[306],{9804:(e,t,s)=>{s.d(t,{A:()=>l});var a=s(5475),r=s(3003),i=s(5043),o=s(579);const l=(0,r.Ng)((e=>({isAuthenticated:e.Auth.isAuthenticated,user:e.Auth.user})))((e=>{let{product:t,isAuthenticated:s,user:r}=e;const[l,n]=(0,i.useState)(!1);return(0,o.jsxs)("div",{className:"group relative w-full mx-auto my-6 p-3 bg-white rounded-xl shadow-md hover:shadow-xl transition-all duration-500 transform hover:-translate-y-2 border border-gray-100",onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),children:[(0,o.jsxs)("div",{className:"relative w-full aspect-[4/3] bg-gradient-to-br from-gray-50 to-gray-200 rounded-lg overflow-hidden shadow-inner mb-4",children:[(0,o.jsx)("div",{className:"absolute inset-0 bg-gray-900 opacity-0 group-hover:opacity-10 transition-opacity duration-300 z-0"}),(0,o.jsx)(a.N_,{to:`/product/${t.id}`,className:"relative z-10",children:(0,o.jsx)("img",{src:t.photo,alt:t.name,className:"w-full h-full object-center object-contain transition-all duration-500 transform group-hover:scale-110"})})]}),(0,o.jsx)("div",{className:"flex flex-wrap gap-1 mb-3",children:t.tags&&t.tags.map(((e,t)=>(0,o.jsx)("span",{className:"px-2 py-1 text-xs rounded-full bg-blue-50 text-blue-600 font-medium",children:e},t)))}),(0,o.jsxs)("div",{className:"space-y-2",children:[(0,o.jsx)("h3",{className:"text-lg font-bold text-gray-800 group-hover:text-blue-600 transition-colors duration-300 truncate",children:(0,o.jsxs)(a.N_,{to:`/product/${t.id}`,className:"relative z-10",children:[(0,o.jsx)("span",{"aria-hidden":"true",className:"absolute inset-0"}),t.name]})}),s?(0,o.jsx)("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium "+(t.quantity>0?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:t.quantity>0?`En stock (${t.quantity})`:"Agotado"}):(0,o.jsx)("p",{className:"text-sm text-gray-500 line-clamp-2 sm:line-clamp-3",children:t.description||"Producto de alta calidad para satisfacer tus necesidades."})]}),(0,o.jsx)("div",{className:"my-3 h-px bg-gradient-to-r from-transparent via-gray-200 to-transparent transform transition-all duration-500 group-hover:scale-x-110 group-hover:via-blue-200"}),(0,o.jsx)("div",{className:"absolute inset-x-0 bottom-0 px-5 pb-4 pt-2 bg-white transform transition-all duration-500 "+(l?"translate-y-0 opacity-100":"translate-y-8 opacity-0"),children:(0,o.jsx)("button",{className:"w-full py-2 rounded-lg font-medium transition-all duration-300 "+(s?"bg-midnight-blue hover:bg-purple-night text-white":"bg-gray-200 text-gray-400 cursor-not-allowed"),disabled:!s,children:s?(0,o.jsx)("span",{className:"text-sm font-semibold",children:r&&void 0!==r.mayorista_tipo?0===r.mayorista_tipo?`${null===t||void 0===t?void 0:t.price} Bs`:1===r.mayorista_tipo?`${null===t||void 0===t?void 0:t.price_mayorista_1} Bs`:2===r.mayorista_tipo?`${null===t||void 0===t?void 0:t.price_mayorista_2} Bs`:3===r.mayorista_tipo?`${null===t||void 0===t?void 0:t.price_mayorista_3} Bs`:"N/A":"Inicia sesi\xf3n para ver precios"}):(0,o.jsx)("span",{className:"text-sm font-semibold flex items-center justify-center gap-2",children:"Inicia sesi\xf3n para ver precios"})})})]},t.id)}))},4306:(e,t,s)=>{s.r(t),s.d(t,{default:()=>O});var a=s(6669),r=s(5043),i=s(3216),o=s(3003),l=s(117),n=s(6213),d=s(3115),c=s(593),m=s(6914),u=s(7538),g=s(8872),p=s(8040),x=s(9518),h=s(1139),y=s(8176),v=s(7299),f=s(6135),b=s(9703),j=s(3178),w=s(8509),N=s(4308);var _=s(1507),A=s(4585),S=s(2840),P=s(1755),$=s(579);function C(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter(Boolean).join(" ")}const I=e=>{let{photos:t,short_description:s}=e;return(0,$.jsx)($.Fragment,{children:(0,$.jsxs)(P.oz.Group,{as:"div",className:"flex flex-col-reverse",children:[(0,$.jsxs)("div",{className:"mt-10 w-full max-w-2xl mx-auto lg:max-w-none",children:[(0,$.jsx)(P.oz.List,{className:"grid grid-cols-4 gap-4 p-2 bg-gray-100 rounded-lg",children:t.map(((e,t)=>(0,$.jsx)(P.oz,{className:"relative h-16 bg-white rounded-md flex items-center justify-center text-sm font-medium uppercase text-gray-900 cursor-pointer transition duration-300 hover:scale-105 hover:shadow-lg focus:outline-none focus:ring focus:ring-offset-4 focus:ring-opacity-50",children:t=>{let{selected:s}=t;return(0,$.jsxs)($.Fragment,{children:[(0,$.jsx)("span",{className:"absolute inset-0 rounded-md overflow-hidden",children:(0,$.jsx)("img",{src:e,alt:"",className:"w-full h-full object-center object-cover transition-transform duration-500 hover:scale-110"})}),(0,$.jsx)("span",{className:C(s?"ring-midnight-blue border-2 border-gray-300 shadow-md":"ring-transparent","absolute inset-0 rounded-md ring-2 ring-offset-2 pointer-events-none"),"aria-hidden":"true"})]})}},t)))}),(0,$.jsxs)("div",{className:"mt-16 max-w-3xl mx-auto p-6 bg-white border border-gray-200 rounded-lg shadow-lg",children:[(0,$.jsx)("p",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Caracter\xedsticas Principales:"}),(0,$.jsx)("p",{className:"text-gray-600 text-l",children:s})]})]}),(0,$.jsx)(P.oz.Panels,{className:"w-full max-w-md mx-auto aspect-w-1 aspect-h-1 mt-8",children:t.map(((e,t)=>(0,$.jsx)(P.oz.Panel,{children:(0,$.jsx)("img",{src:e,alt:"",className:"border-2 p-2 w-[90%] h-auto mx-auto object-center object-cover sm:rounded-lg shadow-xl transition duration-500 hover:scale-105 hover:shadow-2xl"})},t)))})]})})};var E=s(3546);const T=e=>{let{addToWishlist:t,removeFromWishlist:s,product:a,wishlist:i,setAlert:o}=e;const[n,d]=(0,r.useState)(!1),[c,m]=(0,r.useState)(!1),[u,g]=(0,r.useState)(!1),[p,x]=(0,r.useState)(""),[h,y]=(0,r.useState)("green");(0,r.useEffect)((()=>{if(i&&a){const e=i.some((e=>e.product.id.toString()===a.id.toString()));d(e)}}),[i,a]);return(0,$.jsxs)("div",{className:"relative",children:[(0,$.jsxs)("button",{onClick:async()=>{if(!c){m(!0);try{if(n)await s(a.id),d(!1),x("Eliminado de favoritos \ud83d\ude2d"),y("red"),g(!0),setTimeout((()=>g(!1)),3e3),o&&o("Producto eliminado de favoritos","warning");else{await t(a)?(d(!0),x("A\xf1adido a favoritos \ud83d\ude0e"),y("green"),g(!0),setTimeout((()=>g(!1)),3e3),o&&o("Producto a\xf1adido a favoritos","success")):o&&o("Ya est\xe1 en favoritos","info")}}catch(e){console.error(e),o&&o("Error al procesar favoritos","danger")}finally{m(!1)}}},disabled:c,className:"ml-4 py-2 px-3 rounded-md flex items-center justify-center transition-all duration-200\n          "+(n?"text-red-500 bg-red-100":"text-gray-400 hover:text-gray-600 hover:bg-gray-100"),title:n?"Eliminar de favoritos":"Agregar a favoritos",children:[(0,$.jsx)("svg",{className:"h-6 w-6 flex-shrink-0",xmlns:"http://www.w3.org/2000/svg",fill:n?"currentColor":"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,$.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),(0,$.jsx)("span",{className:"sr-only",children:n?"Eliminar de favoritos":"Agregar a favoritos"})]}),(0,$.jsx)(E.N,{children:u&&(0,$.jsx)(l.P.div,{initial:{opacity:0,y:-15},animate:{opacity:1,y:0},exit:{opacity:0,y:-15},transition:{duration:.4},className:"absolute -top-16 left-0 z-50 px-5 py-3 rounded-lg shadow-lg text-sm sm:text-base font-semibold whitespace-nowrap\n              "+("green"===h?"bg-green-100 text-green-700":"bg-red-100 text-red-700"),children:p})})]})};var k=s(9804),z=s(3910),L=s(6399),M=s(7929);const F=e=>{let{rating:t}=e;return(0,$.jsx)(r.Fragment,{children:(()=>{if(t&&null!==t&&void 0!==t)return(0,$.jsxs)("div",{children:[t>=1||t>=1?(0,$.jsx)(z.g,{className:"rating_stars",icon:M.yy}):.5===t?(0,$.jsx)(z.g,{className:"rating_stars",icon:M.uAg}):(0,$.jsx)(z.g,{className:"rating_stars",icon:L.yy}),t>=2||t>=2?(0,$.jsx)(z.g,{className:"rating_stars",icon:M.yy}):1.5===t?(0,$.jsx)(z.g,{className:"rating_stars",icon:M.uAg}):(0,$.jsx)(z.g,{className:"rating_stars",icon:L.yy}),t>=3||t>=3?(0,$.jsx)(z.g,{className:"rating_stars",icon:M.yy}):2.5===t?(0,$.jsx)(z.g,{className:"rating_stars",icon:M.uAg}):(0,$.jsx)(z.g,{className:"rating_stars",icon:L.yy}),t>=4||t>=4?(0,$.jsx)(z.g,{className:"rating_stars",icon:M.yy}):3.5===t?(0,$.jsx)(z.g,{className:"rating_stars",icon:M.uAg}):(0,$.jsx)(z.g,{className:"rating_stars",icon:L.yy}),t>=5||t>=5?(0,$.jsx)(z.g,{className:"rating_stars",icon:M.yy}):4.5===t?(0,$.jsx)(z.g,{className:"rating_stars",icon:M.uAg}):(0,$.jsx)(z.g,{className:"rating_stars",icon:L.yy})]})})()})},B=e=>{const t=e.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/);return t&&11===t[2].length?t[2]:null},O=(0,o.Ng)((e=>({product:e.Products.product,isAuthenticated:e.Auth.isAuthenticated,wishlist:e.Wishlist.items,review:e.Reviews.review,brands:e.Brands.brands,reviews:e.Reviews.reviews,categories:e.Categories.categories,products:e.Products.products,filtered_products:e.Products.filtered_products,user:e.Auth.user,sentiment_prediction:e.rl.sentiment_prediction,sentiment_model_message:e.rl.sentiment_model_message,sentiment_probability:e.rl.sentiment_probability,faltas_agresivas:e.rl.faltas_agresivas,suspendido:e.rl.suspendido})),{get_product:w.Ps,get_related_products:w.O4,get_items:_.Su,add_item:_.K$,get_total:_.OL,get_item_total:_.ES,add_wishlist_item:j.OY,get_wishlist_items:j.uO,get_wishlist_item_total:j.mN,remove_wishlist_item:j.dm,get_reviews:e=>async t=>{const s={headers:{Accept:"application/json"}};try{const a=await n.A.get(`http://localhost:8000/api/reviews/get-reviews/${e}`,s);200===a.status?t({type:N.J4,payload:a.data}):t({type:N.mr})}catch(a){t({type:N.mr})}},get_review:e=>async t=>{if(localStorage.getItem("access")){const a={headers:{Authorization:`JWT ${localStorage.getItem("access")}`,Accept:"application/json"}};try{const s=await n.A.get(`http://localhost:8000/api/reviews/get-review/${e}`,a);200===s.status?t({type:N.QF,payload:s.data}):t({type:N.jh})}catch(s){t({type:N.jh})}}},create_review:(e,t,s)=>async a=>{if(localStorage.getItem("access")){const i={headers:{Authorization:`JWT ${localStorage.getItem("access")}`,Accept:"application/json","Content-Type":"application/json"}},o=JSON.stringify({rating:t,comment:s});try{const t=await n.A.post(`http://localhost:8000/api/reviews/create-review/${e}`,o,i);201===t.status?a({type:N.Kz,payload:t.data}):a({type:N.XI})}catch(r){a({type:N.XI})}}},update_review:(e,t,s)=>async a=>{if(localStorage.getItem("access")){const i={headers:{Authorization:`JWT ${localStorage.getItem("access")}`,Accept:"application/json","Content-Type":"application/json"}},o=JSON.stringify({rating:t,comment:s});try{const t=await n.A.put(`http://localhost:8000/api/reviews/update-review/${e}`,o,i);200===t.status?a({type:N.Fg,payload:t.data}):a({type:N.u9})}catch(r){a({type:N.u9})}}},delete_review:e=>async t=>{if(localStorage.getItem("access")){const a={headers:{Authorization:`JWT ${localStorage.getItem("access")}`,Accept:"application/json"},data:{}};try{const s=await n.A.delete(`http://localhost:8000/api/reviews/delete-review/${e}`,a);200===s.status?t({type:N.vs,payload:s.data}):t({tye:N.ys})}catch(s){t({tye:N.ys})}}},filter_reviews:(e,t)=>async s=>{const a={headers:{Accept:"application/json"}};let r;r=.5===t?"0.5":1===t||1===t?"1.0":1.5===t?"1.5":2===t||2===t?"2.0":2.5===t?"2.5":3===t||3===t?"3.0":3.5===t?"3.5":4===t||4===t?"4.0":4.5===t?"4.5":"5.0";try{const t=await n.A.get(`http://localhost:8000/api/reviews/filter-reviews/${e}?rating=${r}`,a);200===t.status?s({type:N.Vg,payload:t.data}):s({type:N.KT})}catch(i){s({type:N.KT})}},get_brands:b.I,get_categories:A.S,get_products:w.sR,get_filtered_products:w.IT,setAlert:d.n,get_sentiment_prediction:S.BL,train_sentiment_model:S.xG})((e=>{let{get_product:t,get_related_products:s,product:o,get_items:b,add_item:j,get_total:w,get_item_total:N,add_wishlist_item:_,get_wishlist_items:A,get_wishlist_item_total:S,isAuthenticated:P,remove_wishlist_item:C,wishlist:E,get_reviews:z,get_review:L,create_review:M,update_review:O,delete_review:W,filter_reviews:q,review:J,brands:R,get_brands:D,reviews:V,get_categories:H,get_products:K,products:X,filtered_products:Y,user:G,sentiment_prediction:Q,sentiment_model_message:U,sentiment_probability:Z,faltas_agresivas:ee,suspendido:te,get_sentiment_prediction:se,train_sentiment_model:ae}=e;const[re,ie]=(0,r.useState)(!1),oe=(0,i.Zp)(),[le]=(0,r.useState)(!1),[ne]=(0,r.useState)(1),[de,ce]=(0,r.useState)(""),[me,ue]=(0,r.useState)({}),[ge,pe]=(0,r.useState)(!1),[xe,he]=(0,r.useState)(!0),ye=(0,i.g)().productId;(0,r.useEffect)((()=>{H(),K(),window.scrollTo(0,0)}),[H,K]),(0,r.useEffect)((()=>{window.scrollTo(0,0),t(ye),s(ye),A(),S()}),[t,s,A,S,ye]),(0,r.useEffect)((()=>{z(ye)}),[ye,z]),(0,r.useEffect)((()=>{L(ye)}),[ye,L]),(0,r.useEffect)((()=>{if(null!==Q&&void 0!==Q){pe(!0);const e=setTimeout((()=>pe(!1)),5e3);if("agresivo"===Q.toLowerCase()){he(!1);const t=setTimeout((()=>{te||he(!0)}),3e3);return()=>{clearTimeout(e),clearTimeout(t)}}return()=>clearTimeout(e)}}),[Q,te]);const ve=()=>{""!==je.trim()&&se(je)},[fe,be]=(0,r.useState)({comment:"",rating:""}),{comment:je,rating:we}=fe,Ne=e=>be({...fe,[e.target.name]:e.target.value}),_e=e=>{q(ye,e)},[Ae,Se]=(0,r.useState)(null),[Pe,$e]=(0,r.useState)([]),[Ce]=(0,r.useState)("ALL");(0,r.useEffect)((()=>{D()}),[D]),(0,r.useEffect)((()=>{$e("ALL"===Ce?R:R.filter((e=>e.name.startsWith(Ce))))}),[R,Ce]);const[Ie,Ee]=(0,r.useState)([]);return(0,r.useEffect)((()=>{n.A.get("/api/branches/stock").then((e=>{Ee(e.data),ie(!1)})).catch((e=>{console.error("Error al obtener stock:",e),ie(!1)}))}),[]),re?(0,$.jsx)("p",{children:"Cargando sucursales..."}):(0,$.jsx)(a.A,{children:(0,$.jsx)("div",{className:"bg-white",children:(0,$.jsxs)("div",{className:"max-w-2xl mx-auto py-16 px-4 sm:py-24 sm:px-6 lg:max-w-7xl lg:px-8",children:[(0,$.jsxs)("div",{className:"lg:grid lg:grid-cols-2 lg:gap-x-8 lg:items-start text-sm",children:[(0,$.jsx)(I,{photos:[null===o||void 0===o?void 0:o.photo,...null!==o&&void 0!==o&&o.extra_images?o.extra_images.map((e=>e.image)):[]],short_description:(null===o||void 0===o?void 0:o.short_description)||""}),(0,$.jsxs)(l.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"relative mt-10 px-6 sm:px-8 sm:mt-16 lg:mt-0 bg-white shadow-xl rounded-3xl p-8 border border-gray-200 overflow-hidden",children:[(0,$.jsx)("div",{className:"absolute -top-10 -right-10 w-40 h-40 bg-purple-300 opacity-30 rounded-full blur-3xl"}),(0,$.jsx)("div",{className:"absolute -bottom-10 -left-10 w-40 h-40 bg-blue-300 opacity-30 rounded-full blur-3xl"}),(0,$.jsxs)("h1",{className:"text-xl font-bold text-gray-800 mb-2",children:["Producto: ",null===o||void 0===o?void 0:o.name]}),(0,$.jsxs)("p",{className:"text-lg text-gray-600",children:["SKU: ",(0,$.jsx)("span",{className:"font-medium",children:null===o||void 0===o?void 0:o.sku})]}),(0,$.jsxs)("div",{className:"mt-6 border-t border-gray-300 pt-4",children:[(0,$.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Descripci\xf3n del producto: "}),(0,$.jsx)(l.P.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"text-gray-700 bg-gray-100 p-4 rounded-lg text-sm",dangerouslySetInnerHTML:{__html:`${(null===o||void 0===o?void 0:o.description)||""} `}})]}),(0,$.jsx)("div",{className:"mt-6 border-t border-gray-300 pt-4 flex justify-center",children:P?(0,$.jsxs)(l.P.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",stiffness:150,delay:.2},className:"bg-white shadow-lg rounded-lg overflow-hidden p-6",children:[(0,$.jsx)("h2",{className:"text-lg font-semibold text-gray-700 mb-4",children:"Detalles del Producto"}),(0,$.jsx)("table",{className:"w-full border-collapse border border-gray-300",children:(0,$.jsxs)("tbody",{children:[(0,$.jsxs)("tr",{className:"border-b",children:[(0,$.jsx)("td",{className:"px-4 py-2 text-gray-600 font-normal bg-gray-100 text-sm",children:"Cantidad Disponible"}),(0,$.jsx)("td",{className:"px-4 py-2 text-sm",children:1===(null===o||void 0===o?void 0:o.quantity)?"1 unidad":`${null===o||void 0===o?void 0:o.quantity} unidades`})]}),(0,$.jsxs)("tr",{className:"border-b",children:[(0,$.jsx)("td",{className:"px-4 py-2 text-sm text-gray-600 font-normal bg-gray-100",children:"Productos Vendidos"}),(0,$.jsx)("td",{className:"px-4 py-2 text-sm",children:1===(null===o||void 0===o?void 0:o.sold)?"1 unidad":`${null===o||void 0===o?void 0:o.sold} unidades`})]}),(0,$.jsxs)("tr",{className:"border-b",children:[(0,$.jsx)("td",{className:"px-4 py-2 text-sm text-gray-600 font-normal bg-gray-100",children:"Precio por tu categor\xeda"}),(0,$.jsx)("td",{className:"px-4 py-2 text-sm text-green-700 font-medium",children:G&&void 0!==G.mayorista_tipo?0===G.mayorista_tipo?`${null===o||void 0===o?void 0:o.price} Bs`:1===G.mayorista_tipo?`${null===o||void 0===o?void 0:o.price_mayorista_1} Bs`:2===G.mayorista_tipo?`${null===o||void 0===o?void 0:o.price_mayorista_2} Bs`:3===G.mayorista_tipo?`${null===o||void 0===o?void 0:o.price_mayorista_3} Bs`:"N/A":"Inicia sesi\xf3n para ver precios"})]}),(0,$.jsxs)("tr",{children:[(0,$.jsx)("td",{className:"px-4 py-2 text-sm text-gray-600 font-normal bg-gray-100",children:"Marca"}),(0,$.jsx)("td",{className:"px-4 py-2 text-sm flex items-center gap-2",children:(()=>{const e=null===Pe||void 0===Pe?void 0:Pe.find((e=>e.id===(null===o||void 0===o?void 0:o.brand)));return e?e.logo?(0,$.jsx)($.Fragment,{children:(0,$.jsx)("img",{src:e.logo,alt:e.name,className:"w-26 h-8 object-contain border"})}):(0,$.jsx)("span",{className:"font-medium",children:e.name}):(0,$.jsx)("span",{className:"font-normal",children:"Desconocida"})})()})]})]})})]}):(0,$.jsxs)(l.P.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5,ease:"easeInOut"},className:"w-72 mx-auto text-white text-sm font-semibold px-4 py-2 bg-gray-700 shadow-lg rounded-md flex items-center justify-center gap-2",children:[(0,$.jsx)(c.A,{className:"w-5 h-5"})," Inicia sesi\xf3n para m\xe1s detalles"]})}),(0,$.jsxs)("div",{className:"mt-6",children:[(0,$.jsx)(l.P.p,{className:"mt-4 flex items-center gap-2 text-lg font-medium",initial:{scale:.9},animate:{scale:1},transition:{type:"spring",stiffness:200},children:(null===o||void 0===o?void 0:o.quantity)>0?(0,$.jsxs)("span",{className:"text-green-600 flex items-center gap-2",children:[(0,$.jsx)(m.A,{className:"w-6 h-6 text-green-500 animate-bounce"})," En Stock"]}):(0,$.jsxs)("span",{className:"text-red-600 flex items-center gap-2",children:[(0,$.jsx)(u.A,{className:"w-6 h-6 text-red-500 animate-pulse"})," Agotado"]})}),(0,$.jsxs)("div",{className:"mt-6 flex gap-4",children:[re?(0,$.jsx)("button",{className:"flex-1 bg-gray-500 rounded-lg py-3 px-8 text-white cursor-not-allowed",children:"Cargando..."}):(0,$.jsxs)(l.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:async()=>{o&&null!==o&&void 0!==o&&o.quantity>0&&(ie(!0),await j(o),await b(),await w(),await N(),ie(!1),oe("/cart"))},className:"w-max bg-midnight-blue hover:bg-purple-night transition-all rounded-lg py-3 px-8 text-white shadow-md flex items-center justify-center",children:[(0,$.jsx)(g.A,{className:"w-6 h-6 mr-2"})," Agregar al Carrito"]}),(0,$.jsx)(T,{product:o,wishlist:E,setAlert:d.n,addToWishlist:async e=>(await _(e.id),!0),removeFromWishlist:async e=>{await C(e)}})]})]})]})]}),(0,$.jsxs)("div",{className:"bg-white p-2 rounded-lg shadow-md mt-16",children:[(0,$.jsx)("h3",{className:"text-2xl font-semibold text-gray-800 mb-4",children:"Recursos del Producto"}),(0,$.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,$.jsx)("div",{className:"space-y-6",children:null!==o&&void 0!==o&&o.pdf||null!==o&&void 0!==o&&o.video_url?(0,$.jsxs)($.Fragment,{children:[(null===o||void 0===o?void 0:o.pdf)&&(0,$.jsxs)("div",{className:"bg-blue-50 p-6 rounded-lg shadow-md transform transition hover:scale-105",children:[(0,$.jsxs)("div",{className:"flex items-center mb-4",children:[(0,$.jsx)(p.A,{className:"w-10 h-10 text-blue-600 mr-3"}),(0,$.jsx)("h4",{className:"text-xl font-semibold text-blue-800",children:"Manual de usuario"})]}),(0,$.jsxs)("div",{className:"flex space-x-4",children:[(0,$.jsxs)("a",{href:o.pdf,download:!0,className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition flex items-center justify-center",children:[(0,$.jsx)(x.A,{className:"w-5 h-5 mr-2"})," Descargar PDF"]}),(0,$.jsxs)("a",{href:o.pdf,target:"_blank",rel:"noopener noreferrer",className:"flex-1 bg-gray-600 text-white py-2 px-4 rounded-lg hover:bg-gray-700 transition flex items-center justify-center",children:[(0,$.jsx)(h.A,{className:"w-5 h-5 mr-2"})," Visualizar"]})]})]}),(null===o||void 0===o?void 0:o.video_url)&&(0,$.jsxs)("div",{className:"bg-green-50 p-6 rounded-lg shadow-md transform transition hover:scale-105",children:[(0,$.jsxs)("div",{className:"flex items-center mb-4",children:[(0,$.jsx)(y.A,{className:"w-10 h-10 text-green-600 mr-3"}),(0,$.jsx)("h4",{className:"text-xl font-semibold text-green-800",children:"Video Explicativo"})]}),(0,$.jsx)("div",{className:"w-full aspect-video rounded-lg overflow-hidden shadow-lg",children:(0,$.jsx)("iframe",{src:`https://www.youtube.com/embed/${B(o.video_url)}`,title:"Product Video",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"w-full h-full"})})]})]}):(0,$.jsx)("div",{className:"bg-gray-100 p-6 rounded-lg text-center",children:(0,$.jsx)("p",{className:"text-gray-600 text-md font-medium",children:"\ud83d\udea7 Estamos trabajando en agregar recursos para este producto. \xa1Vuelve pronto! \ud83d\ude80"})})}),P?(0,$.jsxs)(l.P.div,{className:"bg-white rounded-xl shadow-lg overflow-hidden border border-gray-200",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5},children:[(0,$.jsxs)("div",{className:"bg-gradient-to-r from-midnight-blue to-purple-night p-5 flex items-center space-x-4 text-white",children:[(0,$.jsx)(v.A,{className:"w-8 h-8 animate-bounce text-red-500"}),(0,$.jsx)("h2",{className:"text-l font-bold tracking-wide",children:"Stock por Sucursal"})]}),(0,$.jsxs)("div",{className:"p-6",children:[(0,$.jsxs)("h1",{className:"text-l font-extrabold text-gray-800 mb-6 border-b-2 border-indigo-200 pb-3",children:["Producto: ",null===o||void 0===o?void 0:o.name]}),(0,$.jsx)("div",{className:"overflow-x-auto",children:(0,$.jsxs)("table",{className:"w-full text-left border-collapse",children:[(0,$.jsx)("thead",{className:"bg-indigo-50",children:(0,$.jsxs)("tr",{children:[(0,$.jsx)("th",{className:"p-4 text-sm font-semibold text-indigo-800 uppercase",children:"Sucursal"}),(0,$.jsx)("th",{className:"p-4 text-sm font-semibold text-indigo-800 uppercase text-center",children:"Cantidad"})]})}),(0,$.jsx)("tbody",{children:Ie.filter((e=>e.producto_nombre===(null===o||void 0===o?void 0:o.name))).map(((e,t)=>(0,$.jsxs)(l.P.tr,{className:"border-b transition-all "+(0===e.cantidad?"bg-red-50":Ae===t?"bg-blue-50":""),whileHover:{scale:1.02},onMouseEnter:()=>Se(t),onMouseLeave:()=>Se(null),children:[(0,$.jsx)("td",{className:"p-4 text-gray-700 font-medium text-sm",children:e.sucursal_nombre}),(0,$.jsxs)("td",{className:"p-4 text-center font-bold flex justify-center items-center gap-2 text-xs",children:[0===e.cantidad?(0,$.jsx)(u.A,{className:"w-5 h-5 text-red-600"}):e.cantidad<=5?(0,$.jsx)(f.A,{className:"w-5 h-5 text-yellow-600"}):(0,$.jsx)(m.A,{className:"w-5 h-5 text-green-600"}),(0,$.jsx)("span",{className:0===e.cantidad?"text-red-600":e.cantidad<=5?"text-yellow-600":"text-green-600",children:e.cantidad})]})]},e.id)))})]})})]})]}):(0,$.jsxs)(l.P.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5,ease:"easeInOut"},className:"w-72 h-1/6 mx-auto text-white text-sm font-semibold px-4 py-2 bg-gray-700 shadow-lg rounded-md flex items-center justify-center gap-2",children:[(0,$.jsx)(c.A,{className:"w-5 h-5"})," Inicia sesi\xf3n para m\xe1s detalles"]})]})]}),(0,$.jsxs)("section",{className:"my-10 max-w-7xl mx-auto p-6 bg-white rounded-lg shadow-md",children:[(0,$.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,$.jsx)("h2",{className:"text-2xl font-semibold text-gray-800 text-center",children:"Rese\xf1as del Producto"}),P&&(0,$.jsx)("button",{onClick:()=>{ae()},className:"bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700 text-sm",children:"Entrenar Modelo IA"})]}),U&&(0,$.jsx)("div",{className:"mb-4 p-3 bg-green-100 text-green-700 rounded-md font-medium text-center",children:U}),(0,$.jsx)("div",{className:"mt-6 border-t border-gray-300 pt-4 flex justify-center",children:P?(0,$.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 w-full",children:[(0,$.jsxs)("div",{className:"bg-gray-50 p-6 rounded-lg shadow-md w-full",children:[(0,$.jsxs)("div",{className:"flex items-center space-x-2 mb-4",children:[(0,$.jsx)("label",{htmlFor:"starFilter",className:"text-gray-700",children:"Filtrar por estrellas:"}),(0,$.jsxs)("select",{id:"starFilter",className:"border p-2 rounded cursor-pointer",value:de,onChange:e=>{const t=parseInt(e.target.value,10);ce(t),_e(t)},children:[(0,$.jsx)("option",{value:"",children:"\xdaltimo"}),[5,4,3,2,1].map((e=>(0,$.jsxs)("option",{value:e,children:[e," Estrellas"]},e)))]})]}),(0,$.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"A\xf1ade tu Rese\xf1a"}),ge&&Q&&(0,$.jsxs)("div",{className:`mt-4 p-4 rounded-md text-white font-semibold text-center ${(e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"feliz":return"bg-green-500";case"preocupado":return"bg-yellow-500";case"neutral":return"bg-blue-500";case"desmotivado":return"bg-red-500";case"agresivo":return"bg-pink-600";default:return"bg-gray-500"}})(Q)}`,children:[(e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"feliz":return"\ud83d\ude0a";case"preocupado":return"\ud83d\ude1f";case"neutral":return"\ud83d\ude10";case"desmotivado":return"\ud83d\ude1e";case"agresivo":return"\ud83d\ude21";default:return"\ud83e\udd14"}})(Q)," El comentario fue clasificado como:"," ",(0,$.jsx)("strong",{className:"uppercase",children:Q}),null!==Z&&(0,$.jsxs)("span",{className:"block mt-1 text-sm text-white font-normal",children:["Probabilidad: ",(100*Z).toFixed(2),"%"]})]}),ge&&"Agresivo"===Q&&(0,$.jsx)("div",{className:"mt-4 p-3 rounded-md bg-red-100 text-red-800 text-center font-medium",children:te?(0,$.jsxs)("div",{children:["\ud83d\uded1 Has alcanzado el l\xedmite de 3 comentarios agresivos. Tu cuenta ha sido suspendida.",(0,$.jsx)("br",{}),(0,$.jsx)("span",{className:"text-sm",children:"Por favor, contacta con soporte t\xe9cnico."})]}):(0,$.jsxs)("div",{children:["\u26a0\ufe0f Comentario agresivo detectado. Advertencia ",ee,"/3."]})}),(0,$.jsxs)("form",{onSubmit:J&&J.comment?e=>{e.preventDefault(),te?(0,d.n)("Tu cuenta est\xe1 suspendida por comentarios agresivos. Contacta con soporte.","error"):xe?null!==we&&""!==je.trim()&&(ve(),setTimeout((()=>{"agresivo"===(null===Q||void 0===Q?void 0:Q.toLowerCase())&&te||O(ye,we,je)}),1e3)):(0,d.n)("Por favor espera un momento antes de enviar otro comentario.","warning")}:e=>{e.preventDefault(),te?(0,d.n)("Tu cuenta est\xe1 suspendida por comentarios agresivos. Contacta con soporte.","error"):xe?null!==we&&""!==je.trim()&&(ve(),setTimeout((()=>{"agresivo"===(null===Q||void 0===Q?void 0:Q.toLowerCase())&&te||M(ye,we,je)}),1e3)):(0,d.n)("Por favor espera un momento antes de enviar otro comentario.","warning")},className:"mt-3 space-y-4 text-left",children:[(0,$.jsx)("div",{className:"relative",children:(0,$.jsx)("textarea",{rows:5,name:"comment",required:!0,value:je,onChange:Ne,placeholder:(null===J||void 0===J?void 0:J.comment)||"Escribe tu opini\xf3n...",className:"text-sm w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",disabled:te})}),(0,$.jsxs)("select",{name:"rating",required:!0,value:we,onChange:Ne,className:"w-full p-2 border border-gray-300 rounded-lg",disabled:te,children:[(0,$.jsx)("option",{value:"",children:"Selecciona una calificaci\xf3n"}),[1,2,3,4,5].map((e=>(0,$.jsxs)("option",{value:e,children:[e," Estrella",e>1&&"s"]},e)))]}),(0,$.jsx)("button",{type:"submit",disabled:!we||!je&&(null===J||void 0===J?void 0:J.comment)===je||!xe||te,className:"w-full py-2 rounded-lg transition "+(!we||!je&&null!==J&&void 0!==J&&J.comment||!xe||te?"bg-gray-400 cursor-not-allowed":"bg-midnight-blue text-white hover:bg-purple-night"),children:te?"Cuenta Suspendida":xe?J&&J.comment?"Actualizar Rese\xf1a":"A\xf1adir Rese\xf1a":"Esperando an\xe1lisis..."})]}),J&&J.comment&&P&&!te&&(0,$.jsx)("button",{onClick:()=>{(async()=>{await W(ye),await L(ye),be({comment:""})})()},className:"mt-2 w-full bg-crimson-red text-white py-2 rounded-lg hover:bg-red-700 transition",children:"Eliminar Rese\xf1a"})]}),(0,$.jsx)("div",{className:"space-y-4",children:V&&V.length>0?(0,$.jsx)($.Fragment,{children:V.map(((e,t)=>(0,$.jsxs)("div",{className:"flex items-start bg-white p-3 rounded-lg shadow-sm border border-gray-200",children:[(0,$.jsx)("div",{className:"mr-3 flex-shrink-0",children:(0,$.jsx)("span",{className:"inline-block h-10 w-10 rounded-full overflow-hidden bg-gray-200",children:(0,$.jsx)("svg",{className:"h-full w-full text-gray-400",fill:"currentColor",viewBox:"0 0 24 24",children:(0,$.jsx)("path",{d:"M24 20.993V24H0v-2.996A14.977 14.977 0 0112.004 15c4.904 0 9.26 2.354 11.996 5.993zM16.002 8.999a4 4 0 11-8 0 4 4 0 018 0z"})})})}),(0,$.jsxs)("div",{className:"flex-1",children:[(0,$.jsx)(F,{rating:e.rating}),(0,$.jsx)("h4",{className:"text-sm font-semibold text-gray-800",children:e.user}),(0,$.jsx)("p",{className:"text-gray-600 text-sm mt-1 "+(me[t]?"":"line-clamp-2"),children:e.comment}),e.comment.length>100&&(0,$.jsx)("button",{onClick:()=>(e=>{ue((t=>({...t,[e]:!t[e]})))})(t),className:"text-indigo-600 hover:underline text-sm mt-1",children:me[t]?"Mostrar menos":"Mostrar m\xe1s"})]})]},t)))}):(0,$.jsx)("div",{className:"flex justify-center",children:(0,$.jsx)("p",{className:"text-gray-500 text-sm",children:"A\xfan no hay rese\xf1as para este producto."})})})]}):(0,$.jsxs)(l.P.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5,ease:"easeInOut"},className:"w-72 mx-auto text-white text-sm font-semibold px-4 py-2 bg-gray-700 shadow-lg rounded-md flex items-center justify-center gap-2",children:[(0,$.jsx)(c.A,{className:"w-5 h-5"})," Inicia sesi\xf3n para ver rese\xf1as de los productos"]})})]}),(0,$.jsx)("div",{className:"flex items-baseline justify-between pt-12 pb-6 border-b border-gray-200",children:(0,$.jsx)("h1",{className:"text-4xl font-extrabold tracking-tight text-gray-900",children:"Productos relacionados"})}),(0,$.jsxs)("section",{"aria-labelledby":"products-heading",className:"pt-10 pb-6 px-6 sm:px-10 lg:px-4 md:px-4",children:[(0,$.jsx)("h2",{id:"products-heading",className:"sr-only",children:"Productos"}),(0,$.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-x-10 gap-y-12",children:(0,$.jsxs)("div",{className:"lg:col-span-3",children:[(0,$.jsx)("div",{className:"grid sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-6",children:(()=>{if(!o||!o.category)return null;const e=le?Y:X,t=[...(null===e||void 0===e?void 0:e.filter((e=>e.category===o.category)))||[]].sort((()=>Math.random()-.5)),s=5*(ne-1);return t.slice(s,s+5).map((e=>(0,$.jsx)(k.A,{product:e},e.id)))})()}),(0,$.jsx)("div",{className:"mt-10",children:(()=>{const e=le?Y:X,t=e?Math.ceil(e.length/5):0;if(t<=1)return null;let s=Math.max(1,ne-Math.floor(5)),a=Math.min(t,s+10-1);a-s+1<10&&(s=Math.max(1,a-10+1))})()})]})})]})]})})})}))},9703:(e,t,s)=>{s.d(t,{I:()=>i});var a=s(6213),r=s(4308);const i=()=>async e=>{const t={headers:{Accept:"application/json"}};try{const s=await a.A.get("http://localhost:8000/api/brand/brands",t);s.status>=200&&s.status<300?e({type:r.Oj,payload:s.data}):(console.error("Error: Unexpected response status",s.status),e({type:r.$_}))}catch(s){console.error("Error fetching brands:",s.message),e({type:r.$_})}}},3178:(e,t,s)=>{s.d(t,{OY:()=>l,dm:()=>d,mN:()=>n,uO:()=>o});var a=s(6213),r=s(4308);const i=()=>({headers:{Authorization:`JWT ${localStorage.getItem("access")}`,"Content-Type":"application/json",Accept:"application/json"}}),o=()=>async e=>{if(localStorage.getItem("access"))try{const t=await a.A.get("http://localhost:8000/api/wishlist/wishlist-items",i());e({type:r.Q$,payload:t.data})}catch(t){e({type:r.ti})}},l=e=>async t=>{if(!localStorage.getItem("access"))return;const s=JSON.stringify({product_id:e});try{const e=await a.A.post("http://localhost:8000/api/wishlist/add-item",s,i());t({type:r.eW,payload:e.data})}catch(o){t({type:r.Xd})}},n=()=>async e=>{if(localStorage.getItem("access"))try{const t=await a.A.get("http://localhost:8000/api/wishlist/get-item-total",i());e({type:r.qT,payload:t.data})}catch(t){e({type:r.hZ})}},d=e=>async t=>{if(!localStorage.getItem("access"))return;const s={...i(),data:{product_id:e}};try{await a.A.delete("http://localhost:8000/api/wishlist/remove-item",s),t({type:r.$F,payload:e}),console.log("\ud83d\ude80 Producto eliminado del wishlist:",e)}catch(o){t({type:r.in})}}}}]);
//# sourceMappingURL=306.9f94d6e7.chunk.js.map