"use strict";(self.webpackChunkecommerce=self.webpackChunkecommerce||[]).push([[518],{4344:(t,e,a)=>{a.r(e),a.d(e,{default:()=>u});var o=a(342),s=a(5043),i=a(3003),r=a(5475),c=a(117),n=a(3546),l=a(3178),d=a(3115),p=a(579);const u=(0,i.Ng)((t=>({wishlist_items:t.Wishlist.items,isAuthenticated:t.Auth.isAuthenticated,user:t.Auth.user})),{setAlert:d.n,remove_wishlist_item:l.dm,get_wishlist_items:l.uO})((t=>{let{wishlist_items:e,setAlert:a,isAuthenticated:d,user:u,product:h}=t;const[m,g]=(0,s.useState)(null),[y,f]=(0,s.useState)(0),[x,v]=(0,s.useState)(null),w=(0,i.wA)(),[j,S]=(0,s.useState)(!1);(0,s.useEffect)((()=>{window.scrollTo(0,0),w((0,l.uO)())}),[j,w]),(0,s.useEffect)((()=>{if(e&&e.length>0){const t=12,a=Math.min(e.length/t*100,100);f(a)}else f(0)}),[e]);const _={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{type:"spring",stiffness:100}},exit:{scale:.8,opacity:0,transition:{duration:.3}}};return(0,p.jsx)(o.A,{children:(0,p.jsx)("div",{className:"bg-gradient-to-b from-gray-50 to-white min-h-screen",children:(0,p.jsxs)("div",{className:"max-w-7xl mx-auto pt-16 pb-24 px-4 sm:px-6 lg:px-8",children:[(0,p.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-12",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("h1",{className:"text-3xl font-extrabold tracking-tight text-gray-900 sm:text-4xl bg-clip-text text-transparent bg-black",children:"Productos Favoritos"}),(0,p.jsx)("p",{className:"mt-2 text-sm text-gray-500",children:null!==e&&void 0!==e&&e.length?`${e.length} producto${1!==e.length?"s":""} en tu lista`:"A\xfan no tienes productos favoritos"})]}),(0,p.jsx)("div",{className:"mt-4 md:mt-0",children:(0,p.jsxs)(r.N_,{to:"/shop",className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-gradient-to-r from-midnight-blue to-purple-night hover:from-crimson-red hover:to-deep-rose focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 transition-all duration-300",children:[(0,p.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mr-2 h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,p.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 8h16M4 16h16"})}),"Explorar m\xe1s productos"]})})]}),(0,p.jsx)("div",{className:"w-full bg-gray-200 h-2 rounded-full overflow-hidden mb-10",children:(0,p.jsx)(c.P.div,{initial:{width:0},animate:{width:`${y}%`},transition:{duration:1,ease:"easeOut"},className:"bg-gradient-to-r from-deep-rose via-crimson-red to-red-500 h-2"})}),e&&e.length>0?(0,p.jsx)(c.P.div,{variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},initial:"hidden",animate:"visible",className:"grid grid-cols-2 gap-y-10 gap-x-6 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5",children:(0,p.jsx)(n.N,{children:e.map(((t,e)=>{var o,s,i,n;return(0,p.jsx)(c.P.div,{variants:_,exit:"exit",layout:!0,className:"group relative "+(m===t.product.id?"opacity-50":""),onMouseEnter:()=>v(t.product.id),onMouseLeave:()=>v(null),children:(0,p.jsxs)("div",{className:"m-2 rounded-lg overflow-hidden bg-white shadow-md hover:shadow-xl transition-shadow duration-300 transform hover:-translate-y-1",children:[(0,p.jsxs)("div",{className:"relative pb-[100%]",children:[(0,p.jsxs)(r.N_,{to:`/product/${t.product.id}`,children:[(0,p.jsx)("img",{src:t.product.photo,alt:t.product.name,className:"p-6 absolute inset-0 w-full h-full object-cover object-center transition-transform duration-500 ease-in-out group-hover:scale-110"}),(0,p.jsx)("div",{className:"absolute inset-0 bg-black opacity-0 group-hover:opacity-10 transition-opacity duration-300"})]}),(0,p.jsx)("button",{onClick:()=>(async t=>{g(t),await w((0,l.dm)(t)),setTimeout((()=>{S((t=>!t)),a("Producto eliminado de favoritos","success"),g(null)}),300)})(t.product.id),className:"absolute top-3 right-3 z-10 bg-white text-gray-600 rounded-full p-2 shadow-md hover:bg-red-50 hover:text-red-500 transition-all duration-300 transform hover:scale-110",title:"Eliminar de favoritos",children:(0,p.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,p.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,p.jsx)("div",{className:"p-4",children:(0,p.jsxs)(r.N_,{to:`/product/${t.product.id}`,children:[(0,p.jsx)("h3",{className:"text-sm font-medium text-gray-900 line-clamp-2 h-10",children:t.product.name}),(0,p.jsxs)("div",{className:"mt-2 flex justify-between items-center",children:[(0,p.jsx)("span",{className:"text-lg",children:u&&void 0!==u.mayorista_tipo?0===u.mayorista_tipo?null===(o=t.product)||void 0===o?void 0:o.price:1===u.mayorista_tipo?null===(s=t.product)||void 0===s?void 0:s.price_mayorista_1:2===u.mayorista_tipo?null===(i=t.product)||void 0===i?void 0:i.price_mayorista_2:3===u.mayorista_tipo?null===(n=t.product)||void 0===n?void 0:n.price_mayorista_3:"N/A":"Inicia sesi\xf3n"}),(0,p.jsx)(c.P.div,{initial:{opacity:0,x:20},animate:{opacity:x===t.product.id?1:0,x:x===t.product.id?0:10},className:"text-purple-600",children:(0,p.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,p.jsx)("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})})]})]})})]})},t.product.id)}))})}):(0,p.jsxs)(c.P.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.6},className:"flex flex-col items-center justify-center py-24 text-center",children:[(0,p.jsx)(c.P.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.2,type:"spring",stiffness:100},children:(0,p.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-32 w-32 text-gray-400 mb-6 transform rotate-[-10deg]",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",children:[(0,p.jsx)("path",{d:"M6 6h15l-1.5 9h-13L4 4H2"}),(0,p.jsx)("circle",{cx:"9",cy:"20",r:"1"}),(0,p.jsx)("circle",{cx:"18",cy:"20",r:"1"})]})}),(0,p.jsx)("h2",{className:"text-2xl font-bold text-gray-700 mb-2",children:"Tu lista de favoritos est\xe1 vac\xeda"}),(0,p.jsx)("p",{className:"text-gray-500 text-lg mb-8 max-w-md",children:"Agrega productos a tus favoritos para guardarlos aqu\xed y tenerlos a la mano cuando los necesites"}),(0,p.jsx)(r.N_,{to:"/shop",className:"group relative inline-flex items-center justify-center overflow-hidden rounded-lg bg-gradient-to-br from-midnight-blue to-purple-night p-0.5 text-sm font-medium text-white hover:text-white focus:outline-none focus:ring-4 focus:ring-purple-200",children:(0,p.jsx)("span",{className:"relative rounded-md bg-white px-6 py-3 transition-all duration-75 ease-in group-hover:bg-opacity-0 text-gray-700 group-hover:text-white font-semibold",children:"Descubrir productos incre\xedbles"})})]})]})})})}))},342:(t,e,a)=>{a.d(e,{A:()=>u});var o=a(3401),s=(a(2342),a(35)),i=a(1507),r=a(9784),c=a(5043),n=a(3003),l=a(4834),d=a(8017),p=a(579);const u=(0,n.Ng)(null,{check_authenticated:s.f_,load_user:s.Jc,refresh:s.Ow,get_items:i.Su,get_total:i.OL,get_item_total:i.ES,get_user_profile:r.h})((t=>((0,c.useEffect)((()=>{t.refresh(),t.check_authenticated(),t.load_user(),t.get_items(),t.get_total(),t.get_item_total(),t.get_user_profile()}),[]),(0,p.jsxs)("div",{children:[(0,p.jsx)(l.A,{}),(0,p.jsx)(o.N9,{autoClose:5e3}),t.children,(0,p.jsx)(d.A,{})]}))))},1507:(t,e,a)=>{a.d(e,{ES:()=>n,K$:()=>i,OL:()=>c,Su:()=>r,eV:()=>l,j5:()=>d});var o=a(6213),s=a(4308);const i=t=>async e=>{if(localStorage.getItem("access")){const i={headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`JWT ${localStorage.getItem("access")}`}},r=t.id,c=JSON.stringify({product_id:r});try{const t=await o.A.post("http://localhost:8000/api/cart/add-item",c,i);201===t.status?e({type:s.CF,payload:t.data}):e({type:s.J1})}catch(a){e({type:s.J1})}}else{let a=[];localStorage.getItem("cart")&&(a=JSON.parse(localStorage.getItem("cart")));let o=!0;a.map((e=>{t.id.toString()===e.product.id.toString()&&(o=!1)}));const i={product:t,count:1};o&&a.push(i),e({type:s.SJ,payload:a})}},r=()=>async t=>{if(localStorage.getItem("access")){const a={headers:{Accept:"application/json",Authorization:`JWT ${localStorage.getItem("access")}`}};try{const e=await o.A.get("http://localhost:8000/api/cart/cart-items",a);200===e.status?t({type:s._W,payload:e.data}):t({type:s.BS})}catch(e){t({type:s.BS})}}else t({type:s.K})},c=()=>async t=>{if(localStorage.getItem("access")){const a={headers:{Accept:"application/json",Authorization:`JWT ${localStorage.getItem("access")}`}};try{const e=await o.A.get("http://localhost:8000/api/cart/get-total",a);200===e.status?t({type:s.oy,payload:e.data}):t({type:s.pp})}catch(e){t({type:s.pp})}}else{let e=0,a=0,o=[];localStorage.getItem("cart")&&(o=JSON.parse(localStorage.getItem("cart")),o.map((t=>{e+=parseFloat(t.product.price)*parseFloat(t.count),a+=parseFloat(t.product.compare_price)*parseFloat(t.count)}))),t({type:s.Kl,payload:[parseFloat(e.toFixed(2)),parseFloat(a.toFixed(2))]})}},n=()=>async t=>{if(localStorage.getItem("access")){const a={headers:{Accept:"application/json",Authorization:`JWT ${localStorage.getItem("access")}`}};try{const e=await o.A.get("http://localhost:8000/api/cart/get-item-total",a);200===e.status?t({type:s.O5,payload:e.data}):t({type:s.DY})}catch(e){t({type:s.DY})}}else{let e=0;localStorage.getItem("cart")&&(e=JSON.parse(localStorage.getItem("cart")).length),t({type:s.Ig,payload:e})}},l=(t,e)=>async a=>{if(localStorage.getItem("access")){const r={headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`JWT ${localStorage.getItem("access")}`}},c=t.product.id,n=JSON.stringify({product_id:c,count:e});try{const t=await o.A.put("http://localhost:8000/api/cart/update-item",n,r);200!==t.status||t.data.error?a({type:s.lP}):a({type:s.Qk,payload:t.data})}catch(i){a({type:s.lP})}}else{let o=[];localStorage.getItem("cart")&&(o=JSON.parse(localStorage.getItem("cart")),o.map(((a,s)=>{a.product.id.toString()===t.product.id.toString()&&(o[s].count=parseInt(e))}))),a({type:s.u3,payload:o})}},d=t=>async e=>{if(localStorage.getItem("access")){const i=t.product.id,r=JSON.stringify({product_id:i}),c={headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`JWT ${localStorage.getItem("access")}`},data:r};try{const t=await o.A.delete("http://localhost:8000/api/cart/remove-item",c);200===t.status?e({type:s.J0,payload:t.data}):e({type:s.uP})}catch(a){e({type:s.uP})}}else{let a=[],o=[];localStorage.getItem("cart")&&(a=JSON.parse(localStorage.getItem("cart")),a.map((e=>{e.product.id.toString()!==t.product.id.toString()&&o.push(e)}))),e({type:s.Zk,payload:o})}}},9784:(t,e,a)=>{a.d(e,{Y:()=>c,h:()=>r});var o=a(6213),s=a(3115),i=a(4308);const r=()=>async t=>{if(localStorage.getItem("access")){const a={headers:{Accept:"application/json",Authorization:`JWT ${localStorage.getItem("access")}`}};try{const e=await o.A.get("http://localhost:8000/api/profile/user",a);200===e.status?t({type:i.xC,payload:e.data}):t({type:i.kA})}catch(e){t({type:i.kA})}}},c=(t,e,a,r,c,n,l)=>async d=>{if(localStorage.getItem("access")){const u={headers:{Accept:"application/json","Content-Type":"application/json",Authorization:`JWT ${localStorage.getItem("access")}`}},h=JSON.stringify({address_line_1:t,address_line_2:e,city:a,state_province_region:r,zipcode:c,phone:n,country_region:l});try{const t=await o.A.put("http://localhost:8000/api/profile/update",h,u);200===t.status?(d({type:i.Mf,payload:t.data}),d((0,s.n)("Profile updated successfully","green"))):(d({type:i.TX}),d((0,s.n)("Failed to update profile","red")))}catch(p){d({type:i.TX}),d((0,s.n)("Failed to update profile","red"))}}}},3178:(t,e,a)=>{a.d(e,{OY:()=>c,dm:()=>l,mN:()=>n,uO:()=>r});var o=a(6213),s=a(4308);const i=()=>({headers:{Authorization:`JWT ${localStorage.getItem("access")}`,"Content-Type":"application/json",Accept:"application/json"}}),r=()=>async t=>{if(localStorage.getItem("access"))try{const e=await o.A.get("http://localhost:8000/api/wishlist/wishlist-items",i());t({type:s.Q$,payload:e.data})}catch(e){t({type:s.ti})}},c=t=>async e=>{if(!localStorage.getItem("access"))return;const a=JSON.stringify({product_id:t});try{const t=await o.A.post("http://localhost:8000/api/wishlist/add-item",a,i());e({type:s.eW,payload:t.data})}catch(r){e({type:s.Xd})}},n=()=>async t=>{if(localStorage.getItem("access"))try{const e=await o.A.get("http://localhost:8000/api/wishlist/get-item-total",i());t({type:s.qT,payload:e.data})}catch(e){t({type:s.hZ})}},l=t=>async e=>{if(!localStorage.getItem("access"))return;const a={...i(),data:{product_id:t}};try{await o.A.delete("http://localhost:8000/api/wishlist/remove-item",a),e({type:s.$F,payload:t}),console.log("\ud83d\ude80 Producto eliminado del wishlist:",t)}catch(r){e({type:s.in})}}},3546:(t,e,a)=>{a.d(e,{N:()=>f});var o=a(579),s=a(5043),i=a(2190),r=a(4930),c=a(9674),n=a(1051);class l extends s.Component{getSnapshotBeforeUpdate(t){const e=this.props.childRef.current;if(e&&t.isPresent&&!this.props.isPresent){const t=e.offsetParent,a=t instanceof HTMLElement&&t.offsetWidth||0,o=this.props.sizeRef.current;o.height=e.offsetHeight||0,o.width=e.offsetWidth||0,o.top=e.offsetTop,o.left=e.offsetLeft,o.right=a-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function d(t){let{children:e,isPresent:a,anchorX:i}=t;const r=(0,s.useId)(),c=(0,s.useRef)(null),d=(0,s.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:p}=(0,s.useContext)(n.Q);return(0,s.useInsertionEffect)((()=>{const{width:t,height:e,top:o,left:s,right:n}=d.current;if(a||!c.current||!t||!e)return;const l="left"===i?`left: ${s}`:`right: ${n}`;c.current.dataset.motionPopId=r;const u=document.createElement("style");return p&&(u.nonce=p),document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`\n          [data-motion-pop-id="${r}"] {\n            position: absolute !important;\n            width: ${t}px !important;\n            height: ${e}px !important;\n            ${l}px !important;\n            top: ${o}px !important;\n          }\n        `),()=>{document.head.removeChild(u)}}),[a]),(0,o.jsx)(l,{isPresent:a,childRef:c,sizeRef:d,children:s.cloneElement(e,{ref:c})})}const p=t=>{let{children:e,initial:a,isPresent:i,onExitComplete:n,custom:l,presenceAffectsLayout:p,mode:h,anchorX:m}=t;const g=(0,r.M)(u),y=(0,s.useId)(),f=(0,s.useCallback)((t=>{g.set(t,!0);for(const e of g.values())if(!e)return;n&&n()}),[g,n]),x=(0,s.useMemo)((()=>({id:y,initial:a,isPresent:i,custom:l,onExitComplete:f,register:t=>(g.set(t,!1),()=>g.delete(t))})),p?[Math.random(),f]:[i,f]);return(0,s.useMemo)((()=>{g.forEach(((t,e)=>g.set(e,!1)))}),[i]),s.useEffect((()=>{!i&&!g.size&&n&&n()}),[i]),"popLayout"===h&&(e=(0,o.jsx)(d,{isPresent:i,anchorX:m,children:e})),(0,o.jsx)(c.t.Provider,{value:x,children:e})};function u(){return new Map}var h=a(8917);const m=t=>t.key||"";function g(t){const e=[];return s.Children.forEach(t,(t=>{(0,s.isValidElement)(t)&&e.push(t)})),e}var y=a(293);const f=t=>{let{children:e,custom:a,initial:c=!0,onExitComplete:n,presenceAffectsLayout:l=!0,mode:d="sync",propagate:u=!1,anchorX:f="left"}=t;const[x,v]=(0,h.xQ)(u),w=(0,s.useMemo)((()=>g(e)),[e]),j=u&&!x?[]:w.map(m),S=(0,s.useRef)(!0),_=(0,s.useRef)(w),N=(0,r.M)((()=>new Map)),[A,b]=(0,s.useState)(w),[I,k]=(0,s.useState)(w);(0,y.E)((()=>{S.current=!1,_.current=w;for(let t=0;t<I.length;t++){const e=m(I[t]);j.includes(e)?N.delete(e):!0!==N.get(e)&&N.set(e,!1)}}),[I,j.length,j.join("-")]);const C=[];if(w!==A){let t=[...w];for(let e=0;e<I.length;e++){const a=I[e],o=m(a);j.includes(o)||(t.splice(e,0,a),C.push(a))}return"wait"===d&&C.length&&(t=C),k(g(t)),b(w),null}const{forceRender:P}=(0,s.useContext)(i.L);return(0,o.jsx)(o.Fragment,{children:I.map((t=>{const e=m(t),s=!(u&&!x)&&(w===I||j.includes(e));return(0,o.jsx)(p,{isPresent:s,initial:!(S.current&&!c)&&void 0,custom:a,presenceAffectsLayout:l,mode:d,onExitComplete:s?void 0:()=>{if(!N.has(e))return;N.set(e,!0);let t=!0;N.forEach((e=>{e||(t=!1)})),t&&(null===P||void 0===P||P(),k(_.current),u&&(null===v||void 0===v||v()),n&&n())},anchorX:f,children:t},e)}))})}}}]);
//# sourceMappingURL=518.1116578f.chunk.js.map