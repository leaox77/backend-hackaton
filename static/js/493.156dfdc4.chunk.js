"use strict";(self.webpackChunkecommerce=self.webpackChunkecommerce||[]).push([[493],{8493:(e,r,t)=>{t.r(r),t.d(r,{default:()=>U});var n=t(6669),o=t(5043),a=t(3401),l=t(6910),s=t(9161),i=t(156),c=t(5962);var u=t(3057),d=t(1488),m=t(9358),f=t(2225),g=t(7950);function p(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];for(let[n,o]of Object.entries(e))b(t,h(r,n),o);return t}function h(e,r){return e?e+"["+r+"]":r}function b(e,r,t){if(Array.isArray(t))for(let[n,o]of t.entries())b(e,h(r,n.toString()),o);else t instanceof Date?e.push([r,t.toISOString()]):"boolean"==typeof t?e.push([r,t?"1":"0"]):"string"==typeof t?e.push([r,t]):"number"==typeof t?e.push([r,`${t}`]):null==t?e.push([r,""]):p(t,r,e)}var v=t(5641),y=t(6593);let x=(0,o.createContext)(null);function w(e){let{children:r}=e,t=(0,o.useContext)(x);if(!t)return o.createElement(o.Fragment,null,r);let{target:n}=t;return n?(0,g.createPortal)(o.createElement(o.Fragment,null,r),n):null}function j(e){let{data:r,form:t,disabled:n,onReset:a,overrides:l}=e,[s,i]=(0,o.useState)(null),c=(0,u.L)();return(0,o.useEffect)((()=>{if(a&&s)return c.addEventListener(s,"reset",a)}),[s,t,a]),o.createElement(w,null,o.createElement(N,{setForm:i,formId:t}),p(r).map((e=>{let[r,a]=e;return o.createElement(y.j,{features:y.u.Hidden,...(0,v.oE)({key:r,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:t,disabled:n,name:r,value:a,...l})})})))}function N(e){let{setForm:r,formId:t}=e;return(0,o.useEffect)((()=>{if(t){let e=document.getElementById(t);e&&r(e)}}),[r,t]),t?null:o.createElement(y.j,{features:y.u.Hidden,as:"input",type:"hidden",hidden:!0,readOnly:!0,ref:e=>{if(!e)return;let t=e.closest("form");t&&r(t)}})}var C=t(7376),E=t(6034),k=t(8619),S=t(7507),D=t(1075);let _=(0,o.createContext)(null);_.displayName="GroupContext";let F=o.Fragment;let P=(0,v.FX)((function(e,r){var t;let n=(0,o.useId)(),a=(0,C.q)(),g=(0,f._)(),{id:p=a||`headlessui-switch-${n}`,disabled:h=g||!1,checked:b,defaultChecked:y,onChange:x,name:w,value:N,form:F,autoFocus:P=!1,...R}=e,T=(0,o.useContext)(_),[A,I]=(0,o.useState)(null),q=(0,o.useRef)(null),L=(0,m.P)(q,r,null===T?null:T.setSwitch,I),M=function(e){let[r]=(0,o.useState)(e);return r}(y),[O,U]=function(e,r,t){let[n,a]=(0,o.useState)(t),l=void 0!==e,s=(0,o.useRef)(l),i=(0,o.useRef)(!1),u=(0,o.useRef)(!1);return!l||s.current||i.current?!l&&s.current&&!u.current&&(u.current=!0,s.current=l,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")):(i.current=!0,s.current=l,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")),[l?e:n,(0,c._)((e=>(l||a(e),null==r?void 0:r(e))))]}(b,x,null!=M&&M),H=(0,u.L)(),[$,B]=(0,o.useState)(!1),G=(0,c._)((()=>{B(!0),null==U||U(!O),H.nextFrame((()=>{B(!1)}))})),V=(0,c._)((e=>{if((0,E.l)(e.currentTarget))return e.preventDefault();e.preventDefault(),G()})),K=(0,c._)((e=>{e.key===S.D.Space?(e.preventDefault(),G()):e.key===S.D.Enter&&function(e){var r,t;let n=null!=(r=null==e?void 0:e.form)?r:e.closest("form");if(n){for(let r of n.elements)if(r!==e&&("INPUT"===r.tagName&&"submit"===r.type||"BUTTON"===r.tagName&&"submit"===r.type||"INPUT"===r.nodeName&&"image"===r.type))return void r.click();null==(t=n.requestSubmit)||t.call(n)}}(e.currentTarget)})),z=(0,c._)((e=>e.preventDefault())),J=(0,D.o2)(),W=(0,k.MM)(),{isFocusVisible:X,focusProps:Y}=(0,l.o)({autoFocus:P}),{isHovered:Z,hoverProps:Q}=(0,s.M)({isDisabled:h}),{pressed:ee,pressProps:re}=(0,i.Z)({disabled:h}),te=(0,o.useMemo)((()=>({checked:O,disabled:h,hover:Z,focus:X,active:ee,autofocus:P,changing:$})),[O,Z,X,ee,h,$,P]),ne=(0,v.v6)({id:p,ref:L,role:"switch",type:(0,d.c)(e,A),tabIndex:-1===e.tabIndex?0:null!=(t=e.tabIndex)?t:0,"aria-checked":O,"aria-labelledby":J,"aria-describedby":W,disabled:h||void 0,autoFocus:P,onClick:V,onKeyUp:K,onKeyPress:z},Y,Q,re),oe=(0,o.useCallback)((()=>{if(void 0!==M)return null==U?void 0:U(M)}),[U,M]),ae=(0,v.Ci)();return o.createElement(o.Fragment,null,null!=w&&o.createElement(j,{disabled:h,data:{[w]:N||"on"},overrides:{type:"checkbox",checked:O},form:F,onReset:oe}),ae({ourProps:ne,theirProps:R,slot:te,defaultTag:"button",name:"Switch"}))})),R=function(e){var r;let[t,n]=(0,o.useState)(null),[a,l]=(0,D.b0)(),[s,i]=(0,k.rU)(),c=(0,o.useMemo)((()=>({switch:t,setSwitch:n})),[t,n]),u=e,d=(0,v.Ci)();return o.createElement(i,{name:"Switch.Description",value:s},o.createElement(l,{name:"Switch.Label",value:a,props:{htmlFor:null==(r=c.switch)?void 0:r.id,onClick(e){t&&(e.currentTarget instanceof HTMLLabelElement&&e.preventDefault(),t.click(),t.focus({preventScroll:!0}))}}},o.createElement(_.Provider,{value:c},d({ourProps:{},theirProps:u,slot:{},defaultTag:F,name:"Switch.Group"}))))},T=D.JU,A=k.VY,I=Object.assign(P,{Group:R,Label:T,Description:A});var q=t(6213),L=t(3003),M=t(6999),O=t(579);const U=(0,L.Ng)((e=>({})),{})((function(){(0,o.useEffect)((()=>{window.scrollTo(0,0)}),[]);const[e,r]=(0,o.useState)({anverso:null,reverso:null}),[t,l]=(0,o.useState)(!1),[s,i]=(0,o.useState)(!1),[c,u]=(0,o.useState)({nombre:"",apellido:"",ci:"",numero_celular:"",correo:"",ciudad:"",direccion:"",actividad_economica:"",foto_anverso_ci:null,foto_reverso_ci:null}),d=e=>{"file"===e.target.type?u({...c,[e.target.name]:e.target.files[0]}):u({...c,[e.target.name]:e.target.value})};return(0,O.jsx)(n.A,{children:(0,O.jsxs)("div",{className:"max-w-3xl mx-auto p-10 bg-white shadow-2xl rounded-3xl border border-gray-200 py-16 m-12",children:[(0,O.jsx)("h2",{className:"text-4xl font-extrabold text-midnight-blue text-center mb-6",children:"Pre-Registro de Usuario"}),(0,O.jsx)("p",{className:"text-gray-600 text-center mb-8",children:"Nos especializamos en ventas mayoristas. Evaluaremos la informaci\xf3n proporcionada para verificar si califica para registrarse como cliente."}),(0,O.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!t)return void a.oR.error("Debes aceptar los t\xe9rminos y condiciones de privacidad.");i(!0);const r=new FormData;Object.keys(c).forEach((e=>{r.append(e,c[e])}));for(let t of r.entries())console.log(t[0],t[1]);try{await q.A.post("http://localhost:8000/api/user_register/",r,{headers:{"Content-Type":"multipart/form-data"}}),a.oR.success("Registro enviado correctamente.")}catch(n){console.error("Error en el registro:",n.response),a.oR.error("Error al enviar el formulario.")}i(!1)},className:"space-y-6",children:[(0,O.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[(0,O.jsx)("input",{type:"text",name:"nombre",placeholder:"Nombre",required:!0,onChange:d,className:"w-full p-3 border border-gray-300 rounded-lg bg-gray-100 focus:border-purple-night focus:ring focus:ring-blue-200"}),(0,O.jsx)("input",{type:"text",name:"apellido",placeholder:"Apellido",required:!0,onChange:d,className:"w-full p-3 border border-gray-300 rounded-lg bg-gray-100 focus:border-purple-night focus:ring focus:ring-blue-200"})]}),(0,O.jsxs)("div",{className:"space-y-4",children:[(0,O.jsx)("input",{type:"text",name:"ci",placeholder:"C\xe9dula de Identidad",required:!0,onChange:d,className:"w-full p-3 border border-gray-300 rounded-lg bg-gray-100 focus:border-purple-600 focus:ring focus:ring-purple-300"}),(0,O.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-12",children:["anverso","reverso"].map((t=>(0,O.jsxs)("label",{className:"relative flex flex-col items-center justify-center  p-3 border border-solid border-midnight-blue rounded-lg bg-blue-50 cursor-pointer hover:bg-blue-100",children:[(0,O.jsx)(M.A,{className:"h-6 w-6 text-midnight-blue"}),(0,O.jsxs)("span",{children:["Subir foto ",t," CI"]}),(0,O.jsx)("input",{type:"file",name:`foto_${t}_ci`,required:!0,onChange:e=>((e,t)=>{const n=e.target.files[0];if(n){const e=new FileReader;e.onload=()=>{r((r=>({...r,[t]:e.result})))},e.readAsDataURL(n)}d&&d(e)})(e,t),className:"hidden",accept:"image/*"}),e[t]&&(0,O.jsx)("img",{src:e[t],alt:`Vista previa ${t}`,className:"mt-2 w-48 h-32 object-cover rounded-lg border border-gray-300"})]},t)))})]}),(0,O.jsx)("input",{type:"text",name:"numero_celular",placeholder:"N\xfamero de Celular",required:!0,onChange:d,className:"w-full p-3 border border-gray-300 rounded-lg bg-gray-100 focus:border-purple-night focus:ring focus:ring-blue-200"}),(0,O.jsx)("input",{type:"email",name:"correo",placeholder:"Correo Electr\xf3nico",required:!0,onChange:d,className:"w-full p-3 border border-gray-300 rounded-lg bg-gray-100 focus:border-purple-night focus:ring focus:ring-blue-200"}),(0,O.jsx)("input",{type:"text",name:"ciudad",placeholder:"Ciudad",required:!0,onChange:d,className:"w-full p-3 border border-gray-300 rounded-lg bg-gray-100 focus:border-purple-night focus:ring focus:ring-blue-200"}),(0,O.jsx)("textarea",{name:"direccion",placeholder:"Direcci\xf3n",required:!0,onChange:d,className:"w-full p-3 border border-gray-300 rounded-lg bg-gray-100 focus:border-purple-night focus:ring focus:ring-blue-200"}),(0,O.jsx)("textarea",{name:"actividad_economica",placeholder:"Actividad Econ\xf3mica",required:!0,onChange:d,className:"w-full p-3 border border-gray-300 rounded-lg bg-gray-100 focus:border-purple-night focus:ring focus:ring-blue-200"}),(0,O.jsxs)("div",{className:"flex items-center gap-3",children:[(0,O.jsxs)(I,{checked:t,onChange:l,className:"relative inline-flex items-center h-6 w-11 rounded-full transition-colors "+(t?"bg-midnight-blue":"bg-gray-300"),children:[(0,O.jsx)("span",{className:"sr-only",children:"Aceptar t\xe9rminos"}),(0,O.jsx)("span",{className:"inline-block w-4 h-4 transform bg-white rounded-full transition-transform "+(t?"translate-x-6":"translate-x-1")})]}),(0,O.jsx)("p",{className:"text-sm text-gray-600",children:"Debes aceptar los t\xe9rminos y condiciones."})]}),(0,O.jsx)("button",{type:"submit",className:"w-full py-3 bg-gradient-to-r from-midnight-blue to-purple-night text-white font-semibold rounded-lg shadow-md hover:opacity-90 transition-all",children:s?"Enviando...":"Enviar"})]})]})})}))},6999:(e,r,t)=>{t.d(r,{A:()=>o});var n=t(5043);const o=n.forwardRef((function(e,r){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:r},e),n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"}))}))}}]);
//# sourceMappingURL=493.156dfdc4.chunk.js.map