{"version":3,"file":"static/js/559.719b3e38.chunk.js","mappings":"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","sources":["redux/actions/rl.js","containers/ai/SentimentAnalysis.jsx","hocs/Layout.js","redux/actions/cart.js","redux/actions/profile.js"],"sourcesContent":["import {\r\n    TRAIN_SENTIMENT_MODEL_SUCCESS,\r\n    TRAIN_SENTIMENT_MODEL_FAIL,\r\n    GET_SENTIMENT_PREDICTION_SUCCESS,\r\n    GET_SENTIMENT_PREDICTION_FAIL\r\n} from './types';\r\n\r\nimport axios from 'axios';\r\n\r\nconst API_URL = `${process.env.REACT_APP_API_URL}/api/ml/sentimiento`;\r\n\r\n// Entrenamiento del modelo\r\nexport const train_sentiment_model = () => async dispatch => {\r\n    try {\r\n        const res = await axios.get(`${API_URL}/train`, {\r\n            headers: { Accept: 'application/json' }\r\n        });\r\n\r\n        dispatch({\r\n            type: TRAIN_SENTIMENT_MODEL_SUCCESS,\r\n            payload: res.data.message\r\n        });\r\n    } catch (error) {\r\n        console.error(\"Error entrenando modelo:\", error);\r\n        dispatch({ type: TRAIN_SENTIMENT_MODEL_FAIL });\r\n    }\r\n};\r\n\r\n// Predicción de sentimiento/emoción\r\nexport const get_sentiment_prediction = (comment) => async dispatch => {\r\n    try {\r\n        const token = localStorage.getItem('access');\r\n        const config = {\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Accept': 'application/json',\r\n                'Authorization': `JWT ${token}`\r\n            }\r\n        };\r\n\r\n        const body = JSON.stringify({ comment });\r\n\r\n        const res = await axios.post(`${API_URL}/predict`, body, config);\r\n\r\n        dispatch({\r\n            type: GET_SENTIMENT_PREDICTION_SUCCESS,\r\n            payload: res.data  // incluye prediction y probability\r\n        });\r\n    } catch (error) {\r\n        console.error(\"Error en predicción:\", error);\r\n        dispatch({ type: GET_SENTIMENT_PREDICTION_FAIL });\r\n    }\r\n};\r\n","import { connect } from \"react-redux\";\r\nimport FullWidthLayout from \"../../hocs/Layout\";\r\nimport { useState, useEffect } from \"react\";\r\nimport {\r\n    get_sentiment_prediction,\r\n    train_sentiment_model,\r\n} from \"../../redux/actions/rl\";\r\n\r\nfunction SentimentAnalysis({\r\n    sentiment_prediction,\r\n    sentiment_model_message,\r\n    sentiment_probability,\r\n    get_sentiment_prediction,\r\n    train_sentiment_model,\r\n}) {\r\n    const [comment, setComment] = useState(\"\");\r\n    const [showAlert, setShowAlert] = useState(false);\r\n\r\n    const handleTrain = () => {\r\n        train_sentiment_model();\r\n    };\r\n\r\n    const handlePredict = () => {\r\n        if (comment.trim() !== \"\") {\r\n            get_sentiment_prediction(comment);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (sentiment_prediction !== null) {\r\n            setShowAlert(true);\r\n            const timer = setTimeout(() => setShowAlert(false), 4000);\r\n            return () => clearTimeout(timer);\r\n        }\r\n    }, [sentiment_prediction]);\r\n\r\n    const getSentimentColor = (sentiment) => {\r\n        switch (sentiment?.toLowerCase()) {\r\n            case \"feliz\":\r\n                return \"bg-green-500\";\r\n            case \"preocupado\":\r\n                return \"bg-yellow-500\";\r\n            case \"neutral\":\r\n                return \"bg-blue-500\";\r\n            case \"desmotivado\":\r\n                return \"bg-red-500\";\r\n            default:\r\n                return \"bg-gray-500\";\r\n        }\r\n    };\r\n\r\n    const getEmoji = (sentiment) => {\r\n        switch (sentiment?.toLowerCase()) {\r\n            case \"feliz\":\r\n                return \"😊\";\r\n            case \"preocupado\":\r\n                return \"😟\";\r\n            case \"neutral\":\r\n                return \"😐\";\r\n            case \"desmotivado\":\r\n                return \"😞\";\r\n            default:\r\n                return \"🤔\";\r\n        }\r\n    };\r\n\r\n    return (\r\n        <FullWidthLayout>\r\n            <div className=\"max-w-2xl mx-auto mt-6 p-6 bg-white rounded-lg shadow-md\">\r\n                <h2 className=\"text-2xl font-semibold mb-4\">\r\n                    Análisis de Estado Emocional\r\n                </h2>\r\n\r\n                <button\r\n                    onClick={handleTrain}\r\n                    className=\"mb-4 bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700\"\r\n                >\r\n                    Entrenar Modelo\r\n                </button>\r\n\r\n                {sentiment_model_message && (\r\n                    <p className=\"mb-4 text-green-700 font-medium\">\r\n                        {sentiment_model_message}\r\n                    </p>\r\n                )}\r\n\r\n                <textarea\r\n                    value={comment}\r\n                    onChange={(e) => setComment(e.target.value)}\r\n                    placeholder=\"Escribe un comentario...\"\r\n                    className=\"w-full border border-gray-300 rounded-md p-3 mb-4\"\r\n                    rows={4}\r\n                />\r\n\r\n                <button\r\n                    onClick={handlePredict}\r\n                    className=\"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700\"\r\n                >\r\n                    Analizar Comentario\r\n                </button>\r\n\r\n                {/* Resultado */}\r\n                {showAlert && sentiment_prediction && (\r\n                    <div\r\n                        className={`mt-4 p-4 rounded-md text-white font-semibold text-center ${getSentimentColor(\r\n                            sentiment_prediction\r\n                        )}`}\r\n                    >\r\n                        {getEmoji(sentiment_prediction)} El comentario fue clasificado como:{\" \"}\r\n                        <strong className=\"uppercase\">{sentiment_prediction}</strong>\r\n                        {sentiment_probability && (\r\n                            <span className=\"block mt-1 text-sm text-white font-normal\">\r\n                                Probabilidad: {(sentiment_probability * 100).toFixed(2)}%\r\n                            </span>\r\n                        )}\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </FullWidthLayout>\r\n    );\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    sentiment_prediction: state.rl.sentiment_prediction,\r\n    sentiment_model_message: state.rl.sentiment_model_message,\r\n    sentiment_probability: state.rl.sentiment_probability,\r\n});\r\n\r\nexport default connect(mapStateToProps, {\r\n    get_sentiment_prediction,\r\n    train_sentiment_model,\r\n})(SentimentAnalysis);\r\n","import { ToastContainer } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport { check_authenticated, load_user, refresh } from '../redux/actions/auth';\r\nimport {\r\n    get_items,\r\n    get_total,\r\n    get_item_total\r\n} from \"../redux/actions/cart\";\r\n\r\nimport {\r\n    get_user_profile\r\n} from \"../redux/actions/profile\";\r\n\r\nimport { useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Navbar from '../components/navigation/Navbar';\r\nimport Footer from '../components/navigation/Footer';\r\n\r\nconst Layout = (props) => {\r\n\r\n    useEffect(() => {\r\n        props.refresh()\r\n        props.check_authenticated()\r\n        props.load_user()\r\n        props.get_items()\r\n        props.get_total()\r\n        props.get_item_total()\r\n        props.get_user_profile()\r\n    }, []);\r\n\r\n    return(\r\n        <div>\r\n            <Navbar/>\r\n            <ToastContainer autoClose={5000} />\r\n            {props.children}\r\n            <Footer/>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default connect(null, {\r\n    check_authenticated,\r\n    load_user,\r\n    refresh,\r\n    get_items,\r\n    get_total,\r\n    get_item_total,\r\n    get_user_profile\r\n}) (Layout)","import axios from 'axios';\r\nimport {\r\n    ADD_ITEM,\r\n    GET_TOTAL,\r\n    GET_ITEM_TOTAL,\r\n    GET_ITEMS,\r\n    UPDATE_ITEM,\r\n    REMOVE_ITEM,\r\n    EMPTY_CART,\r\n    ADD_ITEM_SUCCESS,\r\n    ADD_ITEM_FAIL,\r\n    GET_TOTAL_SUCCESS,\r\n    GET_TOTAL_FAIL,\r\n    GET_ITEM_TOTAL_SUCCESS,\r\n    GET_ITEM_TOTAL_FAIL,\r\n    GET_ITEMS_SUCCESS,\r\n    GET_ITEMS_FAIL,\r\n    UPDATE_ITEM_SUCCESS,\r\n    UPDATE_ITEM_FAIL,\r\n    REMOVE_ITEM_SUCCESS,\r\n    REMOVE_ITEM_FAIL,\r\n    EMPTY_CART_SUCCESS,\r\n    EMPTY_CART_FAIL,\r\n    SYNCH_CART_SUCCESS,\r\n    SYNCH_CART_FAIL,\r\n} from './types';\r\n\r\n\r\nexport const add_item = product => async dispatch => {\r\n    if (localStorage.getItem('access')) {\r\n        const config = {\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Accept': 'application/json',\r\n                'Authorization': `JWT ${localStorage.getItem('access')}`,\r\n            }\r\n        };\r\n\r\n        const product_id = product.id;\r\n        const body = JSON.stringify({ product_id });\r\n\r\n        try {\r\n            const res = await axios.post(`${process.env.REACT_APP_API_URL}/api/cart/add-item`, body, config);\r\n\r\n            if (res.status === 201) {\r\n                dispatch({\r\n                    type: ADD_ITEM_SUCCESS,\r\n                    payload: res.data\r\n                });\r\n            } else {\r\n                dispatch({\r\n                    type: ADD_ITEM_FAIL\r\n                });\r\n            }\r\n        } catch(err){\r\n            dispatch({\r\n                type: ADD_ITEM_FAIL\r\n            });\r\n        }\r\n\r\n    } else {\r\n        let cart = [];\r\n\r\n        if (localStorage.getItem('cart')) {\r\n            cart = JSON.parse(localStorage.getItem('cart'));\r\n        }\r\n\r\n        let shouldAddItem = true;\r\n\r\n        cart.map(item => {\r\n            if (product.id.toString() === item.product.id.toString()) {\r\n                shouldAddItem = false;\r\n            }\r\n        });\r\n\r\n        const order_item = {\r\n            product: product,\r\n            count: 1\r\n        };\r\n\r\n        if (shouldAddItem) {\r\n            cart.push(order_item);\r\n        }\r\n\r\n        dispatch({\r\n            type: ADD_ITEM,\r\n            payload: cart\r\n        });\r\n    }\r\n}\r\n\r\n\r\nexport const get_items = () => async dispatch => {\r\n    if (localStorage.getItem('access')) {\r\n        const config = {\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Authorization': `JWT ${localStorage.getItem('access')}`,\r\n            }\r\n        };\r\n\r\n        try {\r\n            const res = await axios.get(`${process.env.REACT_APP_API_URL}/api/cart/cart-items`, config);\r\n\r\n            if (res.status === 200) {\r\n                dispatch({\r\n                    type: GET_ITEMS_SUCCESS,\r\n                    payload: res.data\r\n                });\r\n            } else {\r\n                dispatch({\r\n                    type: GET_ITEMS_FAIL\r\n                });\r\n            }\r\n        } catch(err) {\r\n            dispatch({\r\n                type: GET_ITEMS_FAIL\r\n            });\r\n        }\r\n    } else {\r\n        dispatch({\r\n            type: GET_ITEMS\r\n        });\r\n    }\r\n}\r\n\r\nexport const get_total = () => async dispatch => {\r\n    if (localStorage.getItem('access')) {\r\n        const config = {\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Authorization': `JWT ${localStorage.getItem('access')}`,\r\n            }\r\n        };\r\n\r\n        try {\r\n            const res = await axios.get(`${process.env.REACT_APP_API_URL}/api/cart/get-total`, config);\r\n\r\n            if (res.status === 200) {\r\n                dispatch({\r\n                    type: GET_TOTAL_SUCCESS,\r\n                    payload: res.data\r\n                });\r\n            } else {\r\n                dispatch({\r\n                    type: GET_TOTAL_FAIL\r\n                });\r\n            }\r\n        } catch(err) {\r\n            dispatch({\r\n                type: GET_TOTAL_FAIL\r\n            });\r\n        }\r\n    } else {\r\n        let total = 0.0;\r\n        let compare_total = 0.0;\r\n        let cart = [];\r\n\r\n        if (localStorage.getItem('cart')) {\r\n            cart = JSON.parse(localStorage.getItem('cart'));\r\n\r\n            cart.map(item => {\r\n                total += parseFloat(item.product.price) * parseFloat(item.count);\r\n                compare_total += parseFloat(item.product.compare_price) * parseFloat(item.count);\r\n            });\r\n        }\r\n\r\n        dispatch({\r\n            type: GET_TOTAL,\r\n            payload: [parseFloat(total.toFixed(2)), parseFloat(compare_total.toFixed(2))]\r\n        });\r\n    }\r\n}\r\n\r\n\r\nexport const get_item_total = () => async dispatch => {\r\n    if (localStorage.getItem('access')) {\r\n        const config = {\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Authorization': `JWT ${localStorage.getItem('access')}`,\r\n            }\r\n        };\r\n\r\n        try {\r\n            const res = await axios.get(`${process.env.REACT_APP_API_URL}/api/cart/get-item-total`, config);\r\n\r\n            if (res.status === 200) {\r\n                dispatch({\r\n                    type: GET_ITEM_TOTAL_SUCCESS,\r\n                    payload: res.data\r\n                });\r\n            } else {\r\n                dispatch({\r\n                    type: GET_ITEM_TOTAL_FAIL\r\n                });\r\n            }\r\n        } catch(err) {\r\n            dispatch({\r\n                type: GET_ITEM_TOTAL_FAIL\r\n            });\r\n        }\r\n    } else {\r\n        let total = 0;\r\n\r\n        if (localStorage.getItem('cart')) {\r\n            total = JSON.parse(localStorage.getItem('cart')).length;\r\n        }\r\n\r\n        dispatch({\r\n            type: GET_ITEM_TOTAL,\r\n            payload: total\r\n        });\r\n    }\r\n}\r\n\r\nexport const update_item = (item, count) => async dispatch => {\r\n    if (localStorage.getItem('access')) {\r\n        const config = {\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Accept': 'application/json',\r\n                'Authorization': `JWT ${localStorage.getItem('access')}`,\r\n            }\r\n        };\r\n\r\n        const product_id = item.product.id;\r\n        const body = JSON.stringify({ product_id, count });\r\n\r\n        try {\r\n            const res = await axios.put(`${process.env.REACT_APP_API_URL}/api/cart/update-item`, body, config);\r\n\r\n            if (res.status === 200 && !res.data.error) {\r\n                dispatch({\r\n                    type: UPDATE_ITEM_SUCCESS,\r\n                    payload: res.data\r\n                });\r\n            } else {\r\n                dispatch({\r\n                    type: UPDATE_ITEM_FAIL\r\n                });\r\n            }\r\n        } catch(err) {\r\n            dispatch({\r\n                type: UPDATE_ITEM_FAIL\r\n            });\r\n        }\r\n\r\n    } else {\r\n        let cart = [];\r\n\r\n        if (localStorage.getItem('cart')) {\r\n            cart = JSON.parse(localStorage.getItem('cart'));\r\n\r\n            cart.map((cart_item, index) => {\r\n                if (cart_item.product.id.toString() === item.product.id.toString()) {\r\n                    cart[index].count = parseInt(count);\r\n                }\r\n            });\r\n        }\r\n\r\n        dispatch({\r\n            type: UPDATE_ITEM,\r\n            payload: cart\r\n        });\r\n    }\r\n}\r\n\r\n\r\nexport const remove_item = item => async dispatch => {\r\n    if (localStorage.getItem('access')) {\r\n        const product_id = item.product.id;\r\n        const body = JSON.stringify({ product_id });\r\n\r\n\r\n        const config = {\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Accept': 'application/json',\r\n                'Authorization': `JWT ${localStorage.getItem('access')}`,\r\n            },\r\n            data: body\r\n        };\r\n\r\n        try {\r\n            const res = await axios.delete(`${process.env.REACT_APP_API_URL}/api/cart/remove-item`, config);\r\n\r\n            if (res.status === 200) {\r\n                dispatch({\r\n                    type: REMOVE_ITEM_SUCCESS,\r\n                    payload: res.data\r\n                });\r\n            } else {\r\n                dispatch({\r\n                    type: REMOVE_ITEM_FAIL\r\n                });\r\n            }\r\n        } catch(err) {\r\n            dispatch({\r\n                type: REMOVE_ITEM_FAIL\r\n            });\r\n        }\r\n    } else {\r\n        let cart = [];\r\n        let new_cart = [];\r\n\r\n        if (localStorage.getItem('cart')) {\r\n            cart = JSON.parse(localStorage.getItem('cart'));\r\n\r\n            cart.map(cart_item => {\r\n                if (cart_item.product.id.toString() !== item.product.id.toString()) {\r\n                    new_cart.push(cart_item);\r\n                }\r\n            });\r\n        }\r\n\r\n        dispatch({\r\n            type: REMOVE_ITEM,\r\n            payload: new_cart\r\n        });\r\n    }\r\n}\r\n\r\nexport const empty_cart = () => async dispatch => {\r\n    if (localStorage.getItem('access')) {\r\n        const config = {\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Authorization': `JWT ${localStorage.getItem('access')}`,\r\n            }\r\n        };\r\n\r\n        try {\r\n            const res = await axios.delete(`${process.env.REACT_APP_API_URL}/api/cart/empty-cart`, config);\r\n\r\n            if (res.status === 200) {\r\n                dispatch({\r\n                    type: EMPTY_CART_SUCCESS\r\n                });\r\n            } else {\r\n                dispatch({\r\n                    type: EMPTY_CART_FAIL\r\n                });\r\n            }\r\n        } catch(err) {\r\n            dispatch({\r\n                type: EMPTY_CART_FAIL\r\n            });\r\n        }\r\n    } else {\r\n        dispatch({\r\n            type: EMPTY_CART\r\n        });\r\n    }\r\n}\r\n\r\n\r\nexport const synch_cart = () => async dispatch => {\r\n    const config = {\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n            'Accept': 'application/json',\r\n            'Authorization': `JWT ${localStorage.getItem('access')}`,\r\n        }\r\n    };\r\n\r\n    let cart_items = [];\r\n\r\n    if (localStorage.getItem('cart')) {\r\n        let cart = JSON.parse(localStorage.getItem('cart'));\r\n\r\n        cart.map(cart_item => {\r\n            const item = {};\r\n            item.product_id = cart_item.product.id;\r\n            item.count = cart_item.count;\r\n            cart_items.push(item);\r\n        });\r\n    }\r\n\r\n    const body = JSON.stringify({ cart_items });\r\n\r\n    try {\r\n        const res = await axios.put(`${process.env.REACT_APP_API_URL}/api/cart/synch`, body, config);\r\n\r\n        if (res.status === 201) {\r\n            dispatch({\r\n                type: SYNCH_CART_SUCCESS\r\n            });\r\n        } else {\r\n            dispatch({\r\n                type: SYNCH_CART_FAIL\r\n            });\r\n        }\r\n    } catch(err) {\r\n        dispatch({\r\n            type: SYNCH_CART_FAIL\r\n        });\r\n    }\r\n}","import axios from 'axios';\r\nimport { setAlert } from './alert';\r\nimport {\r\n    GET_USER_PROFILE_SUCCESS,\r\n    GET_USER_PROFILE_FAIL,\r\n    UPDATE_USER_PROFILE_SUCCESS,\r\n    UPDATE_USER_PROFILE_FAIL\r\n} from './types';\r\n\r\nexport const get_user_profile = () => async dispatch => {\r\n    if (localStorage.getItem('access')) {\r\n        const config = {\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Authorization': `JWT ${localStorage.getItem('access')}`\r\n            }\r\n        };\r\n\r\n        try {\r\n            const res = await axios.get(`${process.env.REACT_APP_API_URL}/api/profile/user`, config);\r\n\r\n            if (res.status === 200) {\r\n                dispatch({\r\n                    type: GET_USER_PROFILE_SUCCESS,\r\n                    payload: res.data\r\n                });\r\n            } else {\r\n                dispatch({\r\n                    type: GET_USER_PROFILE_FAIL\r\n                });\r\n            }\r\n        } catch(err) {\r\n            dispatch({\r\n                type: GET_USER_PROFILE_FAIL\r\n            });\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport const update_user_profile = (\r\n    address_line_1,\r\n    address_line_2,\r\n    city,\r\n    state_province_region,\r\n    zipcode,\r\n    phone,\r\n    country_region\r\n) => async dispatch => {\r\n    if (localStorage.getItem('access')) {\r\n        const config = {\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `JWT ${localStorage.getItem('access')}`\r\n            }\r\n        };\r\n\r\n        const body = JSON.stringify({\r\n            address_line_1,\r\n            address_line_2,\r\n            city,\r\n            state_province_region,\r\n            zipcode,\r\n            phone,\r\n            country_region\r\n        });\r\n\r\n        try {\r\n            const res = await axios.put(`${process.env.REACT_APP_API_URL}/api/profile/update`, body, config);\r\n\r\n            if (res.status === 200) {\r\n                dispatch({\r\n                    type: UPDATE_USER_PROFILE_SUCCESS,\r\n                    payload: res.data\r\n                });\r\n                dispatch(setAlert('Profile updated successfully', 'green'));\r\n            } else {\r\n                dispatch({\r\n                    type: UPDATE_USER_PROFILE_FAIL\r\n                });\r\n                dispatch(setAlert('Failed to update profile', 'red'));\r\n            }\r\n        } catch(err) {\r\n            dispatch({\r\n                type: UPDATE_USER_PROFILE_FAIL\r\n            });\r\n            dispatch(setAlert('Failed to update profile', 'red'));\r\n        }\r\n    }\r\n}"],"names":["API_URL","connect","state","sentiment_prediction","rl","sentiment_model_message","sentiment_probability","get_sentiment_prediction","comment","async","config","headers","localStorage","getItem","body","JSON","stringify","res","axios","post","dispatch","type","GET_SENTIMENT_PREDICTION_SUCCESS","payload","data","error","console","GET_SENTIMENT_PREDICTION_FAIL","train_sentiment_model","get","Accept","TRAIN_SENTIMENT_MODEL_SUCCESS","message","TRAIN_SENTIMENT_MODEL_FAIL","_ref","setComment","useState","showAlert","setShowAlert","useEffect","timer","setTimeout","clearTimeout","_jsx","FullWidthLayout","children","_jsxs","className","onClick","handleTrain","value","onChange","e","target","placeholder","rows","handlePredict","trim","sentiment","toLowerCase","getSentimentColor","getEmoji","toFixed","check_authenticated","load_user","refresh","get_items","get_total","get_item_total","get_user_profile","props","Navbar","ToastContainer","autoClose","Footer","add_item","product","product_id","id","status","ADD_ITEM_SUCCESS","ADD_ITEM_FAIL","err","cart","parse","shouldAddItem","map","item","toString","order_item","count","push","ADD_ITEM","GET_ITEMS_SUCCESS","GET_ITEMS_FAIL","GET_ITEMS","GET_TOTAL_SUCCESS","GET_TOTAL_FAIL","total","compare_total","parseFloat","price","compare_price","GET_TOTAL","GET_ITEM_TOTAL_SUCCESS","GET_ITEM_TOTAL_FAIL","length","GET_ITEM_TOTAL","update_item","put","UPDATE_ITEM_FAIL","UPDATE_ITEM_SUCCESS","cart_item","index","parseInt","UPDATE_ITEM","remove_item","delete","REMOVE_ITEM_SUCCESS","REMOVE_ITEM_FAIL","new_cart","REMOVE_ITEM","GET_USER_PROFILE_SUCCESS","GET_USER_PROFILE_FAIL","update_user_profile","address_line_1","address_line_2","city","state_province_region","zipcode","phone","country_region","UPDATE_USER_PROFILE_SUCCESS","setAlert","UPDATE_USER_PROFILE_FAIL"],"sourceRoot":""}