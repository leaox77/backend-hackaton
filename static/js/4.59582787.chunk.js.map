{"version":3,"file":"static/js/4.59582787.chunk.js","mappings":"+JAIA,MAgHA,GAAeA,EAAAA,EAAAA,KALUC,IAAK,CAC5BC,gBAAiBD,EAAME,KAAKD,gBAC5BE,KAAMH,EAAME,KAAKC,QAGnB,EAhHoBC,IAAyC,IAAxC,QAAEC,EAAO,gBAAEJ,EAAe,KAAEE,GAAMC,EACrD,MAAOE,EAAWC,IAAgBC,EAAAA,EAAAA,WAAS,GAE3C,OACEC,EAAAA,EAAAA,MAAA,OAEEC,UAAU,yKACVC,aAAcA,IAAMJ,GAAa,GACjCK,aAAcA,IAAML,GAAa,GAAOM,SAAA,EAGxCJ,EAAAA,EAAAA,MAAA,OAAKC,UAAU,uHAAsHG,SAAA,EACnIC,EAAAA,EAAAA,KAAA,OAAKJ,UAAU,uGAEfI,EAAAA,EAAAA,KAACC,EAAAA,GAAI,CAACC,GAAI,YAAYX,EAAQY,KAAMP,UAAU,gBAAeG,UAC3DC,EAAAA,EAAAA,KAAA,OACEI,IAAKb,EAAQc,MACbC,IAAKf,EAAQgB,KACbX,UAAU,iHAMhBI,EAAAA,EAAAA,KAAA,OAAKJ,UAAU,4BAA2BG,SACvCR,EAAQiB,MACPjB,EAAQiB,KAAKC,KAAI,CAACC,EAAKC,KACrBX,EAAAA,EAAAA,KAAA,QAEEJ,UAAU,sEAAqEG,SAE9EW,GAHIC,QASbhB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,YAAWG,SAAA,EACxBC,EAAAA,EAAAA,KAAA,MAAIJ,UAAU,oGAAmGG,UAC/GJ,EAAAA,EAAAA,MAACM,EAAAA,GAAI,CAACC,GAAI,YAAYX,EAAQY,KAAMP,UAAU,gBAAeG,SAAA,EAC3DC,EAAAA,EAAAA,KAAA,QAAM,cAAY,OAAOJ,UAAU,qBAClCL,EAAQgB,UAIZpB,GACCa,EAAAA,EAAAA,KAAA,QACEJ,UAAW,qEACTL,EAAQqB,SAAW,EACf,8BACA,2BACHb,SAEFR,EAAQqB,SAAW,EAChB,aAAarB,EAAQqB,YACrB,aAGNZ,EAAAA,EAAAA,KAAA,KAAGJ,UAAU,qDAAoDG,SAC9DR,EAAQsB,aACP,kEAKRb,EAAAA,EAAAA,KAAA,OAAKJ,UAAU,oKAEfI,EAAAA,EAAAA,KAAA,OACEJ,UAAW,8FACTJ,EAAY,4BAA8B,2BACzCO,UAEHC,EAAAA,EAAAA,KAAA,UACEJ,UAAW,mEACTT,EACI,oDACA,gDAEN2B,UAAW3B,EAAgBY,SAE1BZ,GACCa,EAAAA,EAAAA,KAAA,QAAMJ,UAAU,wBAAuBG,SACpCV,QAAgC0B,IAAxB1B,EAAK2B,eACY,IAAxB3B,EAAK2B,eACD,GAAU,OAAPzB,QAAO,IAAPA,OAAO,EAAPA,EAAS0B,WACY,IAAxB5B,EAAK2B,eACL,GAAU,OAAPzB,QAAO,IAAPA,OAAO,EAAPA,EAAS2B,uBACY,IAAxB7B,EAAK2B,eACL,GAAU,OAAPzB,QAAO,IAAPA,OAAO,EAAPA,EAAS4B,uBACY,IAAxB9B,EAAK2B,eACL,GAAU,OAAPzB,QAAO,IAAPA,OAAO,EAAPA,EAAS6B,uBACZ,MAEJ,uCAIJpB,EAAAA,EAAAA,KAAA,QAAMJ,UAAU,+DAA8DG,SAAC,4CA5FhFR,EAAQY,GAkGT,G,6NCzGV,SAASkB,IAAwB,IAAD,IAAAC,EAAAC,UAAAC,OAATC,EAAO,IAAAC,MAAAJ,GAAAK,EAAA,EAAAA,EAAAL,EAAAK,IAAPF,EAAOE,GAAAJ,UAAAI,GAC1B,OAAOF,EAAQG,OAAOC,SAASC,KAAK,IACxC,CAEA,MAkDA,EAlDqBxC,IAAoC,IAAnC,OAAEyC,EAAM,kBAAEC,GAAmB1C,EAC/C,OACIU,EAAAA,EAAAA,KAAAiC,EAAAA,SAAA,CAAAlC,UACIJ,EAAAA,EAAAA,MAACuC,EAAAA,GAAIC,MAAK,CAACC,GAAG,MAAMxC,UAAU,wBAAuBG,SAAA,EACjDJ,EAAAA,EAAAA,MAAA,OAAKC,UAAU,+CAA8CG,SAAA,EACzDC,EAAAA,EAAAA,KAACkC,EAAAA,GAAIG,KAAI,CAACzC,UAAU,oDAAmDG,SAClEgC,EAAOtB,KAAI,CAACJ,EAAOM,KAChBX,EAAAA,EAAAA,KAACkC,EAAAA,GAAG,CAAatC,UAAU,gQAA+PG,SACrRuC,IAAA,IAAC,SAAEC,GAAUD,EAAA,OACV3C,EAAAA,EAAAA,MAAAsC,EAAAA,SAAA,CAAAlC,SAAA,EACIC,EAAAA,EAAAA,KAAA,QAAMJ,UAAU,8CAA6CG,UACzDC,EAAAA,EAAAA,KAAA,OAAKI,IAAKC,EAAOC,IAAI,GAAGV,UAAU,kGAEtCI,EAAAA,EAAAA,KAAA,QACIJ,UAAWyB,EACPkB,EAAW,wDAA0D,mBACrE,wEAEJ,cAAY,WAEjB,GAbD5B,QAmBlBhB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,mFAAkFG,SAAA,EAC7FC,EAAAA,EAAAA,KAAA,KAAGJ,UAAU,2CAA0CG,SAAC,qCACxDC,EAAAA,EAAAA,KAAA,KAAGJ,UAAU,uBAAsBG,SAC9BiC,WAKbhC,EAAAA,EAAAA,KAACkC,EAAAA,GAAIM,OAAM,CAAC5C,UAAU,qDAAoDG,SACrEgC,EAAOtB,KAAI,CAACJ,EAAOM,KAChBX,EAAAA,EAAAA,KAACkC,EAAAA,GAAIO,MAAK,CAAA1C,UACNC,EAAAA,EAAAA,KAAA,OACII,IAAKC,EACLC,IAAI,GACJV,UAAU,qJAJFe,WAU7B,E,4CC/CX,MA6HA,EA7HcrB,IAAiB,IAAhB,OAAEoD,GAAQpD,EAsHrB,OACIU,EAAAA,EAAAA,KAAC2C,EAAAA,SAAQ,CAAA5C,SAtHI6C,MACb,GACIF,GACW,OAAXA,QACW3B,IAAX2B,EAEA,OACI/C,EAAAA,EAAAA,MAAA,OAAAI,SAAA,CAEQ2C,GAAU,GAAKA,GAAU,GACrB1C,EAAAA,EAAAA,KAAC6C,EAAAA,EAAe,CACZjD,UAAU,eACVkD,KAAMC,EAAAA,KAGC,KAAXL,GACI1C,EAAAA,EAAAA,KAAC6C,EAAAA,EAAe,CACZjD,UAAU,eACVkD,KAAME,EAAAA,OAGVhD,EAAAA,EAAAA,KAAC6C,EAAAA,EAAe,CACZjD,UAAU,eACVkD,KAAMG,EAAAA,KAOlBP,GAAU,GAAKA,GAAU,GACrB1C,EAAAA,EAAAA,KAAC6C,EAAAA,EAAe,CACZjD,UAAU,eACVkD,KAAMC,EAAAA,KAGC,MAAXL,GACI1C,EAAAA,EAAAA,KAAC6C,EAAAA,EAAe,CACZjD,UAAU,eACVkD,KAAME,EAAAA,OAGVhD,EAAAA,EAAAA,KAAC6C,EAAAA,EAAe,CACZjD,UAAU,eACVkD,KAAMG,EAAAA,KAOlBP,GAAU,GAAKA,GAAU,GACrB1C,EAAAA,EAAAA,KAAC6C,EAAAA,EAAe,CACZjD,UAAU,eACVkD,KAAMC,EAAAA,KAGC,MAAXL,GACI1C,EAAAA,EAAAA,KAAC6C,EAAAA,EAAe,CACZjD,UAAU,eACVkD,KAAME,EAAAA,OAGVhD,EAAAA,EAAAA,KAAC6C,EAAAA,EAAe,CACZjD,UAAU,eACVkD,KAAMG,EAAAA,KAOlBP,GAAU,GAAKA,GAAU,GACrB1C,EAAAA,EAAAA,KAAC6C,EAAAA,EAAe,CACZjD,UAAU,eACVkD,KAAMC,EAAAA,KAGC,MAAXL,GACI1C,EAAAA,EAAAA,KAAC6C,EAAAA,EAAe,CACZjD,UAAU,eACVkD,KAAME,EAAAA,OAGVhD,EAAAA,EAAAA,KAAC6C,EAAAA,EAAe,CACZjD,UAAU,eACVkD,KAAMG,EAAAA,KAOlBP,GAAU,GAAKA,GAAU,GACrB1C,EAAAA,EAAAA,KAAC6C,EAAAA,EAAe,CACZjD,UAAU,eACVkD,KAAMC,EAAAA,KAGC,MAAXL,GACI1C,EAAAA,EAAAA,KAAC6C,EAAAA,EAAe,CACZjD,UAAU,eACVkD,KAAME,EAAAA,OAGVhD,EAAAA,EAAAA,KAAC6C,EAAAA,EAAe,CACZjD,UAAU,eACVkD,KAAMG,EAAAA,OAOlC,EAKKL,IACM,ECgjBnB,GAAe3D,EAAAA,EAAAA,KAlBSC,IAAK,CACzBK,QAASL,EAAMgE,SAAS3D,QACxBJ,gBAAiBD,EAAME,KAAKD,gBAC5BgE,SAAUjE,EAAMkE,SAASC,MACzBC,OAAQpE,EAAMqE,QAAQD,OACtBE,OAAQtE,EAAMuE,OAAOD,OACrBE,QAASxE,EAAMqE,QAAQG,QACvBC,WAAYzE,EAAM0E,WAAWD,WAC7BE,SAAU3E,EAAMgE,SAASW,SACzBC,kBAAmB5E,EAAMgE,SAASY,kBAClCzE,KAAMH,EAAME,KAAKC,KACjB0E,qBAAsB7E,EAAM8E,GAAGD,qBAC/BE,wBAAyB/E,EAAM8E,GAAGC,wBAClCC,sBAAuBhF,EAAM8E,GAAGE,sBAChCC,iBAAkBjF,EAAM8E,GAAGG,iBAC3BC,WAAYlF,EAAM8E,GAAGI,cAGe,CACpCC,YAAW,KACXC,qBAAoB,KACpBC,UAAS,KACTC,SAAQ,KACRC,UAAS,KACTC,eAAc,KACdC,kBAAiB,KACjBC,mBAAkB,KAClBC,wBAAuB,KACvBC,qBAAoB,KACpBC,YCxqBuBC,GAAcC,UACrC,MAAMC,EAAS,CACXC,QAAS,CACL,OAAU,qBAIlB,IACI,MAAMC,QAAYC,EAAAA,EAAMC,IACpB,iDAA4DN,IAC5DE,GAGe,MAAfE,EAAIG,OACJC,EAAS,CACLC,KAAMC,EAAAA,GACNC,QAASP,EAAIQ,OAGjBJ,EAAS,CACLC,KAAMI,EAAAA,IAGlB,CAAE,MAAMC,GACJN,EAAS,CACLC,KAAMI,EAAAA,IAEd,GD8oBAE,WC1oBsBf,GAAcC,UACpC,GAAIe,aAAaC,QAAQ,UAAW,CAChC,MAAMf,EAAS,CACXC,QAAS,CACL,cAAiB,OAAOa,aAAaC,QAAQ,YAC7C,OAAU,qBAIlB,IACI,MAAMb,QAAYC,EAAAA,EAAMC,IACpB,gDAA2DN,IAC3DE,GAGe,MAAfE,EAAIG,OACJC,EAAS,CACLC,KAAMS,EAAAA,GACNP,QAASP,EAAIQ,OAGjBJ,EAAS,CACLC,KAAMU,EAAAA,IAGlB,CAAE,MAAML,GACJN,EAAS,CACLC,KAAMU,EAAAA,IAEd,CACJ,GD6mBAC,cC1mByBA,CAACpB,EAAYtC,EAAQ2D,IAAYpB,UAC1D,GAAIe,aAAaC,QAAQ,UAAW,CAChC,MAAMf,EAAS,CACXC,QAAS,CACL,cAAiB,OAAOa,aAAaC,QAAQ,YAC7C,OAAU,mBACV,eAAgB,qBAIlBK,EAAOC,KAAKC,UAAU,CACxB9D,SACA2D,YAGJ,IACI,MAAMjB,QAAYC,EAAAA,EAAMoB,KACpB,mDAA8DzB,IAC9DsB,EACApB,GAGe,MAAfE,EAAIG,OACJC,EAAS,CACLC,KAAMiB,EAAAA,GACNf,QAASP,EAAIQ,OAGjBJ,EAAS,CACLC,KAAMkB,EAAAA,IAGlB,CAAE,MAAMb,GACJN,EAAS,CACLC,KAAMkB,EAAAA,IAEd,CACJ,GDskBAC,cCnkByBA,CAAC5B,EAAYtC,EAAQ2D,IAAYpB,UAC1D,GAAIe,aAAaC,QAAQ,UAAW,CAChC,MAAMf,EAAS,CACXC,QAAS,CACL,cAAiB,OAAOa,aAAaC,QAAQ,YAC7C,OAAU,mBACV,eAAgB,qBAIlBK,EAAOC,KAAKC,UAAU,CACxB9D,SACA2D,YAGJ,IACI,MAAMjB,QAAYC,EAAAA,EAAMwB,IACpB,mDAA8D7B,IAC9DsB,EACApB,GAGe,MAAfE,EAAIG,OACJC,EAAS,CACLC,KAAMqB,EAAAA,GACNnB,QAASP,EAAIQ,OAGjBJ,EAAS,CACLC,KAAMsB,EAAAA,IAGlB,CAAE,MAAMjB,GACJN,EAAS,CACLC,KAAMsB,EAAAA,IAEd,CACJ,GD+hBAC,cC5hByBhC,GAAcC,UACvC,GAAIe,aAAaC,QAAQ,UAAW,CAChC,MAAMf,EAAS,CACXC,QAAS,CACL,cAAiB,OAAOa,aAAaC,QAAQ,YAC7C,OAAU,oBAEdL,KAAM,CAAC,GAGX,IACI,MAAMR,QAAYC,EAAAA,EAAM4B,OACpB,mDAA8DjC,IAC9DE,GAGe,MAAfE,EAAIG,OACJC,EAAS,CACLC,KAAMyB,EAAAA,GACNvB,QAASP,EAAIQ,OAGjBJ,EAAS,CACL2B,IAAKC,EAAAA,IAGjB,CAAE,MAAMtB,GACJN,EAAS,CACL2B,IAAKC,EAAAA,IAEb,CACJ,GD8fAC,eC3f0BA,CAACrC,EAAYtC,IAAWuC,UAClD,MAAMC,EAAS,CACXC,QAAS,CACL,OAAU,qBAIlB,IAAImC,EAGAA,EADW,KAAX5E,EACW,MACK,IAAXA,GAA2B,IAAXA,EACV,MACK,MAAXA,EACM,MACK,IAAXA,GAA2B,IAAXA,EACV,MACK,MAAXA,EACM,MACK,IAAXA,GAA2B,IAAXA,EACV,MACK,MAAXA,EACM,MACK,IAAXA,GAA2B,IAAXA,EACV,MACK,MAAXA,EACM,MAEA,MAEX,IACI,MAAM0C,QAAYC,EAAAA,EAAMC,IACpB,oDAA+DN,YAAqBsC,IACpFpC,GAGe,MAAfE,EAAIG,OACJC,EAAS,CACLC,KAAM8B,EAAAA,GACN5B,QAASP,EAAIQ,OAGjBJ,EAAS,CACLC,KAAM+B,EAAAA,IAGlB,CAAE,MAAM1B,GACJN,EAAS,CACLC,KAAM+B,EAAAA,IAEd,GD0cJC,WAAU,IACVC,eAAc,IACdC,aAAY,KACZC,sBAAqB,KACrBC,SAAQ,IACRC,yBAAwB,IACxBC,sBACJ,KAxBA,EA3nBsBzI,IAuCf,IAvCgB,YAEnB+E,EAAW,qBACXC,EAAoB,QACpB/E,EAAO,UACPgF,EAAS,SACTC,EAAQ,UACRC,EAAS,eACTC,EAAc,kBACdC,EAAiB,mBACjBC,EAAkB,wBAClBC,EAAuB,gBACvB1F,EAAe,qBACf2F,EAAoB,SACpB3B,EAAQ,YACR4B,EAAW,WACXgB,EAAU,cACVK,EAAa,cACbQ,EAAa,cACbI,EAAa,eACbK,EAAc,OACd/D,EAAM,OACNE,EAAM,WACNiE,EAAU,QACV/D,EAAO,eACPgE,EAAc,aACdC,EAAY,SACZ9D,EAAQ,kBACRC,EAAiB,KACjBzE,EAAI,qBAGJ0E,EAAoB,wBACpBE,EAAuB,sBACvBC,EAAqB,iBACrBC,EAAgB,WAChBC,EAAU,yBACV0D,EAAwB,sBACxBC,GACHzI,EACC,MAAO0I,EAASC,IAAcvI,EAAAA,EAAAA,WAAS,IAEhCwI,KADUC,EAAAA,EAAAA,OACEzI,EAAAA,EAAAA,WAAS,KACrB0I,IAAe1I,EAAAA,EAAAA,UAAS,IAExB6C,EAAU8F,IAAe3I,EAAAA,EAAAA,UAAS,KAClC4I,EAAiBC,KAAsB7I,EAAAA,EAAAA,UAAS,CAAC,IAGjD8I,GAAoBC,KAAyB/I,EAAAA,EAAAA,WAAS,IACtDgJ,GAAiBC,KAAsBjJ,EAAAA,EAAAA,WAAS,GAGjDkJ,IADSC,EAAAA,EAAAA,KACUD,WA6BzBE,EAAAA,EAAAA,YAAU,KACRpB,IACAC,IACAoB,OAAOC,SAAS,EAAG,EAAE,GACpB,CAACtB,EAAgBC,KAEpBmB,EAAAA,EAAAA,YAAU,KACRC,OAAOC,SAAS,EAAE,GAClB3E,EAAYuE,IACZtE,EAAqBsE,IACrBhE,IACAC,GAAyB,GACxB,CAACR,EAAaC,EAAsBM,EAAoBC,EAAyB+D,MAEpFE,EAAAA,EAAAA,YAAU,KACR/D,EAAY6D,GAAU,GACrB,CAACA,GAAW7D,KAEf+D,EAAAA,EAAAA,YAAU,KACR/C,EAAW6C,GAAU,GACpB,CAACA,GAAW7C,KAGf+C,EAAAA,EAAAA,YAAU,KACR,GAA6B,OAAzB/E,QAA0DhD,IAAzBgD,EAAoC,CACvE0E,IAAsB,GACtB,MAAMQ,EAAQC,YAAW,IAAMT,IAAsB,IAAQ,KAG7D,GAA2C,aAAvC1E,EAAqBoF,cAA8B,CACrDR,IAAmB,GAEnB,MAAMS,EAAeF,YAAW,KACzB9E,GACHuE,IAAmB,EACrB,GACC,KACH,MAAO,KACLU,aAAaJ,GACbI,aAAaD,EAAa,CAE9B,CAEA,MAAO,IAAMC,aAAaJ,EAC5B,IACC,CAAClF,EAAsBK,IAG1B,MAkCMkF,GAAmBA,KACA,KAAnBjD,GAAQkD,QACVzB,EAAyBzB,GAC3B,GAOKmD,GAAUC,KAAe/J,EAAAA,EAAAA,UAAS,CACvC2G,QAAQ,GACR3D,OAAO,MAGH,QAAE2D,GAAO,OAAE3D,IAAW8G,GAEtBE,GAAWC,GAAKF,GAAY,IAAKD,GAAU,CAACG,EAAEC,OAAOrJ,MAAOoJ,EAAEC,OAAOC,QAmErEC,GAAgBC,IACpB1C,EAAeuB,GAAWmB,EAAS,GAE9BC,GAAYC,KAAiBvK,EAAAA,EAAAA,UAAS,OAsCtCwK,GAAgBC,KAAqBzK,EAAAA,EAAAA,UAAS,KAC9C0K,KAAkB1K,EAAAA,EAAAA,UAAS,QAElCoJ,EAAAA,EAAAA,YAAU,KACRrB,GAAY,GACX,CAACA,KAEJqB,EAAAA,EAAAA,YAAU,KAENqB,GADqB,QAAnBC,GACgB5G,EAEAA,EAAO5B,QAAQyI,GAAUA,EAAM9J,KAAK+J,WAAWF,MACnE,GACC,CAAC5G,EAAQ4G,KAEZ,MA8BOG,GAAWC,KAAgB9K,EAAAA,EAAAA,UAAS,IAc3C,OAZAoJ,EAAAA,EAAAA,YAAU,KACRzD,EAAAA,EAAMC,IAAI,uBACPmF,MAAKrF,IACJoF,GAAapF,EAAIQ,MACjBqC,GAAW,EAAM,IAElByC,OAAM5E,IACL6E,QAAQC,MAAM,0BAA2B9E,GACzCmC,GAAW,EAAM,GACjB,GACH,IAECD,GAAgBhI,EAAAA,EAAAA,KAAA,KAAAD,SAAG,4BAGrBC,EAAAA,EAAAA,KAAC6K,EAAAA,EAAM,CAAA9K,UACLC,EAAAA,EAAAA,KAAA,OAAKJ,UAAU,WAAUG,UACvBJ,EAAAA,EAAAA,MAAA,OAAKC,UAAU,qEAAoEG,SAAA,EAEjFJ,EAAAA,EAAAA,MAAA,OAAKC,UAAU,2DAA0DG,SAAA,EACvEC,EAAAA,EAAAA,KAAC8K,EAAY,CACX/I,OAAQ,CACG,OAAPxC,QAAO,IAAPA,OAAO,EAAPA,EAASc,SACE,OAAPd,QAAO,IAAPA,GAAAA,EAASwL,aAAexL,EAAQwL,aAAatK,KAAIuK,GAASA,EAAMA,QAAS,IAEjFhJ,mBAA0B,OAAPzC,QAAO,IAAPA,OAAO,EAAPA,EAASyC,oBAAqB,MAGnDrC,EAAAA,EAAAA,MAACsL,EAAAA,EAAOC,IAAG,CACTC,QAAS,CAAEC,QAAS,EAAGC,EAAG,IAC1BC,QAAS,CAAEF,QAAS,EAAGC,EAAG,GAC1BE,WAAY,CAAEC,SAAU,IACxB5L,UAAU,yHAAwHG,SAAA,EAGlIC,EAAAA,EAAAA,KAAA,OAAKJ,UAAU,yFACfI,EAAAA,EAAAA,KAAA,OAAKJ,UAAU,yFAEfD,EAAAA,EAAAA,MAAA,MAAIC,UAAU,uCAAsCG,SAAA,CAAC,aAAkB,OAAPR,QAAO,IAAPA,OAAO,EAAPA,EAASgB,SACzEZ,EAAAA,EAAAA,MAAA,KAAGC,UAAU,wBAAuBG,SAAA,CAAC,SAAKC,EAAAA,EAAAA,KAAA,QAAMJ,UAAU,cAAaG,SAAS,OAAPR,QAAO,IAAPA,OAAO,EAAPA,EAASkM,UAGlF9L,EAAAA,EAAAA,MAAA,OAAKC,UAAU,qCAAoCG,SAAA,EACjDC,EAAAA,EAAAA,KAAA,MAAIJ,UAAU,2CAA0CG,SAAC,mCACzDC,EAAAA,EAAAA,KAACiL,EAAAA,EAAOC,IAAG,CACTC,QAAS,CAAEC,QAAS,GACpBE,QAAS,CAAEF,QAAS,GACpBG,WAAY,CAAEG,MAAO,IACrB9L,UAAU,mDACV+L,wBAAyB,CAAEC,OAAQ,IAAU,OAAPrM,QAAO,IAAPA,OAAO,EAAPA,EAASsB,cAAe,mBAYtElB,EAAAA,EAAAA,MAAA,WAASC,UAAU,4DAA2DG,SAAA,EAC5EJ,EAAAA,EAAAA,MAAA,OAAKC,UAAU,yCAAwCG,SAAA,EACrDC,EAAAA,EAAAA,KAAA,MAAIJ,UAAU,mDAAkDG,SAAC,4BAGhEZ,IACCa,EAAAA,EAAAA,KAAA,UACE6L,QA1OSC,KACvB/D,GAAuB,EA0OTnI,UAAU,4EAA2EG,SACtF,0BAOJkE,IACCjE,EAAAA,EAAAA,KAAA,OAAKJ,UAAU,0EAAyEG,SACrFkE,KAILjE,EAAAA,EAAAA,KAAA,OAAKJ,UAAU,yDAAwDG,SACpEZ,GACCQ,EAAAA,EAAAA,MAAA,OAAKC,UAAU,+CAA8CG,SAAA,EAG3DJ,EAAAA,EAAAA,MAAA,OAAKC,UAAU,6CAA4CG,SAAA,EACzDJ,EAAAA,EAAAA,MAAA,OAAKC,UAAU,mCAAkCG,SAAA,EAC/CC,EAAAA,EAAAA,KAAA,SAAO+L,QAAQ,aAAanM,UAAU,gBAAeG,SAAC,4BACtDJ,EAAAA,EAAAA,MAAA,UACEQ,GAAG,aACHP,UAAU,oCACViK,MAAOtH,EACPmH,SApWAC,IACpB,MAAME,EAAQmC,SAASrC,EAAEC,OAAOC,MAAO,IACvCxB,EAAYwB,GACZC,GAAcD,EAAM,EAiWuB9J,SAAA,EAEvBC,EAAAA,EAAAA,KAAA,UAAQ6J,MAAM,GAAE9J,SAAC,cAChB,CAAC,EAAG,EAAG,EAAG,EAAG,GAAGU,KAAKwL,IACpBtM,EAAAA,EAAAA,MAAA,UAAkBkK,MAAOoC,EAAIlM,SAAA,CAAEkM,EAAI,eAAtBA,YAKnBjM,EAAAA,EAAAA,KAAA,MAAIJ,UAAU,sCAAqCG,SAAC,0BAGnDyI,IAAsBzE,IACrBpE,EAAAA,EAAAA,MAAA,OACEC,UAAW,4DA3TNsM,KACzB,OAAiB,OAATA,QAAS,IAATA,OAAS,EAATA,EAAW/C,eACjB,IAAK,QACH,MAAO,eACT,IAAK,aACH,MAAO,gBACT,IAAK,UACH,MAAO,cACT,IAAK,cACH,MAAO,aACT,IAAK,WACH,MAAO,cACT,QACE,MAAO,cACX,EA6S2FgD,CACrEpI,KACEhE,SAAA,CA5SRmM,KAChB,OAAiB,OAATA,QAAS,IAATA,OAAS,EAATA,EAAW/C,eACjB,IAAK,QACH,MAAO,eACT,IAAK,aACH,MAAO,eACT,IAAK,UACH,MAAO,eACT,IAAK,cACH,MAAO,eACT,IAAK,WACH,MAAO,eACT,QACE,MAAO,eACX,EAgSqBiD,CAASrI,GAAsB,uCAAqC,KACrE/D,EAAAA,EAAAA,KAAA,UAAQJ,UAAU,YAAWG,SAAEgE,IACJ,OAA1BG,IACCvE,EAAAA,EAAAA,MAAA,QAAMC,UAAU,4CAA2CG,SAAA,CAAC,kBAClB,IAAxBmE,GAA6BmI,QAAQ,GAAG,UAO/D7D,IAA+C,aAAzBzE,IACrB/D,EAAAA,EAAAA,KAAA,OAAKJ,UAAU,sEAAqEG,SACjFqE,GACCzE,EAAAA,EAAAA,MAAA,OAAAI,SAAA,CAAK,qGAEHC,EAAAA,EAAAA,KAAA,UACAA,EAAAA,EAAAA,KAAA,QAAMJ,UAAU,UAASG,SAAC,oDAG5BJ,EAAAA,EAAAA,MAAA,OAAAI,SAAA,CAAK,2DAC4CoE,EAAiB,YAMxExE,EAAAA,EAAAA,MAAA,QACE2M,SAAUhJ,GAAUA,EAAO+C,QAxQ1BsD,IACnBA,EAAE4C,iBAEEnI,GACFyD,EAAAA,EAAAA,GAAS,gFAA8E,SAIpFa,GAKU,OAAXhG,IAAsC,KAAnB2D,GAAQkD,SAC7BD,KAEAJ,YAAW,KACmC,cAApB,OAApBnF,QAAoB,IAApBA,OAAoB,EAApBA,EAAsBoF,gBAAiC/E,GACzDwC,EAAcgC,GAAWlG,GAAQ2D,GACnC,GACC,OAXHwB,EAAAA,EAAAA,GAAS,+DAAgE,UAY3E,EAlDmB8B,IACnBA,EAAE4C,iBAGEnI,GACFyD,EAAAA,EAAAA,GAAS,gFAA8E,SAKpFa,GAKU,OAAXhG,IAAsC,KAAnB2D,GAAQkD,SAE7BD,KAGAJ,YAAW,KACmC,cAApB,OAApBnF,QAAoB,IAApBA,OAAoB,EAApBA,EAAsBoF,gBAAiC/E,GACzDgC,EAAcwC,GAAWlG,GAAQ2D,GACnC,GACC,OAbHwB,EAAAA,EAAAA,GAAS,+DAAgE,UAc3E,EA6QkBjI,UAAU,2BAA0BG,SAAA,EAEpCC,EAAAA,EAAAA,KAAA,OAAKJ,UAAU,WAAUG,UACvBC,EAAAA,EAAAA,KAAA,YACEwM,KAAM,EACNjM,KAAK,UACLkM,UAAQ,EACR5C,MAAOxD,GACPqD,SAAUA,GACVgD,aAAmB,OAANpJ,QAAM,IAANA,OAAM,EAANA,EAAQ+C,UAAW,2BAChCzG,UAAU,kHACVkB,SAAUsD,OAKdzE,EAAAA,EAAAA,MAAA,UACEY,KAAK,SACLkM,UAAQ,EACR5C,MAAOnH,GACPgH,SAAUA,GACV9J,UAAU,+CACVkB,SAAUsD,EAAWrE,SAAA,EAErBC,EAAAA,EAAAA,KAAA,UAAQ6J,MAAM,GAAE9J,SAAC,mCAChB,CAAC,EAAG,EAAG,EAAG,EAAG,GAAGU,KAAKwL,IACpBtM,EAAAA,EAAAA,MAAA,UAAkBkK,MAAOoC,EAAIlM,SAAA,CAC1BkM,EAAI,YAAUA,EAAM,GAAK,MADfA,SAMjBjM,EAAAA,EAAAA,KAAA,UACEyF,KAAK,SACL3E,UAAW4B,KAAY2D,KAAiB,OAAN/C,QAAM,IAANA,OAAM,EAANA,EAAQ+C,WAAYA,KAAaqC,IAAmBtE,EACtFxE,UAAW,uCACT8C,KAAW2D,IAAkB,OAAN/C,QAAM,IAANA,GAAAA,EAAQ+C,UAAYqC,IAAoBtE,EAE3D,iCADA,qDAEHrE,SAEFqE,EACG,oBACCsE,GAEDpF,GAAUA,EAAO+C,QACjB,uBACA,sBAHA,gCAQP/C,GAAUA,EAAO+C,SAAWlH,IAAoBiF,IAC/CpE,EAAAA,EAAAA,KAAA,UACE6L,QAvSDc,KACD1H,iBACR+B,EAAc4B,UACd7C,EAAW6C,IACjBa,GAAY,CACRpD,QAAS,IACX,EAENuG,EAAW,EAgSShN,UAAU,oFAAmFG,SAC9F,2BAOLC,EAAAA,EAAAA,KAAA,OAAKJ,UAAU,YAAWG,SACvB2D,GAAWA,EAAQlC,OAAS,GAC3BxB,EAAAA,EAAAA,KAAAiC,EAAAA,SAAA,CAAAlC,SACG2D,EAAQjD,KAAI,CAAC6C,EAAQ3C,KACpBhB,EAAAA,EAAAA,MAAA,OAEEC,UAAU,4EAA2EG,SAAA,EAErFC,EAAAA,EAAAA,KAAA,OAAKJ,UAAU,qBAAoBG,UACjCC,EAAAA,EAAAA,KAAA,QAAMJ,UAAU,kEAAiEG,UAC/EC,EAAAA,EAAAA,KAAA,OAAKJ,UAAU,8BAA8BiN,KAAK,eAAeC,QAAQ,YAAW/M,UAClFC,EAAAA,EAAAA,KAAA,QAAM+M,EAAE,sIAIdpN,EAAAA,EAAAA,MAAA,OAAKC,UAAU,SAAQG,SAAA,EACrBC,EAAAA,EAAAA,KAACgN,EAAK,CAACtK,OAAQY,EAAOZ,UACtB1C,EAAAA,EAAAA,KAAA,MAAIJ,UAAU,sCAAqCG,SAAEuD,EAAOjE,QAC5DW,EAAAA,EAAAA,KAAA,KAAGJ,UAAW,+BAA+B0I,EAAgB3H,GAA0B,GAAjB,gBAAsBZ,SACzFuD,EAAO+C,UAET/C,EAAO+C,QAAQ7E,OAAS,MACvBxB,EAAAA,EAAAA,KAAA,UACE6L,QAASA,IA5fnBlL,KACpB4H,IAAoB0E,IAAI,IACnBA,EACH,CAACtM,IAASsM,EAAKtM,MACd,EAwf0CuM,CAAavM,GAC5Bf,UAAU,+CAA8CG,SAEvDuI,EAAgB3H,GAAS,gBAAkB,wBArB7CA,QA6BXX,EAAAA,EAAAA,KAAA,OAAKJ,UAAU,sBAAqBG,UAClCC,EAAAA,EAAAA,KAAA,KAAGJ,UAAU,wBAAuBG,SAAC,yDAO7CJ,EAAAA,EAAAA,MAACsL,EAAAA,EAAOC,IAAG,CACTC,QAAS,CAAEC,QAAS,EAAG+B,MAAO,IAC9B7B,QAAS,CAAEF,QAAS,EAAG+B,MAAO,GAC9B5B,WAAY,CAAEC,SAAU,GAAK4B,KAAM,aACnCxN,UAAU,kIAAiIG,SAAA,EAE3IC,EAAAA,EAAAA,KAACqN,EAAAA,EAAc,CAACzN,UAAU,YAAY,kEAM9CI,EAAAA,EAAAA,KAAA,OAAKJ,UAAU,0EAAyEG,UACtFC,EAAAA,EAAAA,KAAA,MAAIJ,UAAU,uDAAsDG,SAAC,8BAEvEJ,EAAAA,EAAAA,MAAA,WAAS,kBAAgB,mBAAmBC,UAAU,2CAA0CG,SAAA,EAC9FC,EAAAA,EAAAA,KAAA,MAAIG,GAAG,mBAAmBP,UAAU,UAASG,SAAC,eAC9CC,EAAAA,EAAAA,KAAA,OAAKJ,UAAU,oDAAmDG,UAChEJ,EAAAA,EAAAA,MAAA,OAAKC,UAAU,gBAAeG,SAAA,EAC5BC,EAAAA,EAAAA,KAAA,OAAKJ,UAAU,0DAAyDG,SA1SjEuN,MACnB,IAAK/N,IAAYA,EAAQgO,SAAU,OAAO,KAC1C,MAAMC,EAAoBtF,EAAWpE,EAAoBD,EAKnD4J,EAAmB,KAJmB,OAAjBD,QAAiB,IAAjBA,OAAiB,EAAjBA,EAAmB5L,QAAO8L,GACjDA,EAAEH,WAAahO,EAAQgO,aACtB,IAE4CI,MAAK,IAAMC,KAAKC,SAAW,KACtEC,EA5QgB,GA4QF1F,EAAc,GAGlC,OAFwBqF,EAAiBM,MAAMD,EAAYA,EA7QrC,GA+QCrN,KAAKlB,IACxBS,EAAAA,EAAAA,KAACgO,EAAAA,EAAW,CAAkBzO,QAASA,GAArBA,EAAQY,KAC5B,EA8RamN,MAEHtN,EAAAA,EAAAA,KAAA,OAAKJ,UAAU,QAAOG,SA7RXkO,MACvB,MAAMT,EAAoBtF,EAAWpE,EAAoBD,EACnDqK,EAAaV,EAAoBI,KAAKO,KAAKX,EAAkBhM,OAtR7C,GAsRyE,EAE/F,GAAI0M,GAAc,EAAG,OAAO,KAG5B,IAAIE,EAAYR,KAAKS,IAAI,EAAGjG,EAAcwF,KAAKU,MAAMC,IACjDC,EAAUZ,KAAKa,IAAIP,EAAYE,EAFZ,GAEyC,GAE5DI,EAAUJ,EAAY,EAJH,KAKrBA,EAAYR,KAAKS,IAAI,EAAGG,EALH,GAK8B,GACrD,EAkReP,mBAON,G,sIEtoBb,MAuBA,GAAehP,EAAAA,EAAAA,IAAQ,KAAM,CACzByP,oBAAmB,KACnBC,UAAS,KACTC,QAAO,KACPrK,UAAS,KACTE,UAAS,KACTC,eAAc,KACdmK,iBACJ,KARA,EAvBgBC,KAEZhG,EAAAA,EAAAA,YAAU,KACNgG,EAAMF,UACNE,EAAMJ,sBACNI,EAAMH,YACNG,EAAMvK,YACNuK,EAAMrK,YACNqK,EAAMpK,iBACNoK,EAAMD,kBAAkB,GACzB,KAGClP,EAAAA,EAAAA,MAAA,OAAAI,SAAA,EACIC,EAAAA,EAAAA,KAAC+O,EAAAA,EAAM,KACP/O,EAAAA,EAAAA,KAACgP,EAAAA,GAAc,CAACC,UAAW,MAC1BH,EAAM/O,UACPC,EAAAA,EAAAA,KAACkP,EAAAA,EAAM,S,0DC7BZ,MAAMzH,EAAaA,IAAMxC,UAC5B,MAAMC,EAAS,CACXC,QAAS,CACL,OAAU,qBAIlB,IACI,MAAMC,QAAYC,EAAAA,EAAMC,IAAI,yCAAqDJ,GAE7EE,EAAIG,QAAU,KAAOH,EAAIG,OAAS,IAClCC,EAAS,CACLC,KAAM0J,EAAAA,GACNxJ,QAASP,EAAIQ,QAGjB+E,QAAQC,MAAM,oCAAqCxF,EAAIG,QACvDC,EAAS,CACLC,KAAM2J,EAAAA,KAGlB,CAAE,MAAOtJ,GACL6E,QAAQC,MAAM,yBAA0B9E,EAAIuJ,SAC5C7J,EAAS,CACLC,KAAM2J,EAAAA,IAEd,E,wGCJG,MAAM5K,EAAWjF,GAAW0F,UAC/B,GAAIe,aAAaC,QAAQ,UAAW,CAChC,MAAMf,EAAS,CACXC,QAAS,CACL,eAAgB,mBAChB,OAAU,mBACV,cAAiB,OAAOa,aAAaC,QAAQ,cAI/CjB,EAAazF,EAAQY,GACrBmG,EAAOC,KAAKC,UAAU,CAAExB,eAE9B,IACI,MAAMI,QAAYC,EAAAA,EAAMoB,KAAK,0CAAsDH,EAAMpB,GAEtE,MAAfE,EAAIG,OACJC,EAAS,CACLC,KAAM6J,EAAAA,GACN3J,QAASP,EAAIQ,OAGjBJ,EAAS,CACLC,KAAM8J,EAAAA,IAGlB,CAAE,MAAMzJ,GACJN,EAAS,CACLC,KAAM8J,EAAAA,IAEd,CAEJ,KAAO,CACH,IAAIC,EAAO,GAEPxJ,aAAaC,QAAQ,UACrBuJ,EAAOjJ,KAAKkJ,MAAMzJ,aAAaC,QAAQ,UAG3C,IAAIyJ,GAAgB,EAEpBF,EAAK/O,KAAIkP,IACDpQ,EAAQY,GAAGyP,aAAeD,EAAKpQ,QAAQY,GAAGyP,aAC1CF,GAAgB,EACpB,IAGJ,MAAMG,EAAa,CACftQ,QAASA,EACTuQ,MAAO,GAGPJ,GACAF,EAAKO,KAAKF,GAGdrK,EAAS,CACLC,KAAMuK,EAAAA,GACNrK,QAAS6J,GAEjB,GAISjL,EAAYA,IAAMU,UAC3B,GAAIe,aAAaC,QAAQ,UAAW,CAChC,MAAMf,EAAS,CACXC,QAAS,CACL,OAAU,mBACV,cAAiB,OAAOa,aAAaC,QAAQ,cAIrD,IACI,MAAMb,QAAYC,EAAAA,EAAMC,IAAI,4CAAwDJ,GAEjE,MAAfE,EAAIG,OACJC,EAAS,CACLC,KAAMwK,EAAAA,GACNtK,QAASP,EAAIQ,OAGjBJ,EAAS,CACLC,KAAMyK,EAAAA,IAGlB,CAAE,MAAMpK,GACJN,EAAS,CACLC,KAAMyK,EAAAA,IAEd,CACJ,MACI1K,EAAS,CACLC,KAAM0K,EAAAA,GAEd,EAGS1L,EAAYA,IAAMQ,UAC3B,GAAIe,aAAaC,QAAQ,UAAW,CAChC,MAAMf,EAAS,CACXC,QAAS,CACL,OAAU,mBACV,cAAiB,OAAOa,aAAaC,QAAQ,cAIrD,IACI,MAAMb,QAAYC,EAAAA,EAAMC,IAAI,2CAAuDJ,GAEhE,MAAfE,EAAIG,OACJC,EAAS,CACLC,KAAM2K,EAAAA,GACNzK,QAASP,EAAIQ,OAGjBJ,EAAS,CACLC,KAAM4K,EAAAA,IAGlB,CAAE,MAAMvK,GACJN,EAAS,CACLC,KAAM4K,EAAAA,IAEd,CACJ,KAAO,CACH,IAAIC,EAAQ,EACRC,EAAgB,EAChBf,EAAO,GAEPxJ,aAAaC,QAAQ,UACrBuJ,EAAOjJ,KAAKkJ,MAAMzJ,aAAaC,QAAQ,SAEvCuJ,EAAK/O,KAAIkP,IACLW,GAASE,WAAWb,EAAKpQ,QAAQ0B,OAASuP,WAAWb,EAAKG,OAC1DS,GAAiBC,WAAWb,EAAKpQ,QAAQkR,eAAiBD,WAAWb,EAAKG,MAAM,KAIxFtK,EAAS,CACLC,KAAMiL,EAAAA,GACN/K,QAAS,CAAC6K,WAAWF,EAAMjE,QAAQ,IAAKmE,WAAWD,EAAclE,QAAQ,MAEjF,GAIS3H,EAAiBA,IAAMO,UAChC,GAAIe,aAAaC,QAAQ,UAAW,CAChC,MAAMf,EAAS,CACXC,QAAS,CACL,OAAU,mBACV,cAAiB,OAAOa,aAAaC,QAAQ,cAIrD,IACI,MAAMb,QAAYC,EAAAA,EAAMC,IAAI,gDAA4DJ,GAErE,MAAfE,EAAIG,OACJC,EAAS,CACLC,KAAMkL,EAAAA,GACNhL,QAASP,EAAIQ,OAGjBJ,EAAS,CACLC,KAAMmL,EAAAA,IAGlB,CAAE,MAAM9K,GACJN,EAAS,CACLC,KAAMmL,EAAAA,IAEd,CACJ,KAAO,CACH,IAAIN,EAAQ,EAERtK,aAAaC,QAAQ,UACrBqK,EAAQ/J,KAAKkJ,MAAMzJ,aAAaC,QAAQ,SAASzE,QAGrDgE,EAAS,CACLC,KAAMoL,EAAAA,GACNlL,QAAS2K,GAEjB,GAGSQ,EAAcA,CAACnB,EAAMG,IAAU7K,UACxC,GAAIe,aAAaC,QAAQ,UAAW,CAChC,MAAMf,EAAS,CACXC,QAAS,CACL,eAAgB,mBAChB,OAAU,mBACV,cAAiB,OAAOa,aAAaC,QAAQ,cAI/CjB,EAAa2K,EAAKpQ,QAAQY,GAC1BmG,EAAOC,KAAKC,UAAU,CAAExB,aAAY8K,UAE1C,IACI,MAAM1K,QAAYC,EAAAA,EAAMwB,IAAI,6CAAyDP,EAAMpB,GAExE,MAAfE,EAAIG,QAAmBH,EAAIQ,KAAKgF,MAMhCpF,EAAS,CACLC,KAAMsL,EAAAA,KANVvL,EAAS,CACLC,KAAMuL,EAAAA,GACNrL,QAASP,EAAIQ,MAOzB,CAAE,MAAME,GACJN,EAAS,CACLC,KAAMsL,EAAAA,IAEd,CAEJ,KAAO,CACH,IAAIvB,EAAO,GAEPxJ,aAAaC,QAAQ,UACrBuJ,EAAOjJ,KAAKkJ,MAAMzJ,aAAaC,QAAQ,SAEvCuJ,EAAK/O,KAAI,CAACwQ,EAAWtQ,KACbsQ,EAAU1R,QAAQY,GAAGyP,aAAeD,EAAKpQ,QAAQY,GAAGyP,aACpDJ,EAAK7O,GAAOmP,MAAQ9D,SAAS8D,GACjC,KAIRtK,EAAS,CACLC,KAAMyL,EAAAA,GACNvL,QAAS6J,GAEjB,GAIS2B,EAAcxB,GAAQ1K,UAC/B,GAAIe,aAAaC,QAAQ,UAAW,CAChC,MAAMjB,EAAa2K,EAAKpQ,QAAQY,GAC1BmG,EAAOC,KAAKC,UAAU,CAAExB,eAGxBE,EAAS,CACXC,QAAS,CACL,eAAgB,mBAChB,OAAU,mBACV,cAAiB,OAAOa,aAAaC,QAAQ,aAEjDL,KAAMU,GAGV,IACI,MAAMlB,QAAYC,EAAAA,EAAM4B,OAAO,6CAAyD/B,GAErE,MAAfE,EAAIG,OACJC,EAAS,CACLC,KAAM2L,EAAAA,GACNzL,QAASP,EAAIQ,OAGjBJ,EAAS,CACLC,KAAM4L,EAAAA,IAGlB,CAAE,MAAMvL,GACJN,EAAS,CACLC,KAAM4L,EAAAA,IAEd,CACJ,KAAO,CACH,IAAI7B,EAAO,GACP8B,EAAW,GAEXtL,aAAaC,QAAQ,UACrBuJ,EAAOjJ,KAAKkJ,MAAMzJ,aAAaC,QAAQ,SAEvCuJ,EAAK/O,KAAIwQ,IACDA,EAAU1R,QAAQY,GAAGyP,aAAeD,EAAKpQ,QAAQY,GAAGyP,YACpD0B,EAASvB,KAAKkB,EAClB,KAIRzL,EAAS,CACLC,KAAM8L,EAAAA,GACN5L,QAAS2L,GAEjB,E,4ECvTG,MAAMzC,EAAmBA,IAAM5J,UAClC,GAAIe,aAAaC,QAAQ,UAAW,CAChC,MAAMf,EAAS,CACXC,QAAS,CACL,OAAU,mBACV,cAAiB,OAAOa,aAAaC,QAAQ,cAIrD,IACI,MAAMb,QAAYC,EAAAA,EAAMC,IAAI,yCAAqDJ,GAE9D,MAAfE,EAAIG,OACJC,EAAS,CACLC,KAAM+L,EAAAA,GACN7L,QAASP,EAAIQ,OAGjBJ,EAAS,CACLC,KAAMgM,EAAAA,IAGlB,CAAE,MAAM3L,GACJN,EAAS,CACLC,KAAMgM,EAAAA,IAEd,CACJ,GAISC,EAAsBA,CAC/BC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,IACChN,UACD,GAAIe,aAAaC,QAAQ,UAAW,CAChC,MAAMf,EAAS,CACXC,QAAS,CACL,OAAU,mBACV,eAAgB,mBAChB,cAAiB,OAAOa,aAAaC,QAAQ,cAI/CK,EAAOC,KAAKC,UAAU,CACxBmL,iBACAC,iBACAC,OACAC,wBACAC,UACAC,QACAC,mBAGJ,IACI,MAAM7M,QAAYC,EAAAA,EAAMwB,IAAI,2CAAuDP,EAAMpB,GAEtE,MAAfE,EAAIG,QACJC,EAAS,CACLC,KAAMyM,EAAAA,GACNvM,QAASP,EAAIQ,OAEjBJ,GAASqC,EAAAA,EAAAA,GAAS,+BAAgC,YAElDrC,EAAS,CACLC,KAAM0M,EAAAA,KAEV3M,GAASqC,EAAAA,EAAAA,GAAS,2BAA4B,QAEtD,CAAE,MAAM/B,GACJN,EAAS,CACLC,KAAM0M,EAAAA,KAEV3M,GAASqC,EAAAA,EAAAA,GAAS,2BAA4B,OAClD,CACJ,E,kEChFJ,MAAMuK,EAAU,2CAGHrK,EAAwBA,IAAM9C,UACvC,IACI,MAAMG,QAAYC,EAAAA,EAAMC,IAAI,GAAG8M,UAAiB,CAC5CjN,QAAS,CAAEkN,OAAQ,sBAGvB7M,EAAS,CACLC,KAAM6M,EAAAA,GACN3M,QAASP,EAAIQ,KAAKyJ,SAE1B,CAAE,MAAOzE,GACLD,QAAQC,MAAM,2BAA4BA,GAC1CpF,EAAS,CAAEC,KAAM8M,EAAAA,IACrB,GAISzK,EAA4BzB,GAAYpB,UACjD,IACI,MACMC,EAAS,CACXC,QAAS,CACL,eAAgB,mBAChB,OAAU,mBACV,cAAiB,OALXa,aAAaC,QAAQ,cAS7BK,EAAOC,KAAKC,UAAU,CAAEH,YAExBjB,QAAYC,EAAAA,EAAMoB,KAAK,GAAG2L,YAAmB9L,EAAMpB,GAEzDM,EAAS,CACLC,KAAM+M,EAAAA,GACN7M,QAASP,EAAIQ,MAErB,CAAE,MAAOgF,GACLD,QAAQC,MAAM,0BAAwBA,GACtCpF,EAAS,CAAEC,KAAMgN,EAAAA,IACrB,E,sFCtCJ,MAAMC,EAAkBA,KAAA,CACpBvN,QAAS,CACLwN,cAAe,OAAO3M,aAAaC,QAAQ,YAC3C,eAAgB,mBAChBoM,OAAQ,sBAKHzN,EAAqBA,IAAMK,UACpC,GAAKe,aAAaC,QAAQ,UAE1B,IACI,MAAMb,QAAYC,EAAAA,EAAMC,IACpB,oDACAoN,KAGJlN,EAAS,CACLC,KAAMmN,EAAAA,GACNjN,QAASP,EAAIQ,MAErB,CAAE,MAAOE,GACLN,EAAS,CAAEC,KAAMoN,EAAAA,IACrB,GAISlO,EAAoBK,GAAcC,UAC3C,IAAKe,aAAaC,QAAQ,UAAW,OAErC,MAAMK,EAAOC,KAAKC,UAAU,CAAExB,eAE9B,IACI,MAAMI,QAAYC,EAAAA,EAAMoB,KACpB,8CACAH,EACAoM,KAGJlN,EAAS,CACLC,KAAMqN,EAAAA,GACNnN,QAASP,EAAIQ,MAErB,CAAE,MAAOE,GACLN,EAAS,CAAEC,KAAMsN,EAAAA,IACrB,GAISlO,EAA0BA,IAAMI,UACzC,GAAKe,aAAaC,QAAQ,UAE1B,IACI,MAAMb,QAAYC,EAAAA,EAAMC,IACpB,oDACAoN,KAGJlN,EAAS,CACLC,KAAMuN,EAAAA,GACNrN,QAASP,EAAIQ,MAErB,CAAE,MAAOE,GACLN,EAAS,CAAEC,KAAMwN,EAAAA,IACrB,GAISnO,EAAwBE,GAAeC,UAChD,IAAKe,aAAaC,QAAQ,UAAW,OAErC,MAAMf,EAAS,IACRwN,IACH9M,KAAM,CAAEZ,eAGZ,UACUK,EAAAA,EAAM4B,OAAO,iDAA6D/B,GAEhFM,EAAS,CACLC,KAAMyN,EAAAA,GACNvN,QAASX,IAEb2F,QAAQwI,IAAI,gDAAuCnO,EACvD,CAAE,MAAOc,GACLN,EAAS,CAAEC,KAAM2N,EAAAA,IACrB,E","sources":["components/product/ProductCard.js","components/product/ImageGallery.js","components/product/Stars.js","containers/pages/products/productDetail.jsx","redux/actions/reviews.js","hocs/Layout.js","redux/actions/brands.js","redux/actions/cart.js","redux/actions/profile.js","redux/actions/rl.js","redux/actions/wishlist.js"],"sourcesContent":["import { Link } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport { useState } from \"react\";\r\n\r\nconst ProductCard = ({ product, isAuthenticated, user }) => {\r\n  const [isHovered, setIsHovered] = useState(false);\r\n\r\n  return (\r\n    <div\r\n      key={product.id}\r\n      className=\"group relative w-full mx-auto my-6 p-3 bg-white rounded-xl shadow-md hover:shadow-xl transition-all duration-500 transform hover:-translate-y-2 border border-gray-100\"\r\n      onMouseEnter={() => setIsHovered(true)}\r\n      onMouseLeave={() => setIsHovered(false)}\r\n    >\r\n   \r\n      <div className=\"relative w-full aspect-[4/3] bg-gradient-to-br from-gray-50 to-gray-200 rounded-lg overflow-hidden shadow-inner mb-4\">\r\n        <div className=\"absolute inset-0 bg-gray-900 opacity-0 group-hover:opacity-10 transition-opacity duration-300 z-0\"></div>\r\n\r\n        <Link to={`/product/${product.id}`} className=\"relative z-10\">\r\n          <img\r\n            src={product.photo}\r\n            alt={product.name}\r\n            className=\"w-full h-full object-center object-contain transition-all duration-500 transform group-hover:scale-110\"\r\n          />\r\n        </Link>\r\n      </div>\r\n\r\n \r\n      <div className=\"flex flex-wrap gap-1 mb-3\">\r\n        {product.tags &&\r\n          product.tags.map((tag, index) => (\r\n            <span\r\n              key={index}\r\n              className=\"px-2 py-1 text-xs rounded-full bg-blue-50 text-blue-600 font-medium\"\r\n            >\r\n              {tag}\r\n            </span>\r\n          ))}\r\n      </div>\r\n\r\n      {/* Nombre y descripción  */}\r\n      <div className=\"space-y-2\">\r\n        <h3 className=\"text-lg font-bold text-gray-800 group-hover:text-blue-600 transition-colors duration-300 truncate\">\r\n          <Link to={`/product/${product.id}`} className=\"relative z-10\">\r\n            <span aria-hidden=\"true\" className=\"absolute inset-0\" />\r\n            {product.name}\r\n          </Link>\r\n        </h3>\r\n\r\n        {isAuthenticated ? (\r\n          <span\r\n            className={`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${\r\n              product.quantity > 0\r\n                ? \"bg-green-100 text-green-800\"\r\n                : \"bg-red-100 text-red-800\"\r\n            }`}\r\n          >\r\n            {product.quantity > 0\r\n              ? `En stock (${product.quantity})`\r\n              : \"Agotado\"}\r\n          </span>\r\n        ) : (\r\n          <p className=\"text-sm text-gray-500 line-clamp-2 sm:line-clamp-3\">\r\n            {product.description ||\r\n              \"Producto de alta calidad para satisfacer tus necesidades.\"}\r\n          </p>\r\n        )}\r\n      </div>\r\n\r\n      <div className=\"my-3 h-px bg-gradient-to-r from-transparent via-gray-200 to-transparent transform transition-all duration-500 group-hover:scale-x-110 group-hover:via-blue-200\"></div>\r\n\r\n      <div\r\n        className={`absolute inset-x-0 bottom-0 px-5 pb-4 pt-2 bg-white transform transition-all duration-500 ${\r\n          isHovered ? \"translate-y-0 opacity-100\" : \"translate-y-8 opacity-0\"\r\n        }`}\r\n      >\r\n        <button\r\n          className={`w-full py-2 rounded-lg font-medium transition-all duration-300 ${\r\n            isAuthenticated\r\n              ? \"bg-midnight-blue hover:bg-purple-night text-white\"\r\n              : \"bg-gray-200 text-gray-400 cursor-not-allowed\"\r\n          }`}\r\n          disabled={!isAuthenticated}\r\n        >\r\n          {isAuthenticated ? (\r\n            <span className=\"text-sm font-semibold\">\r\n              {user && user.mayorista_tipo !== undefined ? (\r\n                user.mayorista_tipo === 0\r\n                  ? `${product?.price} Bs`\r\n                  : user.mayorista_tipo === 1\r\n                  ? `${product?.price_mayorista_1} Bs`\r\n                  : user.mayorista_tipo === 2\r\n                  ? `${product?.price_mayorista_2} Bs`\r\n                  : user.mayorista_tipo === 3\r\n                  ? `${product?.price_mayorista_3} Bs`\r\n                  : \"N/A\"\r\n              ) : (\r\n                \"Inicia sesión para ver precios\"\r\n              )}\r\n            </span>\r\n          ) : (\r\n            <span className=\"text-sm font-semibold flex items-center justify-center gap-2\">\r\n              Inicia sesión para ver precios\r\n            </span>\r\n          )}\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isAuthenticated: state.Auth.isAuthenticated,\r\n  user: state.Auth.user,\r\n});\r\n\r\nexport default connect(mapStateToProps)(ProductCard);\r\n","import { Tab } from '@headlessui/react'\r\n\r\nfunction classNames(...classes) {\r\n    return classes.filter(Boolean).join(' ')\r\n}\r\n\r\nconst ImageGallery = ({ photos, short_description }) => {\r\n    return (\r\n        <>\r\n            <Tab.Group as=\"div\" className=\"flex flex-col-reverse\">\r\n                <div className=\"mt-10 w-full max-w-2xl mx-auto lg:max-w-none\">\r\n                    <Tab.List className=\"grid grid-cols-4 gap-4 p-2 bg-gray-100 rounded-lg\">\r\n                        {photos.map((photo, index) => (\r\n                            <Tab key={index} className=\"relative h-16 bg-white rounded-md flex items-center justify-center text-sm font-medium uppercase text-gray-900 cursor-pointer transition duration-300 hover:scale-105 hover:shadow-lg focus:outline-none focus:ring focus:ring-offset-4 focus:ring-opacity-50\">\r\n                                {({ selected }) => (\r\n                                    <>\r\n                                        <span className=\"absolute inset-0 rounded-md overflow-hidden\">\r\n                                            <img src={photo} alt=\"\" className=\"w-full h-full object-center object-cover transition-transform duration-500 hover:scale-110\" />\r\n                                        </span>\r\n                                        <span\r\n                                            className={classNames(\r\n                                                selected ? 'ring-midnight-blue border-2 border-gray-300 shadow-md' : 'ring-transparent',\r\n                                                'absolute inset-0 rounded-md ring-2 ring-offset-2 pointer-events-none'\r\n                                            )}\r\n                                            aria-hidden=\"true\"\r\n                                        />\r\n                                    </>\r\n                                )}\r\n                            </Tab>\r\n                        ))}\r\n                    </Tab.List>\r\n\r\n                    <div className=\"mt-16 max-w-3xl mx-auto p-6 bg-white border border-gray-200 rounded-lg shadow-lg\">\r\n                        <p className=\"text-xl font-semibold text-gray-900 mb-4\">Características Principales:</p>\r\n                        <p className=\"text-gray-600 text-l\">\r\n                            {short_description}\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n\r\n                <Tab.Panels className=\"w-full max-w-md mx-auto aspect-w-1 aspect-h-1 mt-8\">\r\n                    {photos.map((photo, index) => (\r\n                        <Tab.Panel key={index}>\r\n                            <img\r\n                                src={photo}\r\n                                alt=\"\"\r\n                                className=\"border-2 p-2 w-[90%] h-auto mx-auto object-center object-cover sm:rounded-lg shadow-xl transition duration-500 hover:scale-105 hover:shadow-2xl\"\r\n                            />\r\n                        </Tab.Panel>\r\n                    ))}\r\n                </Tab.Panels>\r\n            </Tab.Group>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ImageGallery;\r\n","import React, { Fragment } from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faStar as faStarEmpty } from '@fortawesome/fontawesome-free-regular';\r\nimport { faStar, faStarHalfAlt } from '@fortawesome/free-solid-svg-icons';\r\nimport '../../style/rating_stars.css';\r\nconst Stars = ({ rating }) => {\r\n    const getStars = () => {\r\n        if (\r\n            rating &&\r\n            rating !== null &&\r\n            rating !== undefined\r\n        ) {\r\n            return (\r\n                <div>\r\n                    {\r\n                        rating >= 1 || rating >= 1.0 ? (\r\n                            <FontAwesomeIcon\r\n                                className='rating_stars'\r\n                                icon={faStar}\r\n                            />\r\n                        ) : (\r\n                            rating === 0.5 ? (\r\n                                <FontAwesomeIcon\r\n                                    className='rating_stars'\r\n                                    icon={faStarHalfAlt}\r\n                                />\r\n                            ) : (\r\n                                <FontAwesomeIcon\r\n                                    className='rating_stars'\r\n                                    icon={faStarEmpty}\r\n                                />\r\n                            )\r\n                        )\r\n                    }\r\n\r\n                    {\r\n                        rating >= 2 || rating >= 2.0 ? (\r\n                            <FontAwesomeIcon\r\n                                className='rating_stars'\r\n                                icon={faStar}\r\n                            />\r\n                        ) : (\r\n                            rating === 1.5 ? (\r\n                                <FontAwesomeIcon\r\n                                    className='rating_stars'\r\n                                    icon={faStarHalfAlt}\r\n                                />\r\n                            ) : (\r\n                                <FontAwesomeIcon\r\n                                    className='rating_stars'\r\n                                    icon={faStarEmpty}\r\n                                />\r\n                            )\r\n                        )\r\n                    }\r\n\r\n                    {\r\n                        rating >= 3 || rating >= 3.0 ? (\r\n                            <FontAwesomeIcon\r\n                                className='rating_stars'\r\n                                icon={faStar}\r\n                            />\r\n                        ) : (\r\n                            rating === 2.5 ? (\r\n                                <FontAwesomeIcon\r\n                                    className='rating_stars'\r\n                                    icon={faStarHalfAlt}\r\n                                />\r\n                            ) : (\r\n                                <FontAwesomeIcon\r\n                                    className='rating_stars'\r\n                                    icon={faStarEmpty}\r\n                                />\r\n                            )\r\n                        )\r\n                    }\r\n\r\n                    {\r\n                        rating >= 4 || rating >= 4.0 ? (\r\n                            <FontAwesomeIcon\r\n                                className='rating_stars'\r\n                                icon={faStar}\r\n                            />\r\n                        ) : (\r\n                            rating === 3.5 ? (\r\n                                <FontAwesomeIcon\r\n                                    className='rating_stars'\r\n                                    icon={faStarHalfAlt}\r\n                                />\r\n                            ) : (\r\n                                <FontAwesomeIcon\r\n                                    className='rating_stars'\r\n                                    icon={faStarEmpty}\r\n                                />\r\n                            )\r\n                        )\r\n                    }\r\n\r\n                    {\r\n                        rating >= 5 || rating >= 5.0 ? (\r\n                            <FontAwesomeIcon\r\n                                className='rating_stars'\r\n                                icon={faStar}\r\n                            />\r\n                        ) : (\r\n                            rating === 4.5 ? (\r\n                                <FontAwesomeIcon\r\n                                    className='rating_stars'\r\n                                    icon={faStarHalfAlt}\r\n                                />\r\n                            ) : (\r\n                                <FontAwesomeIcon\r\n                                    className='rating_stars'\r\n                                    icon={faStarEmpty}\r\n                                />\r\n                            )\r\n                        )\r\n                    }\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Fragment>\r\n            {getStars()}\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nexport default Stars","import Layout from \"../../../hocs/Layout\"\r\nimport { useEffect, useState } from \"react\";\r\nimport { useParams } from 'react-router';\r\nimport { Navigate } from \"react-router\";\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { motion } from 'framer-motion';\r\nimport axios from 'axios';\r\nimport { setAlert } from '../../../redux/actions/alert';\r\n\r\nimport { \r\n  CheckCircleIcon, \r\n  XCircleIcon, \r\n  ShoppingCartIcon, \r\n  LockClosedIcon, \r\n  DocumentTextIcon, \r\n  PlayIcon,\r\n  DownloadIcon,\r\n  EyeIcon,\r\n  ExclamationIcon,\r\n  LocationMarkerIcon \r\n} from \"@heroicons/react/solid\";\r\nimport { MapPinIcon, AlertTriangleIcon } from 'lucide-react';\r\n\r\n// Importaciones existentes del código original\r\nimport { get_brands } from \"../../../redux/actions/brands\";\r\nimport { add_wishlist_item, get_wishlist_items, get_wishlist_item_total , remove_wishlist_item } from '../../../redux/actions/wishlist';\r\nimport { get_product, get_related_products } from \"../../../redux/actions/products\";\r\nimport { get_reviews, get_review, create_review, update_review, delete_review, filter_reviews } from '../../../redux/actions/reviews';\r\nimport { get_items, add_item, get_total, get_item_total } from \"../../../redux/actions/cart\";\r\nimport { get_categories } from '../../../redux/actions/categories';\r\nimport { get_products, get_filtered_products } from '../../../redux/actions/products';\r\n\r\n// NUEVAS IMPORTACIONES PARA ANÁLISIS DE SENTIMIENTO\r\nimport {\r\n    get_sentiment_prediction,\r\n    train_sentiment_model,\r\n} from \"../../../redux/actions/rl\";\r\n\r\n// Componentes existentes\r\nimport ImageGallery from \"../../../components/product/ImageGallery\";\r\nimport WishlistHeart from \"../../../components/product/WishlistHeart\";\r\nimport ProductCard from '../../../components/product/ProductCard';\r\nimport Stars from '../../../components/product/Stars'\r\n\r\nconst extractYouTubeId = (url) => {\r\n  const regExp = /^.*(youtu.be\\/|v\\/|u\\/\\w\\/|embed\\/|watch\\?v=|&v=)([^#&?]*).*/;\r\n  const match = url.match(regExp);\r\n  return (match && match[2].length === 11) ? match[2] : null;\r\n};\r\n\r\nconst ProductDetail = ({\r\n    // Props existentes\r\n    get_product,\r\n    get_related_products,\r\n    product,\r\n    get_items,\r\n    add_item,\r\n    get_total,\r\n    get_item_total,\r\n    add_wishlist_item, \r\n    get_wishlist_items, \r\n    get_wishlist_item_total,\r\n    isAuthenticated,\r\n    remove_wishlist_item,\r\n    wishlist,\r\n    get_reviews,\r\n    get_review,\r\n    create_review,\r\n    update_review,\r\n    delete_review,\r\n    filter_reviews,\r\n    review,\r\n    brands, \r\n    get_brands,\r\n    reviews,\r\n    get_categories,\r\n    get_products,\r\n    products,\r\n    filtered_products,\r\n    user,\r\n    \r\n    // NUEVAS PROPS PARA ANÁLISIS DE SENTIMIENTO\r\n    sentiment_prediction,\r\n    sentiment_model_message,\r\n    sentiment_probability,\r\n    faltas_agresivas,\r\n    suspendido,\r\n    get_sentiment_prediction,\r\n    train_sentiment_model,\r\n}) => {\r\n  const [loading, setLoading] = useState(false);\r\n  const navigate = useNavigate();\r\n  const [filtered] = useState(false);\r\n  const [currentPage] = useState(1);\r\n  const productsPerPage = 5;\r\n  const [selected, setSelected] = useState(\"\");\r\n  const [expandedReviews, setExpandedReviews] = useState({});\r\n  \r\n  // NUEVOS ESTADOS PARA ANÁLISIS DE SENTIMIENTO\r\n  const [showSentimentAlert, setShowSentimentAlert] = useState(false);\r\n  const [canSubmitReview, setCanSubmitReview] = useState(true);\r\n\r\n  const params = useParams()\r\n  const productId = params.productId\r\n\r\n  // Funciones existentes del código original...\r\n  const toggleExpand = (index) => {\r\n    setExpandedReviews((prev) => ({\r\n      ...prev,\r\n      [index]: !prev[index],\r\n    }));\r\n  };\r\n\r\n  const addToCart = async () => {\r\n    if (product && product !== null && product !== undefined && product.quantity > 0) {\r\n        setLoading(true)\r\n        await add_item(product);\r\n        await get_items();\r\n        await get_total();\r\n        await get_item_total();\r\n        setLoading(false)\r\n        navigate('/cart')\r\n    }\r\n  }\r\n\r\n  const handleChange = (e) => {\r\n    const value = parseInt(e.target.value, 10);\r\n    setSelected(value);\r\n    filterReviews(value);\r\n  };\r\n\r\n  // UseEffects existentes...\r\n  useEffect(() => {\r\n    get_categories();\r\n    get_products();\r\n    window.scrollTo(0, 0);\r\n  }, [get_categories, get_products]);\r\n\r\n  useEffect(() => {\r\n    window.scrollTo(0,0)\r\n    get_product(productId)\r\n    get_related_products(productId)\r\n    get_wishlist_items()\r\n    get_wishlist_item_total()\r\n  }, [get_product, get_related_products, get_wishlist_items, get_wishlist_item_total, productId])\r\n\r\n  useEffect(() => {\r\n    get_reviews(productId);\r\n  }, [productId, get_reviews]);\r\n\r\n  useEffect(() => {\r\n    get_review(productId);\r\n  }, [productId, get_review]);\r\n\r\n  // NUEVO USEEFFECT PARA ANÁLISIS DE SENTIMIENTO\r\n  useEffect(() => {\r\n    if (sentiment_prediction !== null && sentiment_prediction !== undefined) {\r\n      setShowSentimentAlert(true);\r\n      const timer = setTimeout(() => setShowSentimentAlert(false), 5000);\r\n      \r\n      // Si el comentario es agresivo, bloquear envío temporalmente\r\n      if (sentiment_prediction.toLowerCase() === \"agresivo\") {\r\n        setCanSubmitReview(false);\r\n        // Después de mostrar la alerta, permitir envío nuevamente si no está suspendido\r\n        const unblockTimer = setTimeout(() => {\r\n          if (!suspendido) {\r\n            setCanSubmitReview(true);\r\n          }\r\n        }, 3000);\r\n        return () => {\r\n          clearTimeout(timer);\r\n          clearTimeout(unblockTimer);\r\n        };\r\n      }\r\n      \r\n      return () => clearTimeout(timer);\r\n    }\r\n  }, [sentiment_prediction, suspendido]);\r\n\r\n  // NUEVAS FUNCIONES PARA ANÁLISIS DE SENTIMIENTO\r\n  const getSentimentColor = (sentiment) => {\r\n    switch (sentiment?.toLowerCase()) {\r\n      case \"feliz\":\r\n        return \"bg-green-500\";\r\n      case \"preocupado\":\r\n        return \"bg-yellow-500\";\r\n      case \"neutral\":\r\n        return \"bg-blue-500\";\r\n      case \"desmotivado\":\r\n        return \"bg-red-500\";\r\n      case \"agresivo\":\r\n        return \"bg-pink-600\";\r\n      default:\r\n        return \"bg-gray-500\";\r\n    }\r\n  };\r\n\r\n  const getEmoji = (sentiment) => {\r\n    switch (sentiment?.toLowerCase()) {\r\n      case \"feliz\":\r\n        return \"😊\";\r\n      case \"preocupado\":\r\n        return \"😟\";\r\n      case \"neutral\":\r\n        return \"😐\";\r\n      case \"desmotivado\":\r\n        return \"😞\";\r\n      case \"agresivo\":\r\n        return \"😡\";\r\n      default:\r\n        return \"🤔\";\r\n    }\r\n  };\r\n\r\n  const analyzeSentiment = () => {\r\n    if (comment.trim() !== \"\") {\r\n      get_sentiment_prediction(comment);\r\n    }\r\n  };\r\n\r\n  const handleTrainModel = () => {\r\n    train_sentiment_model();\r\n  };\r\n\r\n  const [formData, setFormData] = useState({\r\n    comment:'',\r\n    rating:'',\r\n  })\r\n\r\n  const { comment, rating } = formData\r\n\r\n  const onChange = e => setFormData({ ...formData, [e.target.name]: e.target.value })\r\n  \r\n  // MODIFICACIÓN DE LA FUNCIÓN createReview PARA INCLUIR ANÁLISIS\r\n  const createReview = e => {\r\n    e.preventDefault()\r\n    \r\n    // Verificar si está suspendido\r\n    if (suspendido) {\r\n      setAlert(\"Tu cuenta está suspendida por comentarios agresivos. Contacta con soporte.\", \"error\");\r\n      return;\r\n    }\r\n\r\n    // Verificar si puede enviar (no bloqueado por comentario agresivo reciente)\r\n    if (!canSubmitReview) {\r\n      setAlert(\"Por favor espera un momento antes de enviar otro comentario.\", \"warning\");\r\n      return;\r\n    }\r\n\r\n    if (rating !== null && comment.trim() !== '') {\r\n      // Primero analizar el sentimiento\r\n      analyzeSentiment();\r\n      \r\n      // Esperar un momento para que se procese el análisis antes de enviar\r\n      setTimeout(() => {\r\n        if (sentiment_prediction?.toLowerCase() !== \"agresivo\" || !suspendido) {\r\n          create_review(productId, rating, comment);\r\n        }\r\n      }, 1000);\r\n    }\r\n  }\r\n\r\n  // MODIFICACIÓN DE LA FUNCIÓN updateReview PARA INCLUIR ANÁLISIS\r\n  const updateReview = e => {\r\n    e.preventDefault()\r\n    \r\n    if (suspendido) {\r\n      setAlert(\"Tu cuenta está suspendida por comentarios agresivos. Contacta con soporte.\", \"error\");\r\n      return;\r\n    }\r\n\r\n    if (!canSubmitReview) {\r\n      setAlert(\"Por favor espera un momento antes de enviar otro comentario.\", \"warning\");\r\n      return;\r\n    }\r\n\r\n    if (rating !== null && comment.trim() !== '') {\r\n      analyzeSentiment();\r\n      \r\n      setTimeout(() => {\r\n        if (sentiment_prediction?.toLowerCase() !== \"agresivo\" || !suspendido) {\r\n          update_review(productId, rating, comment);\r\n        }\r\n      }, 1000);\r\n    }\r\n  }\r\n\r\n  const deleteReview = () => {\r\n    const fetchData = async () => {\r\n        await delete_review(productId);\r\n        await get_review(productId);\r\n        setFormData({\r\n            comment: ''\r\n        });\r\n    };\r\n    fetchData();\r\n  }; \r\n\r\n  const filterReviews = numStars => {\r\n    filter_reviews(productId, numStars);\r\n  };\r\n  const [hoveredRow, setHoveredRow] = useState(null);\r\n\r\n  // Funciones existentes del wishlist, stock, etc... \r\n  // [COMPLETAR CON EL CÓDIGO ANTERIOR - addToWishlist, showProducts, renderPagination, etc.]\r\n\r\n  const addToWishlist = async () => {\r\n    if (isAuthenticated) {\r\n      let isPresent = false;\r\n        if(\r\n          wishlist &&\r\n          wishlist !== null &&\r\n          wishlist !== undefined &&\r\n          product &&\r\n          product !== null &&\r\n          product !== undefined\r\n          ){\r\n            isPresent = wishlist.some(item => item.product.id.toString() === product.id.toString())\r\n        }\r\n        \r\n        if (isPresent) {\r\n          await remove_wishlist_item(product.id);\r\n          await get_wishlist_items();\r\n          await get_wishlist_item_total();\r\n        } else {\r\n          await remove_wishlist_item(product.id);\r\n            await add_wishlist_item(product.id);\r\n            await get_wishlist_items();\r\n            await get_wishlist_item_total();\r\n            await get_items();\r\n            await get_total();\r\n            await get_item_total();\r\n        }\r\n          \r\n      } else {\r\n        return <Navigate to=\"/cart\"/>\r\n      }\r\n    };\r\n\r\n  const [filteredBrands, setFilteredBrands] = useState([]);\r\n  const [selectedLetter] = useState(\"ALL\");\r\n\r\n  useEffect(() => {\r\n    get_brands();\r\n  }, [get_brands]);\r\n\r\n  useEffect(() => {\r\n    if (selectedLetter === \"ALL\") {\r\n      setFilteredBrands(brands);\r\n    } else {\r\n      setFilteredBrands(brands.filter((brand) => brand.name.startsWith(selectedLetter)));\r\n    }\r\n  }, [brands, selectedLetter]);\r\n  \r\n  const showProducts = () => {\r\n    if (!product || !product.category) return null;\r\n    const productsToDisplay = filtered ? filtered_products : products;\r\n    const filteredByCategory = productsToDisplay?.filter(p =>\r\n        p.category === product.category\r\n    ) || [];\r\n\r\n    const shuffledProducts = [...filteredByCategory].sort(() => Math.random() - 0.5);\r\n    const startIndex = (currentPage - 1) * productsPerPage;\r\n    const currentProducts = shuffledProducts.slice(startIndex, startIndex + productsPerPage);\r\n\r\n    return currentProducts.map((product) => (\r\n        <ProductCard key={product.id} product={product} />\r\n    ));\r\n  };\r\n  \r\n  const renderPagination = () => {\r\n    const productsToDisplay = filtered ? filtered_products : products;\r\n    const totalPages = productsToDisplay ? Math.ceil(productsToDisplay.length / productsPerPage) : 0;\r\n    \r\n    if (totalPages <= 1) return null;\r\n    \r\n    const maxPagesToShow = 10;\r\n    let startPage = Math.max(1, currentPage - Math.floor(maxPagesToShow / 2));\r\n    let endPage = Math.min(totalPages, startPage + maxPagesToShow - 1);\r\n    \r\n    if (endPage - startPage + 1 < maxPagesToShow) {\r\n      startPage = Math.max(1, endPage - maxPagesToShow + 1);\r\n    }    \r\n  };\r\n  const [stockList, setStockList] = useState([]);\r\n\r\n  useEffect(() => {\r\n    axios.get('/api/branches/stock')\r\n      .then(res => {\r\n        setStockList(res.data);\r\n        setLoading(false);\r\n      })\r\n      .catch(err => {\r\n        console.error('Error al obtener stock:', err);\r\n        setLoading(false);\r\n      });\r\n  }, []);\r\n\r\n  if (loading) return <p>Cargando sucursales...</p>;\r\n\r\n  return(\r\n    <Layout>\r\n      <div className=\"bg-white\">\r\n        <div className=\"max-w-2xl mx-auto py-16 px-4 sm:py-24 sm:px-6 lg:max-w-7xl lg:px-8\">\r\n          {/* [COMPLETAR CON EL CÓDIGO ANTERIOR - Sección de imágenes y detalles del producto] */}\r\n          <div className=\"lg:grid lg:grid-cols-2 lg:gap-x-8 lg:items-start text-sm\">\r\n            <ImageGallery \r\n              photos={[\r\n                  product?.photo,  \r\n                  ...(product?.extra_images ? product.extra_images.map(image => image.image) : [])\r\n              ]}\r\n              short_description={product?.short_description || \"\"} \r\n            />\r\n        \r\n            <motion.div \r\n              initial={{ opacity: 0, y: 20 }} \r\n              animate={{ opacity: 1, y: 0 }} \r\n              transition={{ duration: 0.5 }}\r\n              className=\"relative mt-10 px-6 sm:px-8 sm:mt-16 lg:mt-0 bg-white shadow-xl rounded-3xl p-8 border border-gray-200 overflow-hidden\"\r\n            >\r\n              {/* [COMPLETAR CON EL CÓDIGO ANTERIOR - Contenido del producto] */}\r\n              <div className=\"absolute -top-10 -right-10 w-40 h-40 bg-purple-300 opacity-30 rounded-full blur-3xl\"></div>\r\n              <div className=\"absolute -bottom-10 -left-10 w-40 h-40 bg-blue-300 opacity-30 rounded-full blur-3xl\"></div>\r\n\r\n              <h1 className=\"text-xl font-bold text-gray-800 mb-2\">Producto: {product?.name}</h1>\r\n              <p className=\"text-lg text-gray-600\">SKU: <span className=\"font-medium\">{product?.sku}</span></p>\r\n              {/* [COMPLETAR CON EL RESTO DEL CONTENIDO DE PRODUCTO DEL CÓDIGO ANTERIOR] */}\r\n              \r\n              <div className=\"mt-6 border-t border-gray-300 pt-4\">\r\n                <h3 className=\"text-lg font-semibold text-gray-800 mb-4\">Descripción del producto: </h3>\r\n                <motion.div\r\n                  initial={{ opacity: 0 }}\r\n                  animate={{ opacity: 1 }}\r\n                  transition={{ delay: 0.2 }}\r\n                  className=\"text-gray-700 bg-gray-100 p-4 rounded-lg text-sm\"\r\n                  dangerouslySetInnerHTML={{ __html: `${product?.description || ''} ` }}\r\n                />\r\n              </div>\r\n\r\n              {/* Continuar con el resto del contenido del producto... */}\r\n              {/* [COMPLETAR CON LA TABLA DE DETALLES, PRECIOS, ETC. DEL CÓDIGO ANTERIOR] */}\r\n            </motion.div>\r\n          </div>\r\n\r\n          {/* [COMPLETAR CON SECCIONES DE RECURSOS Y STOCK DEL CÓDIGO ANTERIOR] */}\r\n\r\n          {/* SECCIÓN DE REVIEWS MODIFICADA CON ANÁLISIS DE SENTIMIENTO */}\r\n          <section className='my-10 max-w-7xl mx-auto p-6 bg-white rounded-lg shadow-md'>\r\n            <div className=\"flex items-center justify-between mb-6\">\r\n              <h2 className='text-2xl font-semibold text-gray-800 text-center'>Reseñas del Producto</h2>\r\n              \r\n              {/* BOTÓN PARA ENTRENAR MODELO DE SENTIMIENTO */}\r\n              {isAuthenticated && (\r\n                <button\r\n                  onClick={handleTrainModel}\r\n                  className=\"bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700 text-sm\"\r\n                >\r\n                  Entrenar Modelo IA\r\n                </button>\r\n              )}\r\n            </div>\r\n\r\n            {/* MENSAJE DE ENTRENAMIENTO DEL MODELO */}\r\n            {sentiment_model_message && (\r\n              <div className=\"mb-4 p-3 bg-green-100 text-green-700 rounded-md font-medium text-center\">\r\n                {sentiment_model_message}\r\n              </div>\r\n            )}\r\n\r\n            <div className=\"mt-6 border-t border-gray-300 pt-4 flex justify-center\">\r\n              {isAuthenticated ? (\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6 w-full\">\r\n                  \r\n                  {/* FORMULARIO DE RESEÑA CON ANÁLISIS DE SENTIMIENTO */}\r\n                  <div className=\"bg-gray-50 p-6 rounded-lg shadow-md w-full\">\r\n                    <div className=\"flex items-center space-x-2 mb-4\">\r\n                      <label htmlFor=\"starFilter\" className=\"text-gray-700\">Filtrar por estrellas:</label>\r\n                      <select \r\n                        id=\"starFilter\" \r\n                        className=\"border p-2 rounded cursor-pointer\" \r\n                        value={selected} \r\n                        onChange={handleChange}\r\n                      >\r\n                        <option value=\"\">Último</option>\r\n                        {[5, 4, 3, 2, 1].map((num) => (\r\n                          <option key={num} value={num}>{num} Estrellas</option>\r\n                        ))}\r\n                      </select>\r\n                    </div>\r\n\r\n                    <h3 className='text-lg font-semibold text-gray-800'>Añade tu Reseña</h3>\r\n                    \r\n                    {/* ALERTAS DE ANÁLISIS DE SENTIMIENTO */}\r\n                    {showSentimentAlert && sentiment_prediction && (\r\n                      <div\r\n                        className={`mt-4 p-4 rounded-md text-white font-semibold text-center ${getSentimentColor(\r\n                          sentiment_prediction\r\n                        )}`}\r\n                      >\r\n                        {getEmoji(sentiment_prediction)} El comentario fue clasificado como:{\" \"}\r\n                        <strong className=\"uppercase\">{sentiment_prediction}</strong>\r\n                        {sentiment_probability !== null && (\r\n                          <span className=\"block mt-1 text-sm text-white font-normal\">\r\n                            Probabilidad: {(sentiment_probability * 100).toFixed(2)}%\r\n                          </span>\r\n                        )}\r\n                      </div>\r\n                    )}\r\n\r\n                    {/* MENSAJE ESPECIAL PARA COMENTARIOS AGRESIVOS */}\r\n                    {showSentimentAlert && sentiment_prediction === \"Agresivo\" && (\r\n                      <div className=\"mt-4 p-3 rounded-md bg-red-100 text-red-800 text-center font-medium\">\r\n                        {suspendido ? (\r\n                          <div>\r\n                            🛑 Has alcanzado el límite de 3 comentarios agresivos. Tu cuenta ha sido suspendida.\r\n                            <br />\r\n                            <span className=\"text-sm\">Por favor, contacta con soporte técnico.</span>\r\n                          </div>\r\n                        ) : (\r\n                          <div>\r\n                            ⚠️ Comentario agresivo detectado. Advertencia {faltas_agresivas}/3.\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                    )}\r\n\r\n                    <form \r\n                      onSubmit={review && review.comment ? updateReview : createReview} \r\n                      className='mt-3 space-y-4 text-left'\r\n                    >\r\n                      <div className=\"relative\">\r\n                        <textarea\r\n                          rows={5}\r\n                          name=\"comment\"\r\n                          required\r\n                          value={comment}\r\n                          onChange={onChange}\r\n                          placeholder={review?.comment || \"Escribe tu opinión...\"}\r\n                          className=\"text-sm w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\"\r\n                          disabled={suspendido}\r\n                        />\r\n\r\n                      </div>\r\n                      \r\n                      <select\r\n                        name=\"rating\"\r\n                        required\r\n                        value={rating}\r\n                        onChange={onChange}\r\n                        className=\"w-full p-2 border border-gray-300 rounded-lg\"\r\n                        disabled={suspendido}\r\n                      >\r\n                        <option value=\"\">Selecciona una calificación</option>\r\n                        {[1, 2, 3, 4, 5].map((num) => (\r\n                          <option key={num} value={num}>\r\n                            {num} Estrella{num > 1 && 's'}\r\n                          </option>\r\n                        ))}\r\n                      </select>\r\n                      \r\n                      <button\r\n                        type=\"submit\"\r\n                        disabled={!rating || (!comment && review?.comment === comment) || !canSubmitReview || suspendido}\r\n                        className={`w-full py-2 rounded-lg transition ${\r\n                          rating && (comment || !review?.comment) && canSubmitReview && !suspendido\r\n                            ? \"bg-midnight-blue text-white hover:bg-purple-night\"\r\n                            : \"bg-gray-400 cursor-not-allowed\"\r\n                        }`}\r\n                      >\r\n                        {suspendido \r\n                          ? \"Cuenta Suspendida\" \r\n                          : !canSubmitReview \r\n                          ? \"Esperando análisis...\" \r\n                          : review && review.comment \r\n                          ? \"Actualizar Reseña\" \r\n                          : \"Añadir Reseña\"\r\n                        }\r\n                      </button>\r\n                    </form>\r\n\r\n                    {review && review.comment && isAuthenticated && !suspendido && (\r\n                      <button\r\n                        onClick={deleteReview}\r\n                        className=\"mt-2 w-full bg-crimson-red text-white py-2 rounded-lg hover:bg-red-700 transition\"\r\n                      >\r\n                        Eliminar Reseña\r\n                      </button>\r\n                    )}\r\n                  </div>\r\n\r\n                  {/* LISTA DE RESEÑAS */}\r\n                  <div className=\"space-y-4\">\r\n                    {reviews && reviews.length > 0 ? (\r\n                      <>\r\n                        {reviews.map((review, index) => (\r\n                          <div \r\n                            key={index} \r\n                            className=\"flex items-start bg-white p-3 rounded-lg shadow-sm border border-gray-200\"\r\n                          >\r\n                            <div className=\"mr-3 flex-shrink-0\">\r\n                              <span className=\"inline-block h-10 w-10 rounded-full overflow-hidden bg-gray-200\">\r\n                                <svg className=\"h-full w-full text-gray-400\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                  <path d=\"M24 20.993V24H0v-2.996A14.977 14.977 0 0112.004 15c4.904 0 9.26 2.354 11.996 5.993zM16.002 8.999a4 4 0 11-8 0 4 4 0 018 0z\" />\r\n                                </svg>\r\n                              </span>\r\n                            </div>\r\n                            <div className=\"flex-1\">\r\n                              <Stars rating={review.rating} />\r\n                              <h4 className=\"text-sm font-semibold text-gray-800\">{review.user}</h4>\r\n                              <p className={`text-gray-600 text-sm mt-1 ${!expandedReviews[index] ? 'line-clamp-2' : ''}`}>\r\n                                {review.comment}\r\n                              </p>\r\n                              {review.comment.length > 100 && (\r\n                                <button\r\n                                  onClick={() => toggleExpand(index)}\r\n                                  className=\"text-indigo-600 hover:underline text-sm mt-1\"\r\n                                >\r\n                                  {expandedReviews[index] ? 'Mostrar menos' : 'Mostrar más'}\r\n                                </button>\r\n                              )}\r\n                            </div>\r\n                          </div>\r\n                        ))}\r\n                      </>\r\n                    ) : (\r\n                      <div className=\"flex justify-center\">\r\n                        <p className=\"text-gray-500 text-sm\">Aún no hay reseñas para este producto.</p>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n\r\n                </div>\r\n              ) : (\r\n                <motion.div\r\n                  initial={{ opacity: 0, scale: 0.8 }}\r\n                  animate={{ opacity: 1, scale: 1 }}\r\n                  transition={{ duration: 0.5, ease: \"easeInOut\" }}\r\n                  className=\"w-72 mx-auto text-white text-sm font-semibold px-4 py-2 bg-gray-700 shadow-lg rounded-md flex items-center justify-center gap-2\"\r\n                >\r\n                  <LockClosedIcon className=\"w-5 h-5\" /> Inicia sesión para ver reseñas de los productos\r\n                </motion.div>\r\n              )}\r\n            </div>\r\n          </section>\r\n\r\n          <div className=\"flex items-baseline justify-between pt-12 pb-6 border-b border-gray-200\">\r\n            <h1 className=\"text-4xl font-extrabold tracking-tight text-gray-900\">Productos relacionados</h1>\r\n          </div>\r\n          <section aria-labelledby=\"products-heading\" className=\"pt-10 pb-6 px-6 sm:px-10 lg:px-4 md:px-4\">\r\n            <h2 id=\"products-heading\" className=\"sr-only\">Productos</h2>\r\n            <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-x-10 gap-y-12\">\r\n              <div className=\"lg:col-span-3\">\r\n                <div className=\"grid sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-6\">\r\n                  {showProducts()}\r\n                </div>\r\n                <div className=\"mt-10\">\r\n                  {renderPagination()}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </section>\r\n        </div>\r\n      </div>\r\n    </Layout>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    product: state.Products.product,\r\n    isAuthenticated: state.Auth.isAuthenticated,\r\n    wishlist: state.Wishlist.items,\r\n    review: state.Reviews.review,\r\n    brands: state.Brands.brands,\r\n    reviews: state.Reviews.reviews,\r\n    categories: state.Categories.categories,\r\n    products: state.Products.products,\r\n    filtered_products: state.Products.filtered_products,\r\n    user: state.Auth.user,\r\n    sentiment_prediction: state.rl.sentiment_prediction,\r\n    sentiment_model_message: state.rl.sentiment_model_message,\r\n    sentiment_probability: state.rl.sentiment_probability,\r\n    faltas_agresivas: state.rl.faltas_agresivas,\r\n    suspendido: state.rl.suspendido,\r\n})\r\n\r\nexport default connect(mapStateToProps, {\r\n    get_product,\r\n    get_related_products,\r\n    get_items,\r\n    add_item,\r\n    get_total,\r\n    get_item_total,\r\n    add_wishlist_item, \r\n    get_wishlist_items, \r\n    get_wishlist_item_total,\r\n    remove_wishlist_item,\r\n    get_reviews,\r\n    get_review,\r\n    create_review,\r\n    update_review,\r\n    delete_review,\r\n    filter_reviews,\r\n    get_brands,\r\n    get_categories,\r\n    get_products,\r\n    get_filtered_products,\r\n    setAlert,\r\n    get_sentiment_prediction,\r\n    train_sentiment_model,\r\n}) (ProductDetail)","import axios from 'axios';\r\nimport {\r\n    GET_REVIEWS_SUCCESS,\r\n    GET_REVIEWS_FAIL,\r\n    GET_REVIEW_SUCCESS,\r\n    GET_REVIEW_FAIL,\r\n    CREATE_REVIEW_SUCCESS,\r\n    CREATE_REVIEW_FAIL,\r\n    UPDATE_REVIEW_SUCCESS,\r\n    UPDATE_REVIEW_FAIL,\r\n    DELETE_REVIEW_SUCCESS,\r\n    DELETE_REVIEW_FAIL,\r\n    FILTER_REVIEWS_SUCCESS,\r\n    FILTER_REVIEWS_FAIL,\r\n} from './types';\r\n\r\n\r\nexport const get_reviews = product_id => async dispatch => {\r\n    const config = {\r\n        headers: {\r\n            'Accept': 'application/json',\r\n        }\r\n    };\r\n\r\n    try {\r\n        const res = await axios.get(\r\n            `${process.env.REACT_APP_API_URL}/api/reviews/get-reviews/${product_id}`, \r\n            config\r\n        );\r\n\r\n        if (res.status === 200) {\r\n            dispatch({\r\n                type: GET_REVIEWS_SUCCESS,\r\n                payload: res.data\r\n            });\r\n        } else {\r\n            dispatch({\r\n                type: GET_REVIEWS_FAIL\r\n            });\r\n        }\r\n    } catch(err) {\r\n        dispatch({\r\n            type: GET_REVIEWS_FAIL\r\n        });\r\n    }\r\n}\r\n\r\n\r\nexport const get_review = product_id => async dispatch => {\r\n    if (localStorage.getItem('access')) {\r\n        const config = {\r\n            headers: {\r\n                'Authorization': `JWT ${localStorage.getItem('access')}`,\r\n                'Accept': 'application/json',\r\n            }\r\n        };\r\n\r\n        try {\r\n            const res = await axios.get(\r\n                `${process.env.REACT_APP_API_URL}/api/reviews/get-review/${product_id}`, \r\n                config\r\n            );\r\n\r\n            if (res.status === 200) {\r\n                dispatch({\r\n                    type: GET_REVIEW_SUCCESS,\r\n                    payload: res.data\r\n                });\r\n            } else {\r\n                dispatch({\r\n                    type: GET_REVIEW_FAIL\r\n                });\r\n            }\r\n        } catch(err) {\r\n            dispatch({\r\n                type: GET_REVIEW_FAIL\r\n            });\r\n        }\r\n    }\r\n}\r\n\r\nexport const create_review = (product_id, rating, comment) => async dispatch => {\r\n    if (localStorage.getItem('access')) {\r\n        const config = {\r\n            headers: {\r\n                'Authorization': `JWT ${localStorage.getItem('access')}`,\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json',\r\n            }\r\n        };\r\n\r\n        const body = JSON.stringify({\r\n            rating,\r\n            comment\r\n        });\r\n\r\n        try {\r\n            const res = await axios.post(\r\n                `${process.env.REACT_APP_API_URL}/api/reviews/create-review/${product_id}`,\r\n                body,\r\n                config\r\n            );\r\n\r\n            if (res.status === 201) {\r\n                dispatch({\r\n                    type: CREATE_REVIEW_SUCCESS,\r\n                    payload: res.data\r\n                });\r\n            } else {\r\n                dispatch({\r\n                    type: CREATE_REVIEW_FAIL\r\n                });\r\n            }\r\n        } catch(err) {\r\n            dispatch({\r\n                type: CREATE_REVIEW_FAIL\r\n            });\r\n        }\r\n    }\r\n}\r\n\r\nexport const update_review = (product_id, rating, comment) => async dispatch => {\r\n    if (localStorage.getItem('access')) {\r\n        const config = {\r\n            headers: {\r\n                'Authorization': `JWT ${localStorage.getItem('access')}`,\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json',\r\n            }\r\n        };\r\n\r\n        const body = JSON.stringify({\r\n            rating,\r\n            comment\r\n        });\r\n\r\n        try {\r\n            const res = await axios.put(\r\n                `${process.env.REACT_APP_API_URL}/api/reviews/update-review/${product_id}`,\r\n                body,\r\n                config\r\n            );\r\n\r\n            if (res.status === 200) {\r\n                dispatch({\r\n                    type: UPDATE_REVIEW_SUCCESS,\r\n                    payload: res.data\r\n                });\r\n            } else {\r\n                dispatch({\r\n                    type: UPDATE_REVIEW_FAIL\r\n                });\r\n            }\r\n        } catch(err) {\r\n            dispatch({\r\n                type: UPDATE_REVIEW_FAIL\r\n            });\r\n        }\r\n    }\r\n}\r\n\r\nexport const delete_review = product_id => async dispatch => {\r\n    if (localStorage.getItem('access')) {\r\n        const config = {\r\n            headers: {\r\n                'Authorization': `JWT ${localStorage.getItem('access')}`,\r\n                'Accept': 'application/json',\r\n            },\r\n            data: {}\r\n        };\r\n\r\n        try {\r\n            const res = await axios.delete(\r\n                `${process.env.REACT_APP_API_URL}/api/reviews/delete-review/${product_id}`,\r\n                config\r\n            );\r\n\r\n            if (res.status === 200) {\r\n                dispatch({\r\n                    type: DELETE_REVIEW_SUCCESS,\r\n                    payload: res.data\r\n                });\r\n            } else {\r\n                dispatch({\r\n                    tye: DELETE_REVIEW_FAIL\r\n                });\r\n            }\r\n        } catch(err) {\r\n            dispatch({\r\n                tye: DELETE_REVIEW_FAIL\r\n            });\r\n        }\r\n    }\r\n}\r\n\r\nexport const filter_reviews = (product_id, rating) => async dispatch => {\r\n    const config = {\r\n        headers: {\r\n            'Accept': 'application/json',\r\n        }\r\n    };\r\n\r\n    let myRating;\r\n\r\n    if (rating === 0.5)\r\n        myRating = '0.5';\r\n    else if (rating === 1 || rating === 1.0)\r\n        myRating = '1.0';\r\n    else if (rating === 1.5)\r\n        myRating = '1.5';\r\n    else if (rating === 2 || rating === 2.0)\r\n        myRating = '2.0';\r\n    else if (rating === 2.5)\r\n        myRating = '2.5';\r\n    else if (rating === 3 || rating === 3.0)\r\n        myRating = '3.0';\r\n    else if (rating === 3.5)\r\n        myRating = '3.5';\r\n    else if (rating === 4 || rating === 4.0)\r\n        myRating = '4.0';\r\n    else if (rating === 4.5)\r\n        myRating = '4.5';\r\n    else\r\n        myRating = '5.0';\r\n\r\n        try {\r\n            const res = await axios.get(\r\n                `${process.env.REACT_APP_API_URL}/api/reviews/filter-reviews/${product_id}?rating=${myRating}`,\r\n                config\r\n            );\r\n    \r\n            if (res.status === 200) {\r\n                dispatch({\r\n                    type: FILTER_REVIEWS_SUCCESS,\r\n                    payload: res.data\r\n                });\r\n            } else {\r\n                dispatch({\r\n                    type: FILTER_REVIEWS_FAIL\r\n                });\r\n            }\r\n        } catch(err) {\r\n            dispatch({\r\n                type: FILTER_REVIEWS_FAIL\r\n            });\r\n        }\r\n}","import { ToastContainer } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport { check_authenticated, load_user, refresh } from '../redux/actions/auth';\r\nimport {\r\n    get_items,\r\n    get_total,\r\n    get_item_total\r\n} from \"../redux/actions/cart\";\r\n\r\nimport {\r\n    get_user_profile\r\n} from \"../redux/actions/profile\";\r\n\r\nimport { useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Navbar from '../components/navigation/Navbar';\r\nimport Footer from '../components/navigation/Footer';\r\n\r\nconst Layout = (props) => {\r\n\r\n    useEffect(() => {\r\n        props.refresh()\r\n        props.check_authenticated()\r\n        props.load_user()\r\n        props.get_items()\r\n        props.get_total()\r\n        props.get_item_total()\r\n        props.get_user_profile()\r\n    }, []);\r\n\r\n    return(\r\n        <div>\r\n            <Navbar/>\r\n            <ToastContainer autoClose={5000} />\r\n            {props.children}\r\n            <Footer/>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default connect(null, {\r\n    check_authenticated,\r\n    load_user,\r\n    refresh,\r\n    get_items,\r\n    get_total,\r\n    get_item_total,\r\n    get_user_profile\r\n}) (Layout)","import axios from 'axios';\r\nimport {\r\n    GET_BRANDS_SUCCESS,\r\n    GET_BRANDS_FAIL,\r\n} from './types';\r\n\r\nexport const get_brands = () => async dispatch => {\r\n    const config = {\r\n        headers: {\r\n            'Accept': 'application/json'\r\n        }\r\n    };\r\n\r\n    try {\r\n        const res = await axios.get(`${process.env.REACT_APP_API_URL}/api/brand/brands`, config);\r\n        \r\n        if (res.status >= 200 && res.status < 300) {\r\n            dispatch({\r\n                type: GET_BRANDS_SUCCESS,\r\n                payload: res.data // Asegúrate de que tu API devuelva un objeto con `brands`\r\n            });\r\n        } else {\r\n            console.error('Error: Unexpected response status', res.status);\r\n            dispatch({\r\n                type: GET_BRANDS_FAIL\r\n            });\r\n        }\r\n    } catch (err) {\r\n        console.error('Error fetching brands:', err.message);\r\n        dispatch({\r\n            type: GET_BRANDS_FAIL\r\n        });\r\n    }\r\n};\r\n","import axios from 'axios';\r\nimport {\r\n    ADD_ITEM,\r\n    GET_TOTAL,\r\n    GET_ITEM_TOTAL,\r\n    GET_ITEMS,\r\n    UPDATE_ITEM,\r\n    REMOVE_ITEM,\r\n    EMPTY_CART,\r\n    ADD_ITEM_SUCCESS,\r\n    ADD_ITEM_FAIL,\r\n    GET_TOTAL_SUCCESS,\r\n    GET_TOTAL_FAIL,\r\n    GET_ITEM_TOTAL_SUCCESS,\r\n    GET_ITEM_TOTAL_FAIL,\r\n    GET_ITEMS_SUCCESS,\r\n    GET_ITEMS_FAIL,\r\n    UPDATE_ITEM_SUCCESS,\r\n    UPDATE_ITEM_FAIL,\r\n    REMOVE_ITEM_SUCCESS,\r\n    REMOVE_ITEM_FAIL,\r\n    EMPTY_CART_SUCCESS,\r\n    EMPTY_CART_FAIL,\r\n    SYNCH_CART_SUCCESS,\r\n    SYNCH_CART_FAIL,\r\n} from './types';\r\n\r\n\r\nexport const add_item = product => async dispatch => {\r\n    if (localStorage.getItem('access')) {\r\n        const config = {\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Accept': 'application/json',\r\n                'Authorization': `JWT ${localStorage.getItem('access')}`,\r\n            }\r\n        };\r\n\r\n        const product_id = product.id;\r\n        const body = JSON.stringify({ product_id });\r\n\r\n        try {\r\n            const res = await axios.post(`${process.env.REACT_APP_API_URL}/api/cart/add-item`, body, config);\r\n\r\n            if (res.status === 201) {\r\n                dispatch({\r\n                    type: ADD_ITEM_SUCCESS,\r\n                    payload: res.data\r\n                });\r\n            } else {\r\n                dispatch({\r\n                    type: ADD_ITEM_FAIL\r\n                });\r\n            }\r\n        } catch(err){\r\n            dispatch({\r\n                type: ADD_ITEM_FAIL\r\n            });\r\n        }\r\n\r\n    } else {\r\n        let cart = [];\r\n\r\n        if (localStorage.getItem('cart')) {\r\n            cart = JSON.parse(localStorage.getItem('cart'));\r\n        }\r\n\r\n        let shouldAddItem = true;\r\n\r\n        cart.map(item => {\r\n            if (product.id.toString() === item.product.id.toString()) {\r\n                shouldAddItem = false;\r\n            }\r\n        });\r\n\r\n        const order_item = {\r\n            product: product,\r\n            count: 1\r\n        };\r\n\r\n        if (shouldAddItem) {\r\n            cart.push(order_item);\r\n        }\r\n\r\n        dispatch({\r\n            type: ADD_ITEM,\r\n            payload: cart\r\n        });\r\n    }\r\n}\r\n\r\n\r\nexport const get_items = () => async dispatch => {\r\n    if (localStorage.getItem('access')) {\r\n        const config = {\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Authorization': `JWT ${localStorage.getItem('access')}`,\r\n            }\r\n        };\r\n\r\n        try {\r\n            const res = await axios.get(`${process.env.REACT_APP_API_URL}/api/cart/cart-items`, config);\r\n\r\n            if (res.status === 200) {\r\n                dispatch({\r\n                    type: GET_ITEMS_SUCCESS,\r\n                    payload: res.data\r\n                });\r\n            } else {\r\n                dispatch({\r\n                    type: GET_ITEMS_FAIL\r\n                });\r\n            }\r\n        } catch(err) {\r\n            dispatch({\r\n                type: GET_ITEMS_FAIL\r\n            });\r\n        }\r\n    } else {\r\n        dispatch({\r\n            type: GET_ITEMS\r\n        });\r\n    }\r\n}\r\n\r\nexport const get_total = () => async dispatch => {\r\n    if (localStorage.getItem('access')) {\r\n        const config = {\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Authorization': `JWT ${localStorage.getItem('access')}`,\r\n            }\r\n        };\r\n\r\n        try {\r\n            const res = await axios.get(`${process.env.REACT_APP_API_URL}/api/cart/get-total`, config);\r\n\r\n            if (res.status === 200) {\r\n                dispatch({\r\n                    type: GET_TOTAL_SUCCESS,\r\n                    payload: res.data\r\n                });\r\n            } else {\r\n                dispatch({\r\n                    type: GET_TOTAL_FAIL\r\n                });\r\n            }\r\n        } catch(err) {\r\n            dispatch({\r\n                type: GET_TOTAL_FAIL\r\n            });\r\n        }\r\n    } else {\r\n        let total = 0.0;\r\n        let compare_total = 0.0;\r\n        let cart = [];\r\n\r\n        if (localStorage.getItem('cart')) {\r\n            cart = JSON.parse(localStorage.getItem('cart'));\r\n\r\n            cart.map(item => {\r\n                total += parseFloat(item.product.price) * parseFloat(item.count);\r\n                compare_total += parseFloat(item.product.compare_price) * parseFloat(item.count);\r\n            });\r\n        }\r\n\r\n        dispatch({\r\n            type: GET_TOTAL,\r\n            payload: [parseFloat(total.toFixed(2)), parseFloat(compare_total.toFixed(2))]\r\n        });\r\n    }\r\n}\r\n\r\n\r\nexport const get_item_total = () => async dispatch => {\r\n    if (localStorage.getItem('access')) {\r\n        const config = {\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Authorization': `JWT ${localStorage.getItem('access')}`,\r\n            }\r\n        };\r\n\r\n        try {\r\n            const res = await axios.get(`${process.env.REACT_APP_API_URL}/api/cart/get-item-total`, config);\r\n\r\n            if (res.status === 200) {\r\n                dispatch({\r\n                    type: GET_ITEM_TOTAL_SUCCESS,\r\n                    payload: res.data\r\n                });\r\n            } else {\r\n                dispatch({\r\n                    type: GET_ITEM_TOTAL_FAIL\r\n                });\r\n            }\r\n        } catch(err) {\r\n            dispatch({\r\n                type: GET_ITEM_TOTAL_FAIL\r\n            });\r\n        }\r\n    } else {\r\n        let total = 0;\r\n\r\n        if (localStorage.getItem('cart')) {\r\n            total = JSON.parse(localStorage.getItem('cart')).length;\r\n        }\r\n\r\n        dispatch({\r\n            type: GET_ITEM_TOTAL,\r\n            payload: total\r\n        });\r\n    }\r\n}\r\n\r\nexport const update_item = (item, count) => async dispatch => {\r\n    if (localStorage.getItem('access')) {\r\n        const config = {\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Accept': 'application/json',\r\n                'Authorization': `JWT ${localStorage.getItem('access')}`,\r\n            }\r\n        };\r\n\r\n        const product_id = item.product.id;\r\n        const body = JSON.stringify({ product_id, count });\r\n\r\n        try {\r\n            const res = await axios.put(`${process.env.REACT_APP_API_URL}/api/cart/update-item`, body, config);\r\n\r\n            if (res.status === 200 && !res.data.error) {\r\n                dispatch({\r\n                    type: UPDATE_ITEM_SUCCESS,\r\n                    payload: res.data\r\n                });\r\n            } else {\r\n                dispatch({\r\n                    type: UPDATE_ITEM_FAIL\r\n                });\r\n            }\r\n        } catch(err) {\r\n            dispatch({\r\n                type: UPDATE_ITEM_FAIL\r\n            });\r\n        }\r\n\r\n    } else {\r\n        let cart = [];\r\n\r\n        if (localStorage.getItem('cart')) {\r\n            cart = JSON.parse(localStorage.getItem('cart'));\r\n\r\n            cart.map((cart_item, index) => {\r\n                if (cart_item.product.id.toString() === item.product.id.toString()) {\r\n                    cart[index].count = parseInt(count);\r\n                }\r\n            });\r\n        }\r\n\r\n        dispatch({\r\n            type: UPDATE_ITEM,\r\n            payload: cart\r\n        });\r\n    }\r\n}\r\n\r\n\r\nexport const remove_item = item => async dispatch => {\r\n    if (localStorage.getItem('access')) {\r\n        const product_id = item.product.id;\r\n        const body = JSON.stringify({ product_id });\r\n\r\n\r\n        const config = {\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Accept': 'application/json',\r\n                'Authorization': `JWT ${localStorage.getItem('access')}`,\r\n            },\r\n            data: body\r\n        };\r\n\r\n        try {\r\n            const res = await axios.delete(`${process.env.REACT_APP_API_URL}/api/cart/remove-item`, config);\r\n\r\n            if (res.status === 200) {\r\n                dispatch({\r\n                    type: REMOVE_ITEM_SUCCESS,\r\n                    payload: res.data\r\n                });\r\n            } else {\r\n                dispatch({\r\n                    type: REMOVE_ITEM_FAIL\r\n                });\r\n            }\r\n        } catch(err) {\r\n            dispatch({\r\n                type: REMOVE_ITEM_FAIL\r\n            });\r\n        }\r\n    } else {\r\n        let cart = [];\r\n        let new_cart = [];\r\n\r\n        if (localStorage.getItem('cart')) {\r\n            cart = JSON.parse(localStorage.getItem('cart'));\r\n\r\n            cart.map(cart_item => {\r\n                if (cart_item.product.id.toString() !== item.product.id.toString()) {\r\n                    new_cart.push(cart_item);\r\n                }\r\n            });\r\n        }\r\n\r\n        dispatch({\r\n            type: REMOVE_ITEM,\r\n            payload: new_cart\r\n        });\r\n    }\r\n}\r\n\r\nexport const empty_cart = () => async dispatch => {\r\n    if (localStorage.getItem('access')) {\r\n        const config = {\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Authorization': `JWT ${localStorage.getItem('access')}`,\r\n            }\r\n        };\r\n\r\n        try {\r\n            const res = await axios.delete(`${process.env.REACT_APP_API_URL}/api/cart/empty-cart`, config);\r\n\r\n            if (res.status === 200) {\r\n                dispatch({\r\n                    type: EMPTY_CART_SUCCESS\r\n                });\r\n            } else {\r\n                dispatch({\r\n                    type: EMPTY_CART_FAIL\r\n                });\r\n            }\r\n        } catch(err) {\r\n            dispatch({\r\n                type: EMPTY_CART_FAIL\r\n            });\r\n        }\r\n    } else {\r\n        dispatch({\r\n            type: EMPTY_CART\r\n        });\r\n    }\r\n}\r\n\r\n\r\nexport const synch_cart = () => async dispatch => {\r\n    const config = {\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n            'Accept': 'application/json',\r\n            'Authorization': `JWT ${localStorage.getItem('access')}`,\r\n        }\r\n    };\r\n\r\n    let cart_items = [];\r\n\r\n    if (localStorage.getItem('cart')) {\r\n        let cart = JSON.parse(localStorage.getItem('cart'));\r\n\r\n        cart.map(cart_item => {\r\n            const item = {};\r\n            item.product_id = cart_item.product.id;\r\n            item.count = cart_item.count;\r\n            cart_items.push(item);\r\n        });\r\n    }\r\n\r\n    const body = JSON.stringify({ cart_items });\r\n\r\n    try {\r\n        const res = await axios.put(`${process.env.REACT_APP_API_URL}/api/cart/synch`, body, config);\r\n\r\n        if (res.status === 201) {\r\n            dispatch({\r\n                type: SYNCH_CART_SUCCESS\r\n            });\r\n        } else {\r\n            dispatch({\r\n                type: SYNCH_CART_FAIL\r\n            });\r\n        }\r\n    } catch(err) {\r\n        dispatch({\r\n            type: SYNCH_CART_FAIL\r\n        });\r\n    }\r\n}","import axios from 'axios';\r\nimport { setAlert } from './alert';\r\nimport {\r\n    GET_USER_PROFILE_SUCCESS,\r\n    GET_USER_PROFILE_FAIL,\r\n    UPDATE_USER_PROFILE_SUCCESS,\r\n    UPDATE_USER_PROFILE_FAIL\r\n} from './types';\r\n\r\nexport const get_user_profile = () => async dispatch => {\r\n    if (localStorage.getItem('access')) {\r\n        const config = {\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Authorization': `JWT ${localStorage.getItem('access')}`\r\n            }\r\n        };\r\n\r\n        try {\r\n            const res = await axios.get(`${process.env.REACT_APP_API_URL}/api/profile/user`, config);\r\n\r\n            if (res.status === 200) {\r\n                dispatch({\r\n                    type: GET_USER_PROFILE_SUCCESS,\r\n                    payload: res.data\r\n                });\r\n            } else {\r\n                dispatch({\r\n                    type: GET_USER_PROFILE_FAIL\r\n                });\r\n            }\r\n        } catch(err) {\r\n            dispatch({\r\n                type: GET_USER_PROFILE_FAIL\r\n            });\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport const update_user_profile = (\r\n    address_line_1,\r\n    address_line_2,\r\n    city,\r\n    state_province_region,\r\n    zipcode,\r\n    phone,\r\n    country_region\r\n) => async dispatch => {\r\n    if (localStorage.getItem('access')) {\r\n        const config = {\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `JWT ${localStorage.getItem('access')}`\r\n            }\r\n        };\r\n\r\n        const body = JSON.stringify({\r\n            address_line_1,\r\n            address_line_2,\r\n            city,\r\n            state_province_region,\r\n            zipcode,\r\n            phone,\r\n            country_region\r\n        });\r\n\r\n        try {\r\n            const res = await axios.put(`${process.env.REACT_APP_API_URL}/api/profile/update`, body, config);\r\n\r\n            if (res.status === 200) {\r\n                dispatch({\r\n                    type: UPDATE_USER_PROFILE_SUCCESS,\r\n                    payload: res.data\r\n                });\r\n                dispatch(setAlert('Profile updated successfully', 'green'));\r\n            } else {\r\n                dispatch({\r\n                    type: UPDATE_USER_PROFILE_FAIL\r\n                });\r\n                dispatch(setAlert('Failed to update profile', 'red'));\r\n            }\r\n        } catch(err) {\r\n            dispatch({\r\n                type: UPDATE_USER_PROFILE_FAIL\r\n            });\r\n            dispatch(setAlert('Failed to update profile', 'red'));\r\n        }\r\n    }\r\n}","import {\r\n    TRAIN_SENTIMENT_MODEL_SUCCESS,\r\n    TRAIN_SENTIMENT_MODEL_FAIL,\r\n    GET_SENTIMENT_PREDICTION_SUCCESS,\r\n    GET_SENTIMENT_PREDICTION_FAIL\r\n} from './types';\r\n\r\nimport axios from 'axios';\r\n\r\nconst API_URL = `${process.env.REACT_APP_API_URL}/api/ml/sentimiento`;\r\n\r\n// Entrenamiento del modelo\r\nexport const train_sentiment_model = () => async dispatch => {\r\n    try {\r\n        const res = await axios.get(`${API_URL}/train`, {\r\n            headers: { Accept: 'application/json' }\r\n        });\r\n\r\n        dispatch({\r\n            type: TRAIN_SENTIMENT_MODEL_SUCCESS,\r\n            payload: res.data.message\r\n        });\r\n    } catch (error) {\r\n        console.error(\"Error entrenando modelo:\", error);\r\n        dispatch({ type: TRAIN_SENTIMENT_MODEL_FAIL });\r\n    }\r\n};\r\n\r\n// Predicción de sentimiento/emoción\r\nexport const get_sentiment_prediction = (comment) => async dispatch => {\r\n    try {\r\n        const token = localStorage.getItem('access');\r\n        const config = {\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Accept': 'application/json',\r\n                'Authorization': `JWT ${token}`\r\n            }\r\n        };\r\n\r\n        const body = JSON.stringify({ comment });\r\n\r\n        const res = await axios.post(`${API_URL}/predict`, body, config);\r\n\r\n        dispatch({\r\n            type: GET_SENTIMENT_PREDICTION_SUCCESS,\r\n            payload: res.data  // incluye prediction y probability\r\n        });\r\n    } catch (error) {\r\n        console.error(\"Error en predicción:\", error);\r\n        dispatch({ type: GET_SENTIMENT_PREDICTION_FAIL });\r\n    }\r\n};\r\n","import axios from 'axios';\r\nimport {\r\n    GET_WISHLIST_ITEMS_SUCCESS,\r\n    GET_WISHLIST_ITEMS_FAIL,\r\n    ADD_WISHLIST_ITEM_SUCCESS,\r\n    ADD_WISHLIST_ITEM_FAIL,\r\n    GET_WISHLIST_ITEM_TOTAL_SUCCESS,\r\n    GET_WISHLIST_ITEM_TOTAL_FAIL,\r\n    REMOVE_WISHLIST_ITEM_SUCCESS,\r\n    REMOVE_WISHLIST_ITEM_FAIL,\r\n    CLEAR_WISHLIST,\r\n} from './types';\r\n\r\nconst configWithToken = () => ({\r\n    headers: {\r\n        Authorization: `JWT ${localStorage.getItem('access')}`,\r\n        'Content-Type': 'application/json',\r\n        Accept: 'application/json',\r\n    },\r\n});\r\n\r\n// Obtener todos los ítems\r\nexport const get_wishlist_items = () => async dispatch => {\r\n    if (!localStorage.getItem('access')) return;\r\n\r\n    try {\r\n        const res = await axios.get(\r\n            `${process.env.REACT_APP_API_URL}/api/wishlist/wishlist-items`,\r\n            configWithToken()\r\n        );\r\n\r\n        dispatch({\r\n            type: GET_WISHLIST_ITEMS_SUCCESS,\r\n            payload: res.data,\r\n        });\r\n    } catch (err) {\r\n        dispatch({ type: GET_WISHLIST_ITEMS_FAIL });\r\n    }\r\n};\r\n\r\n// Agregar ítem\r\nexport const add_wishlist_item = product_id => async dispatch => {\r\n    if (!localStorage.getItem('access')) return;\r\n\r\n    const body = JSON.stringify({ product_id });\r\n\r\n    try {\r\n        const res = await axios.post(\r\n            `${process.env.REACT_APP_API_URL}/api/wishlist/add-item`,\r\n            body,\r\n            configWithToken()\r\n        );\r\n\r\n        dispatch({\r\n            type: ADD_WISHLIST_ITEM_SUCCESS,\r\n            payload: res.data,\r\n        });\r\n    } catch (err) {\r\n        dispatch({ type: ADD_WISHLIST_ITEM_FAIL });\r\n    }\r\n};\r\n\r\n// Obtener total\r\nexport const get_wishlist_item_total = () => async dispatch => {\r\n    if (!localStorage.getItem('access')) return;\r\n\r\n    try {\r\n        const res = await axios.get(\r\n            `${process.env.REACT_APP_API_URL}/api/wishlist/get-item-total`,\r\n            configWithToken()\r\n        );\r\n\r\n        dispatch({\r\n            type: GET_WISHLIST_ITEM_TOTAL_SUCCESS,\r\n            payload: res.data,\r\n        });\r\n    } catch (err) {\r\n        dispatch({ type: GET_WISHLIST_ITEM_TOTAL_FAIL });\r\n    }\r\n};\r\n\r\n// Remover ítem\r\nexport const remove_wishlist_item = (product_id) => async dispatch => {\r\n    if (!localStorage.getItem('access')) return;\r\n\r\n    const config = {\r\n        ...configWithToken(),\r\n        data: { product_id } \r\n    };\r\n\r\n    try {\r\n        await axios.delete(`${process.env.REACT_APP_API_URL}/api/wishlist/remove-item`, config);\r\n\r\n        dispatch({\r\n            type: REMOVE_WISHLIST_ITEM_SUCCESS,\r\n            payload: product_id  \r\n        });\r\n        console.log('🚀 Producto eliminado del wishlist:', product_id);\r\n    } catch (err) {\r\n        dispatch({ type: REMOVE_WISHLIST_ITEM_FAIL });\r\n    }\r\n};\r\n\r\nexport const clear_wishlist = () => dispatch => {\r\n    dispatch({ type: CLEAR_WISHLIST });\r\n};\r\n"],"names":["connect","state","isAuthenticated","Auth","user","_ref","product","isHovered","setIsHovered","useState","_jsxs","className","onMouseEnter","onMouseLeave","children","_jsx","Link","to","id","src","photo","alt","name","tags","map","tag","index","quantity","description","disabled","undefined","mayorista_tipo","price","price_mayorista_1","price_mayorista_2","price_mayorista_3","classNames","_len","arguments","length","classes","Array","_key","filter","Boolean","join","photos","short_description","_Fragment","Tab","Group","as","List","_ref2","selected","Panels","Panel","rating","Fragment","getStars","FontAwesomeIcon","icon","faStar","faStarHalfAlt","faStarEmpty","Products","wishlist","Wishlist","items","review","Reviews","brands","Brands","reviews","categories","Categories","products","filtered_products","sentiment_prediction","rl","sentiment_model_message","sentiment_probability","faltas_agresivas","suspendido","get_product","get_related_products","get_items","add_item","get_total","get_item_total","add_wishlist_item","get_wishlist_items","get_wishlist_item_total","remove_wishlist_item","get_reviews","product_id","async","config","headers","res","axios","get","status","dispatch","type","GET_REVIEWS_SUCCESS","payload","data","GET_REVIEWS_FAIL","err","get_review","localStorage","getItem","GET_REVIEW_SUCCESS","GET_REVIEW_FAIL","create_review","comment","body","JSON","stringify","post","CREATE_REVIEW_SUCCESS","CREATE_REVIEW_FAIL","update_review","put","UPDATE_REVIEW_SUCCESS","UPDATE_REVIEW_FAIL","delete_review","delete","DELETE_REVIEW_SUCCESS","tye","DELETE_REVIEW_FAIL","filter_reviews","myRating","FILTER_REVIEWS_SUCCESS","FILTER_REVIEWS_FAIL","get_brands","get_categories","get_products","get_filtered_products","setAlert","get_sentiment_prediction","train_sentiment_model","loading","setLoading","filtered","useNavigate","currentPage","setSelected","expandedReviews","setExpandedReviews","showSentimentAlert","setShowSentimentAlert","canSubmitReview","setCanSubmitReview","productId","useParams","useEffect","window","scrollTo","timer","setTimeout","toLowerCase","unblockTimer","clearTimeout","analyzeSentiment","trim","formData","setFormData","onChange","e","target","value","filterReviews","numStars","hoveredRow","setHoveredRow","filteredBrands","setFilteredBrands","selectedLetter","brand","startsWith","stockList","setStockList","then","catch","console","error","Layout","ImageGallery","extra_images","image","motion","div","initial","opacity","y","animate","transition","duration","sku","delay","dangerouslySetInnerHTML","__html","onClick","handleTrainModel","htmlFor","parseInt","num","sentiment","getSentimentColor","getEmoji","toFixed","onSubmit","preventDefault","rows","required","placeholder","deleteReview","fetchData","fill","viewBox","d","Stars","prev","toggleExpand","scale","ease","LockClosedIcon","showProducts","category","productsToDisplay","shuffledProducts","p","sort","Math","random","startIndex","slice","ProductCard","renderPagination","totalPages","ceil","startPage","max","floor","maxPagesToShow","endPage","min","check_authenticated","load_user","refresh","get_user_profile","props","Navbar","ToastContainer","autoClose","Footer","GET_BRANDS_SUCCESS","GET_BRANDS_FAIL","message","ADD_ITEM_SUCCESS","ADD_ITEM_FAIL","cart","parse","shouldAddItem","item","toString","order_item","count","push","ADD_ITEM","GET_ITEMS_SUCCESS","GET_ITEMS_FAIL","GET_ITEMS","GET_TOTAL_SUCCESS","GET_TOTAL_FAIL","total","compare_total","parseFloat","compare_price","GET_TOTAL","GET_ITEM_TOTAL_SUCCESS","GET_ITEM_TOTAL_FAIL","GET_ITEM_TOTAL","update_item","UPDATE_ITEM_FAIL","UPDATE_ITEM_SUCCESS","cart_item","UPDATE_ITEM","remove_item","REMOVE_ITEM_SUCCESS","REMOVE_ITEM_FAIL","new_cart","REMOVE_ITEM","GET_USER_PROFILE_SUCCESS","GET_USER_PROFILE_FAIL","update_user_profile","address_line_1","address_line_2","city","state_province_region","zipcode","phone","country_region","UPDATE_USER_PROFILE_SUCCESS","UPDATE_USER_PROFILE_FAIL","API_URL","Accept","TRAIN_SENTIMENT_MODEL_SUCCESS","TRAIN_SENTIMENT_MODEL_FAIL","GET_SENTIMENT_PREDICTION_SUCCESS","GET_SENTIMENT_PREDICTION_FAIL","configWithToken","Authorization","GET_WISHLIST_ITEMS_SUCCESS","GET_WISHLIST_ITEMS_FAIL","ADD_WISHLIST_ITEM_SUCCESS","ADD_WISHLIST_ITEM_FAIL","GET_WISHLIST_ITEM_TOTAL_SUCCESS","GET_WISHLIST_ITEM_TOTAL_FAIL","REMOVE_WISHLIST_ITEM_SUCCESS","log","REMOVE_WISHLIST_ITEM_FAIL"],"sourceRoot":""}