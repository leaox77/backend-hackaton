{"version":3,"file":"static/js/4.87b4fa71.chunk.js","mappings":"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","sources":["components/product/ProductCard.js","components/product/ImageGallery.js","components/product/WishlistHeart.js","components/product/Stars.js","containers/pages/products/productDetail.jsx","redux/actions/reviews.js","hocs/Layout.js","redux/actions/brands.js","redux/actions/cart.js","redux/actions/profile.js","redux/actions/rl.js","redux/actions/wishlist.js"],"sourcesContent":["import { Link } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport { useState } from \"react\";\r\n\r\nconst ProductCard = ({ product, isAuthenticated, user }) => {\r\n  const [isHovered, setIsHovered] = useState(false);\r\n\r\n  return (\r\n    <div\r\n      key={product.id}\r\n      className=\"group relative w-full mx-auto my-6 p-3 bg-white rounded-xl shadow-md hover:shadow-xl transition-all duration-500 transform hover:-translate-y-2 border border-gray-100\"\r\n      onMouseEnter={() => setIsHovered(true)}\r\n      onMouseLeave={() => setIsHovered(false)}\r\n    >\r\n   \r\n      <div className=\"relative w-full aspect-[4/3] bg-gradient-to-br from-gray-50 to-gray-200 rounded-lg overflow-hidden shadow-inner mb-4\">\r\n        <div className=\"absolute inset-0 bg-gray-900 opacity-0 group-hover:opacity-10 transition-opacity duration-300 z-0\"></div>\r\n\r\n        <Link to={`/product/${product.id}`} className=\"relative z-10\">\r\n          <img\r\n            src={product.photo}\r\n            alt={product.name}\r\n            className=\"w-full h-full object-center object-contain transition-all duration-500 transform group-hover:scale-110\"\r\n          />\r\n        </Link>\r\n      </div>\r\n\r\n \r\n      <div className=\"flex flex-wrap gap-1 mb-3\">\r\n        {product.tags &&\r\n          product.tags.map((tag, index) => (\r\n            <span\r\n              key={index}\r\n              className=\"px-2 py-1 text-xs rounded-full bg-blue-50 text-blue-600 font-medium\"\r\n            >\r\n              {tag}\r\n            </span>\r\n          ))}\r\n      </div>\r\n\r\n      {/* Nombre y descripción  */}\r\n      <div className=\"space-y-2\">\r\n        <h3 className=\"text-lg font-bold text-gray-800 group-hover:text-blue-600 transition-colors duration-300 truncate\">\r\n          <Link to={`/product/${product.id}`} className=\"relative z-10\">\r\n            <span aria-hidden=\"true\" className=\"absolute inset-0\" />\r\n            {product.name}\r\n          </Link>\r\n        </h3>\r\n\r\n        {isAuthenticated ? (\r\n          <span\r\n            className={`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${\r\n              product.quantity > 0\r\n                ? \"bg-green-100 text-green-800\"\r\n                : \"bg-red-100 text-red-800\"\r\n            }`}\r\n          >\r\n            {product.quantity > 0\r\n              ? `En stock (${product.quantity})`\r\n              : \"Agotado\"}\r\n          </span>\r\n        ) : (\r\n          <p className=\"text-sm text-gray-500 line-clamp-2 sm:line-clamp-3\">\r\n            {product.description ||\r\n              \"Producto de alta calidad para satisfacer tus necesidades.\"}\r\n          </p>\r\n        )}\r\n      </div>\r\n\r\n      <div className=\"my-3 h-px bg-gradient-to-r from-transparent via-gray-200 to-transparent transform transition-all duration-500 group-hover:scale-x-110 group-hover:via-blue-200\"></div>\r\n\r\n      <div\r\n        className={`absolute inset-x-0 bottom-0 px-5 pb-4 pt-2 bg-white transform transition-all duration-500 ${\r\n          isHovered ? \"translate-y-0 opacity-100\" : \"translate-y-8 opacity-0\"\r\n        }`}\r\n      >\r\n        <button\r\n          className={`w-full py-2 rounded-lg font-medium transition-all duration-300 ${\r\n            isAuthenticated\r\n              ? \"bg-midnight-blue hover:bg-purple-night text-white\"\r\n              : \"bg-gray-200 text-gray-400 cursor-not-allowed\"\r\n          }`}\r\n          disabled={!isAuthenticated}\r\n        >\r\n          {isAuthenticated ? (\r\n            <span className=\"text-sm font-semibold\">\r\n              {user && user.mayorista_tipo !== undefined ? (\r\n                user.mayorista_tipo === 0\r\n                  ? `${product?.price} Bs`\r\n                  : user.mayorista_tipo === 1\r\n                  ? `${product?.price_mayorista_1} Bs`\r\n                  : user.mayorista_tipo === 2\r\n                  ? `${product?.price_mayorista_2} Bs`\r\n                  : user.mayorista_tipo === 3\r\n                  ? `${product?.price_mayorista_3} Bs`\r\n                  : \"N/A\"\r\n              ) : (\r\n                \"Inicia sesión para ver precios\"\r\n              )}\r\n            </span>\r\n          ) : (\r\n            <span className=\"text-sm font-semibold flex items-center justify-center gap-2\">\r\n              Inicia sesión para ver precios\r\n            </span>\r\n          )}\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isAuthenticated: state.Auth.isAuthenticated,\r\n  user: state.Auth.user,\r\n});\r\n\r\nexport default connect(mapStateToProps)(ProductCard);\r\n","import { Tab } from '@headlessui/react'\r\n\r\nfunction classNames(...classes) {\r\n    return classes.filter(Boolean).join(' ')\r\n}\r\n\r\nconst ImageGallery = ({ photos, short_description }) => {\r\n    return (\r\n        <>\r\n            <Tab.Group as=\"div\" className=\"flex flex-col-reverse\">\r\n                <div className=\"mt-10 w-full max-w-2xl mx-auto lg:max-w-none\">\r\n                    <Tab.List className=\"grid grid-cols-4 gap-4 p-2 bg-gray-100 rounded-lg\">\r\n                        {photos.map((photo, index) => (\r\n                            <Tab key={index} className=\"relative h-16 bg-white rounded-md flex items-center justify-center text-sm font-medium uppercase text-gray-900 cursor-pointer transition duration-300 hover:scale-105 hover:shadow-lg focus:outline-none focus:ring focus:ring-offset-4 focus:ring-opacity-50\">\r\n                                {({ selected }) => (\r\n                                    <>\r\n                                        <span className=\"absolute inset-0 rounded-md overflow-hidden\">\r\n                                            <img src={photo} alt=\"\" className=\"w-full h-full object-center object-cover transition-transform duration-500 hover:scale-110\" />\r\n                                        </span>\r\n                                        <span\r\n                                            className={classNames(\r\n                                                selected ? 'ring-midnight-blue border-2 border-gray-300 shadow-md' : 'ring-transparent',\r\n                                                'absolute inset-0 rounded-md ring-2 ring-offset-2 pointer-events-none'\r\n                                            )}\r\n                                            aria-hidden=\"true\"\r\n                                        />\r\n                                    </>\r\n                                )}\r\n                            </Tab>\r\n                        ))}\r\n                    </Tab.List>\r\n\r\n                    <div className=\"mt-16 max-w-3xl mx-auto p-6 bg-white border border-gray-200 rounded-lg shadow-lg\">\r\n                        <p className=\"text-xl font-semibold text-gray-900 mb-4\">Características Principales:</p>\r\n                        <p className=\"text-gray-600 text-l\">\r\n                            {short_description}\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n\r\n                <Tab.Panels className=\"w-full max-w-md mx-auto aspect-w-1 aspect-h-1 mt-8\">\r\n                    {photos.map((photo, index) => (\r\n                        <Tab.Panel key={index}>\r\n                            <img\r\n                                src={photo}\r\n                                alt=\"\"\r\n                                className=\"border-2 p-2 w-[90%] h-auto mx-auto object-center object-cover sm:rounded-lg shadow-xl transition duration-500 hover:scale-105 hover:shadow-2xl\"\r\n                            />\r\n                        </Tab.Panel>\r\n                    ))}\r\n                </Tab.Panels>\r\n            </Tab.Group>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ImageGallery;\r\n","import { useState, useEffect } from \"react\";\r\nimport { AnimatePresence, motion } from \"framer-motion\";\r\n\r\nconst WishlistHeart = ({\r\n  addToWishlist,\r\n  removeFromWishlist,\r\n  product,\r\n  wishlist,\r\n  setAlert\r\n}) => {\r\n  const [isInWishlist, setIsInWishlist] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n  const [showToast, setShowToast] = useState(false);\r\n  const [toastMessage, setToastMessage] = useState(\"\");\r\n  const [toastColor, setToastColor] = useState(\"green\");\r\n\r\n  useEffect(() => {\r\n    if (wishlist && product) {\r\n      const found = wishlist.some(\r\n        (item) => item.product.id.toString() === product.id.toString()\r\n      );\r\n      setIsInWishlist(found);\r\n    }\r\n  }, [wishlist, product]);\r\n\r\n  const handleToggle = async () => {\r\n    if (loading) return;\r\n    setLoading(true);\r\n\r\n    try {\r\n      if (isInWishlist) {\r\n        await removeFromWishlist(product.id);\r\n        setIsInWishlist(false);\r\n        setToastMessage(\"Eliminado de favoritos 😭\");\r\n        setToastColor(\"red\");\r\n        setShowToast(true);\r\n        setTimeout(() => setShowToast(false), 3000);\r\n        setAlert && setAlert(\"Producto eliminado de favoritos\", \"warning\");\r\n      } else {\r\n        const success = await addToWishlist(product);\r\n        if (success) {\r\n          setIsInWishlist(true);\r\n          setToastMessage(\"Añadido a favoritos 😎\");\r\n          setToastColor(\"green\");\r\n          setShowToast(true);\r\n          setTimeout(() => setShowToast(false), 3000);\r\n          setAlert && setAlert(\"Producto añadido a favoritos\", \"success\");\r\n        } else {\r\n          setAlert && setAlert(\"Ya está en favoritos\", \"info\");\r\n        }\r\n      }\r\n    } catch (err) {\r\n      console.error(err);\r\n      setAlert && setAlert(\"Error al procesar favoritos\", \"danger\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"relative\">\r\n      <button\r\n        onClick={handleToggle}\r\n        disabled={loading}\r\n        className={`ml-4 py-2 px-3 rounded-md flex items-center justify-center transition-all duration-200\r\n          ${isInWishlist ? \"text-red-500 bg-red-100\" : \"text-gray-400 hover:text-gray-600 hover:bg-gray-100\"}`}\r\n        title={isInWishlist ? \"Eliminar de favoritos\" : \"Agregar a favoritos\"}\r\n      >\r\n        <svg\r\n          className=\"h-6 w-6 flex-shrink-0\"\r\n          xmlns=\"http://www.w3.org/2000/svg\"\r\n          fill={isInWishlist ? \"currentColor\" : \"none\"}\r\n          viewBox=\"0 0 24 24\"\r\n          stroke=\"currentColor\"\r\n        >\r\n          <path\r\n            strokeLinecap=\"round\"\r\n            strokeLinejoin=\"round\"\r\n            strokeWidth=\"2\"\r\n            d=\"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z\"\r\n          />\r\n        </svg>\r\n        <span className=\"sr-only\">\r\n          {isInWishlist ? \"Eliminar de favoritos\" : \"Agregar a favoritos\"}\r\n        </span>\r\n      </button>\r\n\r\n      <AnimatePresence>\r\n        {showToast && (\r\n          <motion.div\r\n            initial={{ opacity: 0, y: -15 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            exit={{ opacity: 0, y: -15 }}\r\n            transition={{ duration: 0.4 }}\r\n            className={`absolute -top-16 left-0 z-50 px-5 py-3 rounded-lg shadow-lg text-sm sm:text-base font-semibold whitespace-nowrap\r\n              ${toastColor === \"green\" ? \"bg-green-100 text-green-700\" : \"bg-red-100 text-red-700\"}`}\r\n          >\r\n            {toastMessage}\r\n          </motion.div>\r\n        )}\r\n      </AnimatePresence>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default WishlistHeart;\r\n","import React, { Fragment } from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faStar as faStarEmpty } from '@fortawesome/fontawesome-free-regular';\r\nimport { faStar, faStarHalfAlt } from '@fortawesome/free-solid-svg-icons';\r\nimport '../../style/rating_stars.css';\r\nconst Stars = ({ rating }) => {\r\n    const getStars = () => {\r\n        if (\r\n            rating &&\r\n            rating !== null &&\r\n            rating !== undefined\r\n        ) {\r\n            return (\r\n                <div>\r\n                    {\r\n                        rating >= 1 || rating >= 1.0 ? (\r\n                            <FontAwesomeIcon\r\n                                className='rating_stars'\r\n                                icon={faStar}\r\n                            />\r\n                        ) : (\r\n                            rating === 0.5 ? (\r\n                                <FontAwesomeIcon\r\n                                    className='rating_stars'\r\n                                    icon={faStarHalfAlt}\r\n                                />\r\n                            ) : (\r\n                                <FontAwesomeIcon\r\n                                    className='rating_stars'\r\n                                    icon={faStarEmpty}\r\n                                />\r\n                            )\r\n                        )\r\n                    }\r\n\r\n                    {\r\n                        rating >= 2 || rating >= 2.0 ? (\r\n                            <FontAwesomeIcon\r\n                                className='rating_stars'\r\n                                icon={faStar}\r\n                            />\r\n                        ) : (\r\n                            rating === 1.5 ? (\r\n                                <FontAwesomeIcon\r\n                                    className='rating_stars'\r\n                                    icon={faStarHalfAlt}\r\n                                />\r\n                            ) : (\r\n                                <FontAwesomeIcon\r\n                                    className='rating_stars'\r\n                                    icon={faStarEmpty}\r\n                                />\r\n                            )\r\n                        )\r\n                    }\r\n\r\n                    {\r\n                        rating >= 3 || rating >= 3.0 ? (\r\n                            <FontAwesomeIcon\r\n                                className='rating_stars'\r\n                                icon={faStar}\r\n                            />\r\n                        ) : (\r\n                            rating === 2.5 ? (\r\n                                <FontAwesomeIcon\r\n                                    className='rating_stars'\r\n                                    icon={faStarHalfAlt}\r\n                                />\r\n                            ) : (\r\n                                <FontAwesomeIcon\r\n                                    className='rating_stars'\r\n                                    icon={faStarEmpty}\r\n                                />\r\n                            )\r\n                        )\r\n                    }\r\n\r\n                    {\r\n                        rating >= 4 || rating >= 4.0 ? (\r\n                            <FontAwesomeIcon\r\n                                className='rating_stars'\r\n                                icon={faStar}\r\n                            />\r\n                        ) : (\r\n                            rating === 3.5 ? (\r\n                                <FontAwesomeIcon\r\n                                    className='rating_stars'\r\n                                    icon={faStarHalfAlt}\r\n                                />\r\n                            ) : (\r\n                                <FontAwesomeIcon\r\n                                    className='rating_stars'\r\n                                    icon={faStarEmpty}\r\n                                />\r\n                            )\r\n                        )\r\n                    }\r\n\r\n                    {\r\n                        rating >= 5 || rating >= 5.0 ? (\r\n                            <FontAwesomeIcon\r\n                                className='rating_stars'\r\n                                icon={faStar}\r\n                            />\r\n                        ) : (\r\n                            rating === 4.5 ? (\r\n                                <FontAwesomeIcon\r\n                                    className='rating_stars'\r\n                                    icon={faStarHalfAlt}\r\n                                />\r\n                            ) : (\r\n                                <FontAwesomeIcon\r\n                                    className='rating_stars'\r\n                                    icon={faStarEmpty}\r\n                                />\r\n                            )\r\n                        )\r\n                    }\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Fragment>\r\n            {getStars()}\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nexport default Stars","import Layout from \"../../../hocs/Layout\"\r\nimport { useEffect, useState } from \"react\";\r\nimport { useParams } from 'react-router';\r\nimport { Navigate } from \"react-router\";\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { motion } from 'framer-motion';\r\nimport axios from 'axios';\r\nimport { setAlert } from '../../../redux/actions/alert';\r\n\r\nimport { \r\n  CheckCircleIcon, \r\n  XCircleIcon, \r\n  ShoppingCartIcon, \r\n  LockClosedIcon, \r\n  DocumentTextIcon, \r\n  PlayIcon,\r\n  DownloadIcon,\r\n  EyeIcon,\r\n  ExclamationIcon,\r\n  LocationMarkerIcon \r\n} from \"@heroicons/react/solid\";\r\nimport { MapPinIcon, AlertTriangleIcon } from 'lucide-react';\r\n\r\nimport { get_brands } from \"../../../redux/actions/brands\";\r\nimport { add_wishlist_item, get_wishlist_items, get_wishlist_item_total , remove_wishlist_item } from '../../../redux/actions/wishlist';\r\nimport { get_product, get_related_products } from \"../../../redux/actions/products\";\r\nimport { get_reviews, get_review, create_review, update_review, delete_review, filter_reviews } from '../../../redux/actions/reviews';\r\nimport { get_items, add_item, get_total, get_item_total } from \"../../../redux/actions/cart\";\r\nimport { get_categories } from '../../../redux/actions/categories';\r\nimport { get_products, get_filtered_products } from '../../../redux/actions/products';\r\n\r\nimport {\r\n    get_sentiment_prediction,\r\n    train_sentiment_model,\r\n} from \"../../../redux/actions/rl\";\r\n\r\nimport ImageGallery from \"../../../components/product/ImageGallery\";\r\nimport WishlistHeart from \"../../../components/product/WishlistHeart\";\r\nimport ProductCard from '../../../components/product/ProductCard';\r\nimport Stars from '../../../components/product/Stars'\r\n\r\nconst extractYouTubeId = (url) => {\r\n  const regExp = /^.*(youtu.be\\/|v\\/|u\\/\\w\\/|embed\\/|watch\\?v=|&v=)([^#&?]*).*/;\r\n  const match = url.match(regExp);\r\n  return (match && match[2].length === 11) ? match[2] : null;\r\n};\r\n\r\nconst ProductDetail = ({\r\n    get_product,\r\n    get_related_products,\r\n    product,\r\n    get_items,\r\n    add_item,\r\n    get_total,\r\n    get_item_total,\r\n    add_wishlist_item, \r\n    get_wishlist_items, \r\n    get_wishlist_item_total,\r\n    isAuthenticated,\r\n    remove_wishlist_item,\r\n    wishlist,\r\n    get_reviews,\r\n    get_review,\r\n    create_review,\r\n    update_review,\r\n    delete_review,\r\n    filter_reviews,\r\n    review,\r\n    brands, \r\n    get_brands,\r\n    reviews,\r\n    get_categories,\r\n    get_products,\r\n    products,\r\n    filtered_products,\r\n    user,\r\n    sentiment_prediction,\r\n    sentiment_model_message,\r\n    sentiment_probability,\r\n    faltas_agresivas,\r\n    suspendido,\r\n    get_sentiment_prediction,\r\n    train_sentiment_model,\r\n}) => {\r\n  const [loading, setLoading] = useState(false);\r\n  const navigate = useNavigate();\r\n  const [filtered] = useState(false);\r\n  const [currentPage] = useState(1);\r\n  const productsPerPage = 5;\r\n  const [selected, setSelected] = useState(\"\");\r\n  const [expandedReviews, setExpandedReviews] = useState({});\r\n  const [showSentimentAlert, setShowSentimentAlert] = useState(false);\r\n  const [canSubmitReview, setCanSubmitReview] = useState(true);\r\n\r\n  const params = useParams()\r\n  const productId = params.productId\r\n\r\n  // Funciones existentes del código original...\r\n  const toggleExpand = (index) => {\r\n    setExpandedReviews((prev) => ({\r\n      ...prev,\r\n      [index]: !prev[index],\r\n    }));\r\n  };\r\n\r\n  const addToCart = async () => {\r\n    if (product && product !== null && product !== undefined && product.quantity > 0) {\r\n        setLoading(true)\r\n        await add_item(product);\r\n        await get_items();\r\n        await get_total();\r\n        await get_item_total();\r\n        setLoading(false)\r\n        navigate('/cart')\r\n    }\r\n  }\r\n\r\n  const handleChange = (e) => {\r\n    const value = parseInt(e.target.value, 10);\r\n    setSelected(value);\r\n    filterReviews(value);\r\n  };\r\n\r\n  useEffect(() => {\r\n    get_categories();\r\n    get_products();\r\n    window.scrollTo(0, 0);\r\n  }, [get_categories, get_products]);\r\n\r\n  useEffect(() => {\r\n    window.scrollTo(0,0)\r\n    get_product(productId)\r\n    get_related_products(productId)\r\n    get_wishlist_items()\r\n    get_wishlist_item_total()\r\n  }, [get_product, get_related_products, get_wishlist_items, get_wishlist_item_total, productId])\r\n\r\n  useEffect(() => {\r\n    get_reviews(productId);\r\n  }, [productId, get_reviews]);\r\n\r\n  useEffect(() => {\r\n    get_review(productId);\r\n  }, [productId, get_review]);\r\n\r\n  useEffect(() => {\r\n    if (sentiment_prediction !== null && sentiment_prediction !== undefined) {\r\n      setShowSentimentAlert(true);\r\n      const timer = setTimeout(() => setShowSentimentAlert(false), 5000);\r\n      \r\n      // Si el comentario es agresivo, bloquear envío temporalmente\r\n      if (sentiment_prediction.toLowerCase() === \"agresivo\") {\r\n        setCanSubmitReview(false);\r\n        // Después de mostrar la alerta, permitir envío nuevamente si no está suspendido\r\n        const unblockTimer = setTimeout(() => {\r\n          if (!suspendido) {\r\n            setCanSubmitReview(true);\r\n          }\r\n        }, 3000);\r\n        return () => {\r\n          clearTimeout(timer);\r\n          clearTimeout(unblockTimer);\r\n        };\r\n      }\r\n      \r\n      return () => clearTimeout(timer);\r\n    }\r\n  }, [sentiment_prediction, suspendido]);\r\n\r\n  // NUEVAS FUNCIONES PARA ANÁLISIS DE SENTIMIENTO\r\n  const getSentimentColor = (sentiment) => {\r\n    switch (sentiment?.toLowerCase()) {\r\n      case \"feliz\":\r\n        return \"bg-green-500\";\r\n      case \"preocupado\":\r\n        return \"bg-yellow-500\";\r\n      case \"neutral\":\r\n        return \"bg-blue-500\";\r\n      case \"desmotivado\":\r\n        return \"bg-red-500\";\r\n      case \"agresivo\":\r\n        return \"bg-pink-600\";\r\n      default:\r\n        return \"bg-gray-500\";\r\n    }\r\n  };\r\n\r\n  const getEmoji = (sentiment) => {\r\n    switch (sentiment?.toLowerCase()) {\r\n      case \"feliz\":\r\n        return \"😊\";\r\n      case \"preocupado\":\r\n        return \"😟\";\r\n      case \"neutral\":\r\n        return \"😐\";\r\n      case \"desmotivado\":\r\n        return \"😞\";\r\n      case \"agresivo\":\r\n        return \"😡\";\r\n      default:\r\n        return \"🤔\";\r\n    }\r\n  };\r\n\r\n  const analyzeSentiment = () => {\r\n    if (comment.trim() !== \"\") {\r\n      get_sentiment_prediction(comment);\r\n    }\r\n  };\r\n\r\n  const handleTrainModel = () => {\r\n    train_sentiment_model();\r\n  };\r\n\r\n  const [formData, setFormData] = useState({\r\n    comment:'',\r\n    rating:'',\r\n  })\r\n\r\n  const { comment, rating } = formData\r\n\r\n  const onChange = e => setFormData({ ...formData, [e.target.name]: e.target.value })\r\n  \r\n  // MODIFICACIÓN DE LA FUNCIÓN createReview PARA INCLUIR ANÁLISIS\r\n  const createReview = e => {\r\n    e.preventDefault()\r\n    \r\n    // Verificar si está suspendido\r\n    if (suspendido) {\r\n      setAlert(\"Tu cuenta está suspendida por comentarios agresivos. Contacta con soporte.\", \"error\");\r\n      return;\r\n    }\r\n\r\n    // Verificar si puede enviar (no bloqueado por comentario agresivo reciente)\r\n    if (!canSubmitReview) {\r\n      setAlert(\"Por favor espera un momento antes de enviar otro comentario.\", \"warning\");\r\n      return;\r\n    }\r\n\r\n    if (rating !== null && comment.trim() !== '') {\r\n      // Primero analizar el sentimiento\r\n      analyzeSentiment();\r\n      \r\n      // Esperar un momento para que se procese el análisis antes de enviar\r\n      setTimeout(() => {\r\n        if (sentiment_prediction?.toLowerCase() !== \"agresivo\" || !suspendido) {\r\n          create_review(productId, rating, comment);\r\n        }\r\n      }, 1000);\r\n    }\r\n  }\r\n\r\n  // MODIFICACIÓN DE LA FUNCIÓN updateReview PARA INCLUIR ANÁLISIS\r\n  const updateReview = e => {\r\n    e.preventDefault()\r\n    \r\n    if (suspendido) {\r\n      setAlert(\"Tu cuenta está suspendida por comentarios agresivos. Contacta con soporte.\", \"error\");\r\n      return;\r\n    }\r\n\r\n    if (!canSubmitReview) {\r\n      setAlert(\"Por favor espera un momento antes de enviar otro comentario.\", \"warning\");\r\n      return;\r\n    }\r\n\r\n    if (rating !== null && comment.trim() !== '') {\r\n      analyzeSentiment();\r\n      \r\n      setTimeout(() => {\r\n        if (sentiment_prediction?.toLowerCase() !== \"agresivo\" || !suspendido) {\r\n          update_review(productId, rating, comment);\r\n        }\r\n      }, 1000);\r\n    }\r\n  }\r\n\r\n  const deleteReview = () => {\r\n    const fetchData = async () => {\r\n        await delete_review(productId);\r\n        await get_review(productId);\r\n        setFormData({\r\n            comment: ''\r\n        });\r\n    };\r\n    fetchData();\r\n  }; \r\n\r\n  const filterReviews = numStars => {\r\n    filter_reviews(productId, numStars);\r\n  };\r\n  const [hoveredRow, setHoveredRow] = useState(null);\r\n\r\n  // Funciones existentes del wishlist, stock, etc... \r\n  // [COMPLETAR CON EL CÓDIGO ANTERIOR - addToWishlist, showProducts, renderPagination, etc.]\r\n\r\n  const addToWishlist = async () => {\r\n    if (isAuthenticated) {\r\n      let isPresent = false;\r\n        if(\r\n          wishlist &&\r\n          wishlist !== null &&\r\n          wishlist !== undefined &&\r\n          product &&\r\n          product !== null &&\r\n          product !== undefined\r\n          ){\r\n            isPresent = wishlist.some(item => item.product.id.toString() === product.id.toString())\r\n        }\r\n        \r\n        if (isPresent) {\r\n          await remove_wishlist_item(product.id);\r\n          await get_wishlist_items();\r\n          await get_wishlist_item_total();\r\n        } else {\r\n          await remove_wishlist_item(product.id);\r\n            await add_wishlist_item(product.id);\r\n            await get_wishlist_items();\r\n            await get_wishlist_item_total();\r\n            await get_items();\r\n            await get_total();\r\n            await get_item_total();\r\n        }\r\n          \r\n      } else {\r\n        return <Navigate to=\"/cart\"/>\r\n      }\r\n    };\r\n\r\n  const [filteredBrands, setFilteredBrands] = useState([]);\r\n  const [selectedLetter] = useState(\"ALL\");\r\n\r\n  useEffect(() => {\r\n    get_brands();\r\n  }, [get_brands]);\r\n\r\n  useEffect(() => {\r\n    if (selectedLetter === \"ALL\") {\r\n      setFilteredBrands(brands);\r\n    } else {\r\n      setFilteredBrands(brands.filter((brand) => brand.name.startsWith(selectedLetter)));\r\n    }\r\n  }, [brands, selectedLetter]);\r\n  \r\n  const showProducts = () => {\r\n    if (!product || !product.category) return null;\r\n    const productsToDisplay = filtered ? filtered_products : products;\r\n    const filteredByCategory = productsToDisplay?.filter(p =>\r\n        p.category === product.category\r\n    ) || [];\r\n\r\n    const shuffledProducts = [...filteredByCategory].sort(() => Math.random() - 0.5);\r\n    const startIndex = (currentPage - 1) * productsPerPage;\r\n    const currentProducts = shuffledProducts.slice(startIndex, startIndex + productsPerPage);\r\n\r\n    return currentProducts.map((product) => (\r\n        <ProductCard key={product.id} product={product} />\r\n    ));\r\n  };\r\n  \r\n  const renderPagination = () => {\r\n    const productsToDisplay = filtered ? filtered_products : products;\r\n    const totalPages = productsToDisplay ? Math.ceil(productsToDisplay.length / productsPerPage) : 0;\r\n    \r\n    if (totalPages <= 1) return null;\r\n    \r\n    const maxPagesToShow = 10;\r\n    let startPage = Math.max(1, currentPage - Math.floor(maxPagesToShow / 2));\r\n    let endPage = Math.min(totalPages, startPage + maxPagesToShow - 1);\r\n    \r\n    if (endPage - startPage + 1 < maxPagesToShow) {\r\n      startPage = Math.max(1, endPage - maxPagesToShow + 1);\r\n    }    \r\n  };\r\n  const [stockList, setStockList] = useState([]);\r\n\r\n  useEffect(() => {\r\n    axios.get('/api/branches/stock')\r\n      .then(res => {\r\n        setStockList(res.data);\r\n        setLoading(false);\r\n      })\r\n      .catch(err => {\r\n        console.error('Error al obtener stock:', err);\r\n        setLoading(false);\r\n      });\r\n  }, []);\r\n\r\n  if (loading) return <p>Cargando sucursales...</p>;\r\n\r\n  return(\r\n    <Layout>\r\n      <div className=\"bg-white\">\r\n        <div className=\"max-w-2xl mx-auto py-16 px-4 sm:py-24 sm:px-6 lg:max-w-7xl lg:px-8\">\r\n          {/* [COMPLETAR CON EL CÓDIGO ANTERIOR - Sección de imágenes y detalles del producto] */}\r\n          <div className=\"lg:grid lg:grid-cols-2 lg:gap-x-8 lg:items-start text-sm\">\r\n            <ImageGallery \r\n              photos={[\r\n                  product?.photo,  \r\n                  ...(product?.extra_images ? product.extra_images.map(image => image.image) : [])\r\n              ]}\r\n              short_description={product?.short_description || \"\"} \r\n            />\r\n        \r\n            <motion.div \r\n              initial={{ opacity: 0, y: 20 }} \r\n              animate={{ opacity: 1, y: 0 }} \r\n              transition={{ duration: 0.5 }}\r\n              className=\"relative mt-10 px-6 sm:px-8 sm:mt-16 lg:mt-0 bg-white shadow-xl rounded-3xl p-8 border border-gray-200 overflow-hidden\"\r\n            >\r\n              {/* [COMPLETAR CON EL CÓDIGO ANTERIOR - Contenido del producto] */}\r\n              <div className=\"absolute -top-10 -right-10 w-40 h-40 bg-purple-300 opacity-30 rounded-full blur-3xl\"></div>\r\n              <div className=\"absolute -bottom-10 -left-10 w-40 h-40 bg-blue-300 opacity-30 rounded-full blur-3xl\"></div>\r\n\r\n              <h1 className=\"text-xl font-bold text-gray-800 mb-2\">Producto: {product?.name}</h1>\r\n              <p className=\"text-lg text-gray-600\">SKU: <span className=\"font-medium\">{product?.sku}</span></p>\r\n              {/* [COMPLETAR CON EL RESTO DEL CONTENIDO DE PRODUCTO DEL CÓDIGO ANTERIOR] */}\r\n              \r\n              <div className=\"mt-6 border-t border-gray-300 pt-4\">\r\n                <h3 className=\"text-lg font-semibold text-gray-800 mb-4\">Descripción del producto: </h3>\r\n                <motion.div\r\n                  initial={{ opacity: 0 }}\r\n                  animate={{ opacity: 1 }}\r\n                  transition={{ delay: 0.2 }}\r\n                  className=\"text-gray-700 bg-gray-100 p-4 rounded-lg text-sm\"\r\n                  dangerouslySetInnerHTML={{ __html: `${product?.description || ''} ` }}\r\n                />\r\n              </div>\r\n\r\n              {/* Continuar con el resto del contenido del producto... */}\r\n              {/* [COMPLETAR CON LA TABLA DE DETALLES, PRECIOS, ETC. DEL CÓDIGO ANTERIOR] */}\r\n            <div className=\"mt-6 border-t border-gray-300 pt-4 flex justify-center\">\r\n                {isAuthenticated ? (\r\n                  <motion.div\r\n                    initial={{ scale: 0.8, opacity: 0 }}\r\n                    animate={{ scale: 1, opacity: 1 }}\r\n                    transition={{ type: \"spring\", stiffness: 150, delay: 0.2 }}\r\n                    className=\"bg-white shadow-lg rounded-lg overflow-hidden p-6\"\r\n                  >\r\n                    <h2 className=\"text-lg font-semibold text-gray-700 mb-4\">Detalles del Producto</h2>\r\n                    \r\n                    <table className=\"w-full border-collapse border border-gray-300\">\r\n                      <tbody>\r\n                        <tr className=\"border-b\">\r\n                          <td className=\"px-4 py-2 text-gray-600 font-normal bg-gray-100 text-sm\">Cantidad Disponible</td>\r\n                          <td className=\"px-4 py-2 text-sm\">{product?.quantity === 1 ? \"1 unidad\" : `${product?.quantity} unidades`}</td>\r\n                        </tr>\r\n                  \r\n                        <tr className=\"border-b\">\r\n                          <td className=\"px-4 py-2 text-sm text-gray-600 font-normal bg-gray-100\">Productos Vendidos</td>\r\n                          <td className=\"px-4 py-2 text-sm\">{product?.sold === 1 ? \"1 unidad\" : `${product?.sold} unidades`}</td>\r\n                        </tr>\r\n\r\n                        <tr className=\"border-b\">\r\n                          <td className=\"px-4 py-2 text-sm text-gray-600 font-normal bg-gray-100\">Precio por tu categoría</td>\r\n                          <td className=\"px-4 py-2 text-sm text-green-700 font-medium\">\r\n                            {user && user.mayorista_tipo !== undefined ? (\r\n                              user.mayorista_tipo === 0 ? `${product?.price} Bs` :\r\n                              user.mayorista_tipo === 1 ? `${product?.price_mayorista_1} Bs` :\r\n                              user.mayorista_tipo === 2 ? `${product?.price_mayorista_2} Bs` :\r\n                              user.mayorista_tipo === 3 ? `${product?.price_mayorista_3} Bs` :\r\n                              \"N/A\"\r\n                            ) : \"Inicia sesión para ver precios\"}\r\n                          </td>\r\n                        </tr>\r\n\r\n                        <tr>\r\n                          <td className=\"px-4 py-2 text-sm text-gray-600 font-normal bg-gray-100\">Marca</td>\r\n                          <td className=\"px-4 py-2 text-sm flex items-center gap-2\">\r\n                            {(() => {\r\n                              const brand = filteredBrands?.find((brand) => brand.id === product?.brand);\r\n                              if (!brand) return <span className=\"font-normal\">Desconocida</span>;\r\n\r\n                              return brand.logo ? (\r\n                                <>\r\n                                  <img \r\n                                    src={brand.logo} \r\n                                    alt={brand.name} \r\n                                    className=\"w-26 h-8 object-contain border\"\r\n                                  />\r\n                                </>\r\n                              ) : (\r\n                                <span className=\"font-medium\">{brand.name}</span>\r\n                              );\r\n                            })()}\r\n                          </td>\r\n                        </tr>\r\n                      </tbody>\r\n                    </table>\r\n                  </motion.div>\r\n                ) : (\r\n                  <motion.div\r\n                    initial={{ opacity: 0, scale: 0.8 }}\r\n                    animate={{ opacity: 1, scale: 1 }}\r\n                    transition={{ duration: 0.5, ease: \"easeInOut\" }}\r\n                    className=\"w-72 mx-auto text-white text-sm font-semibold px-4 py-2 bg-gray-700 shadow-lg rounded-md flex items-center justify-center gap-2\"\r\n                  >\r\n                    <LockClosedIcon className=\"w-5 h-5\" /> Inicia sesión para más detalles\r\n                  </motion.div>\r\n                )}\r\n              </div>\r\n\r\n              <div className=\"mt-6\">\r\n                <motion.p \r\n                  className=\"mt-4 flex items-center gap-2 text-lg font-medium\"\r\n                  initial={{ scale: 0.9 }}\r\n                  animate={{ scale: 1 }}\r\n                  transition={{ type: 'spring', stiffness: 200 }}\r\n                >\r\n                  {product?.quantity > 0 ? (\r\n                    <span className=\"text-green-600 flex items-center gap-2\">\r\n                      <CheckCircleIcon className=\"w-6 h-6 text-green-500 animate-bounce\" /> En Stock\r\n                    </span>\r\n                  ) : (\r\n                    <span className=\"text-red-600 flex items-center gap-2\">\r\n                      <XCircleIcon className=\"w-6 h-6 text-red-500 animate-pulse\" /> Agotado\r\n                    </span>\r\n                  )}\r\n                </motion.p>\r\n\r\n                <div className=\"mt-6 flex gap-4\">\r\n                  {loading ? (\r\n                    <button className=\"flex-1 bg-gray-500 rounded-lg py-3 px-8 text-white cursor-not-allowed\">\r\n                      Cargando...\r\n                    </button>\r\n                  ) : (\r\n                    <motion.button\r\n                      whileHover={{ scale: 1.05 }}\r\n                      whileTap={{ scale: 0.95 }}\r\n                      onClick={addToCart}\r\n                      className=\"w-max bg-midnight-blue hover:bg-purple-night transition-all rounded-lg py-3 px-8 text-white shadow-md flex items-center justify-center\"\r\n                    >\r\n                      <ShoppingCartIcon className=\"w-6 h-6 mr-2\" /> Agregar al Carrito\r\n                    </motion.button>\r\n                  )}\r\n                  <WishlistHeart\r\n                    product={product}\r\n                    wishlist={wishlist}\r\n                    setAlert={setAlert}\r\n                    addToWishlist={async (product) => {\r\n                      await add_wishlist_item(product.id);\r\n                      return true;\r\n                    }}\r\n                    removeFromWishlist={async (id) => {\r\n                      await remove_wishlist_item(id);\r\n                    }}\r\n                  />\r\n\r\n\r\n                </div>\r\n              </div>\r\n            </motion.div>\r\n          </div>\r\n\r\n          {/* [COMPLETAR CON SECCIONES DE RECURSOS Y STOCK DEL CÓDIGO ANTERIOR] */}\r\n          <div className=\"bg-white p-2 rounded-lg shadow-md mt-16\">\r\n                      <h3 className=\"text-2xl font-semibold text-gray-800 mb-4\">Recursos del Producto</h3>\r\n          \r\n                      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                        {/* recursos*/}\r\n                        <div className=\"space-y-6\">\r\n                          {product?.pdf || product?.video_url ? (\r\n                            <>\r\n                              {/* PDF Section */}\r\n                              {product?.pdf && (\r\n                                <div className=\"bg-blue-50 p-6 rounded-lg shadow-md transform transition hover:scale-105\">\r\n                                  <div className=\"flex items-center mb-4\">\r\n                                    <DocumentTextIcon className=\"w-10 h-10 text-blue-600 mr-3\" />\r\n                                    <h4 className=\"text-xl font-semibold text-blue-800\">Manual de usuario</h4>\r\n                                  </div>\r\n                                  <div className=\"flex space-x-4\">\r\n                                    <a\r\n                                      href={product.pdf}\r\n                                      download\r\n                                      className=\"flex-1 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition flex items-center justify-center\"\r\n                                    >\r\n                                      <DownloadIcon className=\"w-5 h-5 mr-2\" /> Descargar PDF\r\n                                    </a>\r\n                                    <a\r\n                                      href={product.pdf}\r\n                                      target=\"_blank\"\r\n                                      rel=\"noopener noreferrer\"\r\n                                      className=\"flex-1 bg-gray-600 text-white py-2 px-4 rounded-lg hover:bg-gray-700 transition flex items-center justify-center\"\r\n                                    >\r\n                                      <EyeIcon className=\"w-5 h-5 mr-2\" /> Visualizar\r\n                                    </a>\r\n                                  </div>\r\n                                </div>\r\n                              )}\r\n          \r\n                              {/* Video Section */}\r\n                              {product?.video_url && (\r\n                                <div className=\"bg-green-50 p-6 rounded-lg shadow-md transform transition hover:scale-105\">\r\n                                  <div className=\"flex items-center mb-4\">\r\n                                    <PlayIcon className=\"w-10 h-10 text-green-600 mr-3\" />\r\n                                    <h4 className=\"text-xl font-semibold text-green-800\">Video Explicativo</h4>\r\n                                  </div>\r\n                                  <div className=\"w-full aspect-video rounded-lg overflow-hidden shadow-lg\">\r\n                                    <iframe\r\n                                      src={`https://www.youtube.com/embed/${extractYouTubeId(product.video_url)}`}\r\n                                      title=\"Product Video\"\r\n                                      allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\r\n                                      allowFullScreen\r\n                                      className=\"w-full h-full\"\r\n                                    />\r\n                                  </div>\r\n                                </div>\r\n                              )}\r\n                            </>\r\n                          ) : (\r\n                            <div className=\"bg-gray-100 p-6 rounded-lg text-center\">\r\n                              <p className=\"text-gray-600 text-md font-medium\">\r\n                                🚧 Estamos trabajando en agregar recursos para este producto. ¡Vuelve pronto! 🚀\r\n                              </p>\r\n                            </div>\r\n                          )}\r\n                        </div>\r\n                        {isAuthenticated ? (\r\n                          <motion.div \r\n                            className=\"bg-white rounded-xl shadow-lg overflow-hidden border border-gray-200\"\r\n                            initial={{ opacity: 0, scale: 0.9 }}\r\n                            animate={{ opacity: 1, scale: 1 }}\r\n                            transition={{ duration: 0.5 }}\r\n                          >\r\n                            <div className=\"bg-gradient-to-r from-midnight-blue to-purple-night p-5 flex items-center space-x-4 text-white\">\r\n                              <LocationMarkerIcon className=\"w-8 h-8 animate-bounce text-red-500\" />\r\n                              <h2 className=\"text-l font-bold tracking-wide\">Stock por Sucursal</h2>\r\n                            </div>\r\n                            <div className=\"p-6\">\r\n                            <h1 className=\"text-l font-extrabold text-gray-800 mb-6 border-b-2 border-indigo-200 pb-3\">\r\n                              Producto: {product?.name}\r\n                            </h1>\r\n                              <div className=\"overflow-x-auto\">\r\n                                <table className=\"w-full text-left border-collapse\">\r\n                                <thead className=\"bg-indigo-50\">\r\n                                  <tr>\r\n                                    <th className=\"p-4 text-sm font-semibold text-indigo-800 uppercase\">Sucursal</th>\r\n                                    <th className=\"p-4 text-sm font-semibold text-indigo-800 uppercase text-center\">Cantidad</th>\r\n                                  </tr>\r\n                                </thead>\r\n                                  <tbody>\r\n                                    {stockList.filter(item => item.producto_nombre === product?.name).map((item, index) => (\r\n                                      <motion.tr \r\n                                        key={item.id} \r\n                                        className={`border-b transition-all ${item.cantidad === 0 ? 'bg-red-50' : hoveredRow === index ? 'bg-blue-50' : ''}`}\r\n                                        whileHover={{ scale: 1.02 }}\r\n                                        onMouseEnter={() => setHoveredRow(index)}\r\n                                        onMouseLeave={() => setHoveredRow(null)}\r\n                                      >\r\n                                        <td className=\"p-4 text-gray-700 font-medium text-sm\">{item.sucursal_nombre}</td>\r\n                                        <td className=\"p-4 text-center font-bold flex justify-center items-center gap-2 text-xs\">\r\n                                          {item.cantidad === 0 ? (\r\n                                            <XCircleIcon className=\"w-5 h-5 text-red-600\" />\r\n                                          ) : item.cantidad <= 5 ? (\r\n                                            <ExclamationIcon className=\"w-5 h-5 text-yellow-600\" />\r\n                                          ) : (\r\n                                            <CheckCircleIcon className=\"w-5 h-5 text-green-600\" />\r\n                                          )}\r\n                                          <span className={item.cantidad === 0 ? 'text-red-600' : item.cantidad <= 5 ? 'text-yellow-600' : 'text-green-600'}>\r\n                                            {item.cantidad}\r\n                                          </span>\r\n                                        </td>\r\n                                      </motion.tr>\r\n                                    ))}\r\n                                  </tbody>\r\n                                </table>\r\n                              </div>\r\n                            </div>\r\n                          </motion.div>\r\n                        ) : (\r\n                          <motion.div\r\n                              initial={{ opacity: 0, scale: 0.8 }}\r\n                              animate={{ opacity: 1, scale: 1 }}\r\n                              transition={{ duration: 0.5, ease: \"easeInOut\" }}\r\n                              className=\"w-72 h-1/6 mx-auto text-white text-sm font-semibold px-4 py-2 bg-gray-700 shadow-lg rounded-md flex items-center justify-center gap-2\"\r\n                            >\r\n                              <LockClosedIcon className=\"w-5 h-5\" /> Inicia sesión para más detalles\r\n                            </motion.div>\r\n                        )}\r\n          \r\n                      </div>\r\n                    </div>          \r\n          {/* SECCIÓN DE REVIEWS MODIFICADA CON ANÁLISIS DE SENTIMIENTO */}\r\n          <section className='my-10 max-w-7xl mx-auto p-6 bg-white rounded-lg shadow-md'>\r\n            <div className=\"flex items-center justify-between mb-6\">\r\n              <h2 className='text-2xl font-semibold text-gray-800 text-center'>Reseñas del Producto</h2>\r\n              \r\n              {/* BOTÓN PARA ENTRENAR MODELO DE SENTIMIENTO */}\r\n              {isAuthenticated && (\r\n                <button\r\n                  onClick={handleTrainModel}\r\n                  className=\"bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700 text-sm\"\r\n                >\r\n                  Entrenar Modelo IA\r\n                </button>\r\n              )}\r\n            </div>\r\n\r\n            {/* MENSAJE DE ENTRENAMIENTO DEL MODELO */}\r\n            {sentiment_model_message && (\r\n              <div className=\"mb-4 p-3 bg-green-100 text-green-700 rounded-md font-medium text-center\">\r\n                {sentiment_model_message}\r\n              </div>\r\n            )}\r\n\r\n            <div className=\"mt-6 border-t border-gray-300 pt-4 flex justify-center\">\r\n              {isAuthenticated ? (\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6 w-full\">\r\n                  \r\n                  {/* FORMULARIO DE RESEÑA CON ANÁLISIS DE SENTIMIENTO */}\r\n                  <div className=\"bg-gray-50 p-6 rounded-lg shadow-md w-full\">\r\n                    <div className=\"flex items-center space-x-2 mb-4\">\r\n                      <label htmlFor=\"starFilter\" className=\"text-gray-700\">Filtrar por estrellas:</label>\r\n                      <select \r\n                        id=\"starFilter\" \r\n                        className=\"border p-2 rounded cursor-pointer\" \r\n                        value={selected} \r\n                        onChange={handleChange}\r\n                      >\r\n                        <option value=\"\">Último</option>\r\n                        {[5, 4, 3, 2, 1].map((num) => (\r\n                          <option key={num} value={num}>{num} Estrellas</option>\r\n                        ))}\r\n                      </select>\r\n                    </div>\r\n\r\n                    <h3 className='text-lg font-semibold text-gray-800'>Añade tu Reseña</h3>\r\n                    \r\n                    {/* ALERTAS DE ANÁLISIS DE SENTIMIENTO */}\r\n                    {showSentimentAlert && sentiment_prediction && (\r\n                      <div\r\n                        className={`mt-4 p-4 rounded-md text-white font-semibold text-center ${getSentimentColor(\r\n                          sentiment_prediction\r\n                        )}`}\r\n                      >\r\n                        {getEmoji(sentiment_prediction)} El comentario fue clasificado como:{\" \"}\r\n                        <strong className=\"uppercase\">{sentiment_prediction}</strong>\r\n                        {sentiment_probability !== null && (\r\n                          <span className=\"block mt-1 text-sm text-white font-normal\">\r\n                            Probabilidad: {(sentiment_probability * 100).toFixed(2)}%\r\n                          </span>\r\n                        )}\r\n                      </div>\r\n                    )}\r\n\r\n                    {/* MENSAJE ESPECIAL PARA COMENTARIOS AGRESIVOS */}\r\n                    {showSentimentAlert && sentiment_prediction === \"Agresivo\" && (\r\n                      <div className=\"mt-4 p-3 rounded-md bg-red-100 text-red-800 text-center font-medium\">\r\n                        {suspendido ? (\r\n                          <div>\r\n                            🛑 Has alcanzado el límite de 3 comentarios agresivos. Tu cuenta ha sido suspendida.\r\n                            <br />\r\n                            <span className=\"text-sm\">Por favor, contacta con soporte técnico.</span>\r\n                          </div>\r\n                        ) : (\r\n                          <div>\r\n                            ⚠️ Comentario agresivo detectado. Advertencia {faltas_agresivas}/3.\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                    )}\r\n\r\n                    <form \r\n                      onSubmit={review && review.comment ? updateReview : createReview} \r\n                      className='mt-3 space-y-4 text-left'\r\n                    >\r\n                      <div className=\"relative\">\r\n                        <textarea\r\n                          rows={5}\r\n                          name=\"comment\"\r\n                          required\r\n                          value={comment}\r\n                          onChange={onChange}\r\n                          placeholder={review?.comment || \"Escribe tu opinión...\"}\r\n                          className=\"text-sm w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\"\r\n                          disabled={suspendido}\r\n                        />\r\n\r\n                      </div>\r\n                      \r\n                      <select\r\n                        name=\"rating\"\r\n                        required\r\n                        value={rating}\r\n                        onChange={onChange}\r\n                        className=\"w-full p-2 border border-gray-300 rounded-lg\"\r\n                        disabled={suspendido}\r\n                      >\r\n                        <option value=\"\">Selecciona una calificación</option>\r\n                        {[1, 2, 3, 4, 5].map((num) => (\r\n                          <option key={num} value={num}>\r\n                            {num} Estrella{num > 1 && 's'}\r\n                          </option>\r\n                        ))}\r\n                      </select>\r\n                      \r\n                      <button\r\n                        type=\"submit\"\r\n                        disabled={!rating || (!comment && review?.comment === comment) || !canSubmitReview || suspendido}\r\n                        className={`w-full py-2 rounded-lg transition ${\r\n                          rating && (comment || !review?.comment) && canSubmitReview && !suspendido\r\n                            ? \"bg-midnight-blue text-white hover:bg-purple-night\"\r\n                            : \"bg-gray-400 cursor-not-allowed\"\r\n                        }`}\r\n                      >\r\n                        {suspendido \r\n                          ? \"Cuenta Suspendida\" \r\n                          : !canSubmitReview \r\n                          ? \"Esperando análisis...\" \r\n                          : review && review.comment \r\n                          ? \"Actualizar Reseña\" \r\n                          : \"Añadir Reseña\"\r\n                        }\r\n                      </button>\r\n                    </form>\r\n\r\n                    {review && review.comment && isAuthenticated && !suspendido && (\r\n                      <button\r\n                        onClick={deleteReview}\r\n                        className=\"mt-2 w-full bg-crimson-red text-white py-2 rounded-lg hover:bg-red-700 transition\"\r\n                      >\r\n                        Eliminar Reseña\r\n                      </button>\r\n                    )}\r\n                  </div>\r\n\r\n                  {/* LISTA DE RESEÑAS */}\r\n                  <div className=\"space-y-4\">\r\n                    {reviews && reviews.length > 0 ? (\r\n                      <>\r\n                        {reviews.map((review, index) => (\r\n                          <div \r\n                            key={index} \r\n                            className=\"flex items-start bg-white p-3 rounded-lg shadow-sm border border-gray-200\"\r\n                          >\r\n                            <div className=\"mr-3 flex-shrink-0\">\r\n                              <span className=\"inline-block h-10 w-10 rounded-full overflow-hidden bg-gray-200\">\r\n                                <svg className=\"h-full w-full text-gray-400\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                  <path d=\"M24 20.993V24H0v-2.996A14.977 14.977 0 0112.004 15c4.904 0 9.26 2.354 11.996 5.993zM16.002 8.999a4 4 0 11-8 0 4 4 0 018 0z\" />\r\n                                </svg>\r\n                              </span>\r\n                            </div>\r\n                            <div className=\"flex-1\">\r\n                              <Stars rating={review.rating} />\r\n                              <h4 className=\"text-sm font-semibold text-gray-800\">{review.user}</h4>\r\n                              <p className={`text-gray-600 text-sm mt-1 ${!expandedReviews[index] ? 'line-clamp-2' : ''}`}>\r\n                                {review.comment}\r\n                              </p>\r\n                              {review.comment.length > 100 && (\r\n                                <button\r\n                                  onClick={() => toggleExpand(index)}\r\n                                  className=\"text-indigo-600 hover:underline text-sm mt-1\"\r\n                                >\r\n                                  {expandedReviews[index] ? 'Mostrar menos' : 'Mostrar más'}\r\n                                </button>\r\n                              )}\r\n                            </div>\r\n                          </div>\r\n                        ))}\r\n                      </>\r\n                    ) : (\r\n                      <div className=\"flex justify-center\">\r\n                        <p className=\"text-gray-500 text-sm\">Aún no hay reseñas para este producto.</p>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n\r\n                </div>\r\n              ) : (\r\n                <motion.div\r\n                  initial={{ opacity: 0, scale: 0.8 }}\r\n                  animate={{ opacity: 1, scale: 1 }}\r\n                  transition={{ duration: 0.5, ease: \"easeInOut\" }}\r\n                  className=\"w-72 mx-auto text-white text-sm font-semibold px-4 py-2 bg-gray-700 shadow-lg rounded-md flex items-center justify-center gap-2\"\r\n                >\r\n                  <LockClosedIcon className=\"w-5 h-5\" /> Inicia sesión para ver reseñas de los productos\r\n                </motion.div>\r\n              )}\r\n            </div>\r\n          </section>\r\n\r\n          <div className=\"flex items-baseline justify-between pt-12 pb-6 border-b border-gray-200\">\r\n            <h1 className=\"text-4xl font-extrabold tracking-tight text-gray-900\">Productos relacionados</h1>\r\n          </div>\r\n          <section aria-labelledby=\"products-heading\" className=\"pt-10 pb-6 px-6 sm:px-10 lg:px-4 md:px-4\">\r\n            <h2 id=\"products-heading\" className=\"sr-only\">Productos</h2>\r\n            <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-x-10 gap-y-12\">\r\n              <div className=\"lg:col-span-3\">\r\n                <div className=\"grid sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-6\">\r\n                  {showProducts()}\r\n                </div>\r\n                <div className=\"mt-10\">\r\n                  {renderPagination()}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </section>\r\n        </div>\r\n      </div>\r\n    </Layout>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    product: state.Products.product,\r\n    isAuthenticated: state.Auth.isAuthenticated,\r\n    wishlist: state.Wishlist.items,\r\n    review: state.Reviews.review,\r\n    brands: state.Brands.brands,\r\n    reviews: state.Reviews.reviews,\r\n    categories: state.Categories.categories,\r\n    products: state.Products.products,\r\n    filtered_products: state.Products.filtered_products,\r\n    user: state.Auth.user,\r\n    sentiment_prediction: state.rl.sentiment_prediction,\r\n    sentiment_model_message: state.rl.sentiment_model_message,\r\n    sentiment_probability: state.rl.sentiment_probability,\r\n    faltas_agresivas: state.rl.faltas_agresivas,\r\n    suspendido: state.rl.suspendido,\r\n})\r\n\r\nexport default connect(mapStateToProps, {\r\n    get_product,\r\n    get_related_products,\r\n    get_items,\r\n    add_item,\r\n    get_total,\r\n    get_item_total,\r\n    add_wishlist_item, \r\n    get_wishlist_items, \r\n    get_wishlist_item_total,\r\n    remove_wishlist_item,\r\n    get_reviews,\r\n    get_review,\r\n    create_review,\r\n    update_review,\r\n    delete_review,\r\n    filter_reviews,\r\n    get_brands,\r\n    get_categories,\r\n    get_products,\r\n    get_filtered_products,\r\n    setAlert,\r\n    get_sentiment_prediction,\r\n    train_sentiment_model,\r\n}) (ProductDetail)","import axios from 'axios';\r\nimport {\r\n    GET_REVIEWS_SUCCESS,\r\n    GET_REVIEWS_FAIL,\r\n    GET_REVIEW_SUCCESS,\r\n    GET_REVIEW_FAIL,\r\n    CREATE_REVIEW_SUCCESS,\r\n    CREATE_REVIEW_FAIL,\r\n    UPDATE_REVIEW_SUCCESS,\r\n    UPDATE_REVIEW_FAIL,\r\n    DELETE_REVIEW_SUCCESS,\r\n    DELETE_REVIEW_FAIL,\r\n    FILTER_REVIEWS_SUCCESS,\r\n    FILTER_REVIEWS_FAIL,\r\n} from './types';\r\n\r\n\r\nexport const get_reviews = product_id => async dispatch => {\r\n    const config = {\r\n        headers: {\r\n            'Accept': 'application/json',\r\n        }\r\n    };\r\n\r\n    try {\r\n        const res = await axios.get(\r\n            `${process.env.REACT_APP_API_URL}/api/reviews/get-reviews/${product_id}`, \r\n            config\r\n        );\r\n\r\n        if (res.status === 200) {\r\n            dispatch({\r\n                type: GET_REVIEWS_SUCCESS,\r\n                payload: res.data\r\n            });\r\n        } else {\r\n            dispatch({\r\n                type: GET_REVIEWS_FAIL\r\n            });\r\n        }\r\n    } catch(err) {\r\n        dispatch({\r\n            type: GET_REVIEWS_FAIL\r\n        });\r\n    }\r\n}\r\n\r\n\r\nexport const get_review = product_id => async dispatch => {\r\n    if (localStorage.getItem('access')) {\r\n        const config = {\r\n            headers: {\r\n                'Authorization': `JWT ${localStorage.getItem('access')}`,\r\n                'Accept': 'application/json',\r\n            }\r\n        };\r\n\r\n        try {\r\n            const res = await axios.get(\r\n                `${process.env.REACT_APP_API_URL}/api/reviews/get-review/${product_id}`, \r\n                config\r\n            );\r\n\r\n            if (res.status === 200) {\r\n                dispatch({\r\n                    type: GET_REVIEW_SUCCESS,\r\n                    payload: res.data\r\n                });\r\n            } else {\r\n                dispatch({\r\n                    type: GET_REVIEW_FAIL\r\n                });\r\n            }\r\n        } catch(err) {\r\n            dispatch({\r\n                type: GET_REVIEW_FAIL\r\n            });\r\n        }\r\n    }\r\n}\r\n\r\nexport const create_review = (product_id, rating, comment) => async dispatch => {\r\n    if (localStorage.getItem('access')) {\r\n        const config = {\r\n            headers: {\r\n                'Authorization': `JWT ${localStorage.getItem('access')}`,\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json',\r\n            }\r\n        };\r\n\r\n        const body = JSON.stringify({\r\n            rating,\r\n            comment\r\n        });\r\n\r\n        try {\r\n            const res = await axios.post(\r\n                `${process.env.REACT_APP_API_URL}/api/reviews/create-review/${product_id}`,\r\n                body,\r\n                config\r\n            );\r\n\r\n            if (res.status === 201) {\r\n                dispatch({\r\n                    type: CREATE_REVIEW_SUCCESS,\r\n                    payload: res.data\r\n                });\r\n            } else {\r\n                dispatch({\r\n                    type: CREATE_REVIEW_FAIL\r\n                });\r\n            }\r\n        } catch(err) {\r\n            dispatch({\r\n                type: CREATE_REVIEW_FAIL\r\n            });\r\n        }\r\n    }\r\n}\r\n\r\nexport const update_review = (product_id, rating, comment) => async dispatch => {\r\n    if (localStorage.getItem('access')) {\r\n        const config = {\r\n            headers: {\r\n                'Authorization': `JWT ${localStorage.getItem('access')}`,\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json',\r\n            }\r\n        };\r\n\r\n        const body = JSON.stringify({\r\n            rating,\r\n            comment\r\n        });\r\n\r\n        try {\r\n            const res = await axios.put(\r\n                `${process.env.REACT_APP_API_URL}/api/reviews/update-review/${product_id}`,\r\n                body,\r\n                config\r\n            );\r\n\r\n            if (res.status === 200) {\r\n                dispatch({\r\n                    type: UPDATE_REVIEW_SUCCESS,\r\n                    payload: res.data\r\n                });\r\n            } else {\r\n                dispatch({\r\n                    type: UPDATE_REVIEW_FAIL\r\n                });\r\n            }\r\n        } catch(err) {\r\n            dispatch({\r\n                type: UPDATE_REVIEW_FAIL\r\n            });\r\n        }\r\n    }\r\n}\r\n\r\nexport const delete_review = product_id => async dispatch => {\r\n    if (localStorage.getItem('access')) {\r\n        const config = {\r\n            headers: {\r\n                'Authorization': `JWT ${localStorage.getItem('access')}`,\r\n                'Accept': 'application/json',\r\n            },\r\n            data: {}\r\n        };\r\n\r\n        try {\r\n            const res = await axios.delete(\r\n                `${process.env.REACT_APP_API_URL}/api/reviews/delete-review/${product_id}`,\r\n                config\r\n            );\r\n\r\n            if (res.status === 200) {\r\n                dispatch({\r\n                    type: DELETE_REVIEW_SUCCESS,\r\n                    payload: res.data\r\n                });\r\n            } else {\r\n                dispatch({\r\n                    tye: DELETE_REVIEW_FAIL\r\n                });\r\n            }\r\n        } catch(err) {\r\n            dispatch({\r\n                tye: DELETE_REVIEW_FAIL\r\n            });\r\n        }\r\n    }\r\n}\r\n\r\nexport const filter_reviews = (product_id, rating) => async dispatch => {\r\n    const config = {\r\n        headers: {\r\n            'Accept': 'application/json',\r\n        }\r\n    };\r\n\r\n    let myRating;\r\n\r\n    if (rating === 0.5)\r\n        myRating = '0.5';\r\n    else if (rating === 1 || rating === 1.0)\r\n        myRating = '1.0';\r\n    else if (rating === 1.5)\r\n        myRating = '1.5';\r\n    else if (rating === 2 || rating === 2.0)\r\n        myRating = '2.0';\r\n    else if (rating === 2.5)\r\n        myRating = '2.5';\r\n    else if (rating === 3 || rating === 3.0)\r\n        myRating = '3.0';\r\n    else if (rating === 3.5)\r\n        myRating = '3.5';\r\n    else if (rating === 4 || rating === 4.0)\r\n        myRating = '4.0';\r\n    else if (rating === 4.5)\r\n        myRating = '4.5';\r\n    else\r\n        myRating = '5.0';\r\n\r\n        try {\r\n            const res = await axios.get(\r\n                `${process.env.REACT_APP_API_URL}/api/reviews/filter-reviews/${product_id}?rating=${myRating}`,\r\n                config\r\n            );\r\n    \r\n            if (res.status === 200) {\r\n                dispatch({\r\n                    type: FILTER_REVIEWS_SUCCESS,\r\n                    payload: res.data\r\n                });\r\n            } else {\r\n                dispatch({\r\n                    type: FILTER_REVIEWS_FAIL\r\n                });\r\n            }\r\n        } catch(err) {\r\n            dispatch({\r\n                type: FILTER_REVIEWS_FAIL\r\n            });\r\n        }\r\n}","import { ToastContainer } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport { check_authenticated, load_user, refresh } from '../redux/actions/auth';\r\nimport {\r\n    get_items,\r\n    get_total,\r\n    get_item_total\r\n} from \"../redux/actions/cart\";\r\n\r\nimport {\r\n    get_user_profile\r\n} from \"../redux/actions/profile\";\r\n\r\nimport { useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Navbar from '../components/navigation/Navbar';\r\nimport Footer from '../components/navigation/Footer';\r\n\r\nconst Layout = (props) => {\r\n\r\n    useEffect(() => {\r\n        props.refresh()\r\n        props.check_authenticated()\r\n        props.load_user()\r\n        props.get_items()\r\n        props.get_total()\r\n        props.get_item_total()\r\n        props.get_user_profile()\r\n    }, []);\r\n\r\n    return(\r\n        <div>\r\n            <Navbar/>\r\n            <ToastContainer autoClose={5000} />\r\n            {props.children}\r\n            <Footer/>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default connect(null, {\r\n    check_authenticated,\r\n    load_user,\r\n    refresh,\r\n    get_items,\r\n    get_total,\r\n    get_item_total,\r\n    get_user_profile\r\n}) (Layout)","import axios from 'axios';\r\nimport {\r\n    GET_BRANDS_SUCCESS,\r\n    GET_BRANDS_FAIL,\r\n} from './types';\r\n\r\nexport const get_brands = () => async dispatch => {\r\n    const config = {\r\n        headers: {\r\n            'Accept': 'application/json'\r\n        }\r\n    };\r\n\r\n    try {\r\n        const res = await axios.get(`${process.env.REACT_APP_API_URL}/api/brand/brands`, config);\r\n        \r\n        if (res.status >= 200 && res.status < 300) {\r\n            dispatch({\r\n                type: GET_BRANDS_SUCCESS,\r\n                payload: res.data // Asegúrate de que tu API devuelva un objeto con `brands`\r\n            });\r\n        } else {\r\n            console.error('Error: Unexpected response status', res.status);\r\n            dispatch({\r\n                type: GET_BRANDS_FAIL\r\n            });\r\n        }\r\n    } catch (err) {\r\n        console.error('Error fetching brands:', err.message);\r\n        dispatch({\r\n            type: GET_BRANDS_FAIL\r\n        });\r\n    }\r\n};\r\n","import axios from 'axios';\r\nimport {\r\n    ADD_ITEM,\r\n    GET_TOTAL,\r\n    GET_ITEM_TOTAL,\r\n    GET_ITEMS,\r\n    UPDATE_ITEM,\r\n    REMOVE_ITEM,\r\n    EMPTY_CART,\r\n    ADD_ITEM_SUCCESS,\r\n    ADD_ITEM_FAIL,\r\n    GET_TOTAL_SUCCESS,\r\n    GET_TOTAL_FAIL,\r\n    GET_ITEM_TOTAL_SUCCESS,\r\n    GET_ITEM_TOTAL_FAIL,\r\n    GET_ITEMS_SUCCESS,\r\n    GET_ITEMS_FAIL,\r\n    UPDATE_ITEM_SUCCESS,\r\n    UPDATE_ITEM_FAIL,\r\n    REMOVE_ITEM_SUCCESS,\r\n    REMOVE_ITEM_FAIL,\r\n    EMPTY_CART_SUCCESS,\r\n    EMPTY_CART_FAIL,\r\n    SYNCH_CART_SUCCESS,\r\n    SYNCH_CART_FAIL,\r\n} from './types';\r\n\r\n\r\nexport const add_item = product => async dispatch => {\r\n    if (localStorage.getItem('access')) {\r\n        const config = {\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Accept': 'application/json',\r\n                'Authorization': `JWT ${localStorage.getItem('access')}`,\r\n            }\r\n        };\r\n\r\n        const product_id = product.id;\r\n        const body = JSON.stringify({ product_id });\r\n\r\n        try {\r\n            const res = await axios.post(`${process.env.REACT_APP_API_URL}/api/cart/add-item`, body, config);\r\n\r\n            if (res.status === 201) {\r\n                dispatch({\r\n                    type: ADD_ITEM_SUCCESS,\r\n                    payload: res.data\r\n                });\r\n            } else {\r\n                dispatch({\r\n                    type: ADD_ITEM_FAIL\r\n                });\r\n            }\r\n        } catch(err){\r\n            dispatch({\r\n                type: ADD_ITEM_FAIL\r\n            });\r\n        }\r\n\r\n    } else {\r\n        let cart = [];\r\n\r\n        if (localStorage.getItem('cart')) {\r\n            cart = JSON.parse(localStorage.getItem('cart'));\r\n        }\r\n\r\n        let shouldAddItem = true;\r\n\r\n        cart.map(item => {\r\n            if (product.id.toString() === item.product.id.toString()) {\r\n                shouldAddItem = false;\r\n            }\r\n        });\r\n\r\n        const order_item = {\r\n            product: product,\r\n            count: 1\r\n        };\r\n\r\n        if (shouldAddItem) {\r\n            cart.push(order_item);\r\n        }\r\n\r\n        dispatch({\r\n            type: ADD_ITEM,\r\n            payload: cart\r\n        });\r\n    }\r\n}\r\n\r\n\r\nexport const get_items = () => async dispatch => {\r\n    if (localStorage.getItem('access')) {\r\n        const config = {\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Authorization': `JWT ${localStorage.getItem('access')}`,\r\n            }\r\n        };\r\n\r\n        try {\r\n            const res = await axios.get(`${process.env.REACT_APP_API_URL}/api/cart/cart-items`, config);\r\n\r\n            if (res.status === 200) {\r\n                dispatch({\r\n                    type: GET_ITEMS_SUCCESS,\r\n                    payload: res.data\r\n                });\r\n            } else {\r\n                dispatch({\r\n                    type: GET_ITEMS_FAIL\r\n                });\r\n            }\r\n        } catch(err) {\r\n            dispatch({\r\n                type: GET_ITEMS_FAIL\r\n            });\r\n        }\r\n    } else {\r\n        dispatch({\r\n            type: GET_ITEMS\r\n        });\r\n    }\r\n}\r\n\r\nexport const get_total = () => async dispatch => {\r\n    if (localStorage.getItem('access')) {\r\n        const config = {\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Authorization': `JWT ${localStorage.getItem('access')}`,\r\n            }\r\n        };\r\n\r\n        try {\r\n            const res = await axios.get(`${process.env.REACT_APP_API_URL}/api/cart/get-total`, config);\r\n\r\n            if (res.status === 200) {\r\n                dispatch({\r\n                    type: GET_TOTAL_SUCCESS,\r\n                    payload: res.data\r\n                });\r\n            } else {\r\n                dispatch({\r\n                    type: GET_TOTAL_FAIL\r\n                });\r\n            }\r\n        } catch(err) {\r\n            dispatch({\r\n                type: GET_TOTAL_FAIL\r\n            });\r\n        }\r\n    } else {\r\n        let total = 0.0;\r\n        let compare_total = 0.0;\r\n        let cart = [];\r\n\r\n        if (localStorage.getItem('cart')) {\r\n            cart = JSON.parse(localStorage.getItem('cart'));\r\n\r\n            cart.map(item => {\r\n                total += parseFloat(item.product.price) * parseFloat(item.count);\r\n                compare_total += parseFloat(item.product.compare_price) * parseFloat(item.count);\r\n            });\r\n        }\r\n\r\n        dispatch({\r\n            type: GET_TOTAL,\r\n            payload: [parseFloat(total.toFixed(2)), parseFloat(compare_total.toFixed(2))]\r\n        });\r\n    }\r\n}\r\n\r\n\r\nexport const get_item_total = () => async dispatch => {\r\n    if (localStorage.getItem('access')) {\r\n        const config = {\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Authorization': `JWT ${localStorage.getItem('access')}`,\r\n            }\r\n        };\r\n\r\n        try {\r\n            const res = await axios.get(`${process.env.REACT_APP_API_URL}/api/cart/get-item-total`, config);\r\n\r\n            if (res.status === 200) {\r\n                dispatch({\r\n                    type: GET_ITEM_TOTAL_SUCCESS,\r\n                    payload: res.data\r\n                });\r\n            } else {\r\n                dispatch({\r\n                    type: GET_ITEM_TOTAL_FAIL\r\n                });\r\n            }\r\n        } catch(err) {\r\n            dispatch({\r\n                type: GET_ITEM_TOTAL_FAIL\r\n            });\r\n        }\r\n    } else {\r\n        let total = 0;\r\n\r\n        if (localStorage.getItem('cart')) {\r\n            total = JSON.parse(localStorage.getItem('cart')).length;\r\n        }\r\n\r\n        dispatch({\r\n            type: GET_ITEM_TOTAL,\r\n            payload: total\r\n        });\r\n    }\r\n}\r\n\r\nexport const update_item = (item, count) => async dispatch => {\r\n    if (localStorage.getItem('access')) {\r\n        const config = {\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Accept': 'application/json',\r\n                'Authorization': `JWT ${localStorage.getItem('access')}`,\r\n            }\r\n        };\r\n\r\n        const product_id = item.product.id;\r\n        const body = JSON.stringify({ product_id, count });\r\n\r\n        try {\r\n            const res = await axios.put(`${process.env.REACT_APP_API_URL}/api/cart/update-item`, body, config);\r\n\r\n            if (res.status === 200 && !res.data.error) {\r\n                dispatch({\r\n                    type: UPDATE_ITEM_SUCCESS,\r\n                    payload: res.data\r\n                });\r\n            } else {\r\n                dispatch({\r\n                    type: UPDATE_ITEM_FAIL\r\n                });\r\n            }\r\n        } catch(err) {\r\n            dispatch({\r\n                type: UPDATE_ITEM_FAIL\r\n            });\r\n        }\r\n\r\n    } else {\r\n        let cart = [];\r\n\r\n        if (localStorage.getItem('cart')) {\r\n            cart = JSON.parse(localStorage.getItem('cart'));\r\n\r\n            cart.map((cart_item, index) => {\r\n                if (cart_item.product.id.toString() === item.product.id.toString()) {\r\n                    cart[index].count = parseInt(count);\r\n                }\r\n            });\r\n        }\r\n\r\n        dispatch({\r\n            type: UPDATE_ITEM,\r\n            payload: cart\r\n        });\r\n    }\r\n}\r\n\r\n\r\nexport const remove_item = item => async dispatch => {\r\n    if (localStorage.getItem('access')) {\r\n        const product_id = item.product.id;\r\n        const body = JSON.stringify({ product_id });\r\n\r\n\r\n        const config = {\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Accept': 'application/json',\r\n                'Authorization': `JWT ${localStorage.getItem('access')}`,\r\n            },\r\n            data: body\r\n        };\r\n\r\n        try {\r\n            const res = await axios.delete(`${process.env.REACT_APP_API_URL}/api/cart/remove-item`, config);\r\n\r\n            if (res.status === 200) {\r\n                dispatch({\r\n                    type: REMOVE_ITEM_SUCCESS,\r\n                    payload: res.data\r\n                });\r\n            } else {\r\n                dispatch({\r\n                    type: REMOVE_ITEM_FAIL\r\n                });\r\n            }\r\n        } catch(err) {\r\n            dispatch({\r\n                type: REMOVE_ITEM_FAIL\r\n            });\r\n        }\r\n    } else {\r\n        let cart = [];\r\n        let new_cart = [];\r\n\r\n        if (localStorage.getItem('cart')) {\r\n            cart = JSON.parse(localStorage.getItem('cart'));\r\n\r\n            cart.map(cart_item => {\r\n                if (cart_item.product.id.toString() !== item.product.id.toString()) {\r\n                    new_cart.push(cart_item);\r\n                }\r\n            });\r\n        }\r\n\r\n        dispatch({\r\n            type: REMOVE_ITEM,\r\n            payload: new_cart\r\n        });\r\n    }\r\n}\r\n\r\nexport const empty_cart = () => async dispatch => {\r\n    if (localStorage.getItem('access')) {\r\n        const config = {\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Authorization': `JWT ${localStorage.getItem('access')}`,\r\n            }\r\n        };\r\n\r\n        try {\r\n            const res = await axios.delete(`${process.env.REACT_APP_API_URL}/api/cart/empty-cart`, config);\r\n\r\n            if (res.status === 200) {\r\n                dispatch({\r\n                    type: EMPTY_CART_SUCCESS\r\n                });\r\n            } else {\r\n                dispatch({\r\n                    type: EMPTY_CART_FAIL\r\n                });\r\n            }\r\n        } catch(err) {\r\n            dispatch({\r\n                type: EMPTY_CART_FAIL\r\n            });\r\n        }\r\n    } else {\r\n        dispatch({\r\n            type: EMPTY_CART\r\n        });\r\n    }\r\n}\r\n\r\n\r\nexport const synch_cart = () => async dispatch => {\r\n    const config = {\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n            'Accept': 'application/json',\r\n            'Authorization': `JWT ${localStorage.getItem('access')}`,\r\n        }\r\n    };\r\n\r\n    let cart_items = [];\r\n\r\n    if (localStorage.getItem('cart')) {\r\n        let cart = JSON.parse(localStorage.getItem('cart'));\r\n\r\n        cart.map(cart_item => {\r\n            const item = {};\r\n            item.product_id = cart_item.product.id;\r\n            item.count = cart_item.count;\r\n            cart_items.push(item);\r\n        });\r\n    }\r\n\r\n    const body = JSON.stringify({ cart_items });\r\n\r\n    try {\r\n        const res = await axios.put(`${process.env.REACT_APP_API_URL}/api/cart/synch`, body, config);\r\n\r\n        if (res.status === 201) {\r\n            dispatch({\r\n                type: SYNCH_CART_SUCCESS\r\n            });\r\n        } else {\r\n            dispatch({\r\n                type: SYNCH_CART_FAIL\r\n            });\r\n        }\r\n    } catch(err) {\r\n        dispatch({\r\n            type: SYNCH_CART_FAIL\r\n        });\r\n    }\r\n}","import axios from 'axios';\r\nimport { setAlert } from './alert';\r\nimport {\r\n    GET_USER_PROFILE_SUCCESS,\r\n    GET_USER_PROFILE_FAIL,\r\n    UPDATE_USER_PROFILE_SUCCESS,\r\n    UPDATE_USER_PROFILE_FAIL\r\n} from './types';\r\n\r\nexport const get_user_profile = () => async dispatch => {\r\n    if (localStorage.getItem('access')) {\r\n        const config = {\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Authorization': `JWT ${localStorage.getItem('access')}`\r\n            }\r\n        };\r\n\r\n        try {\r\n            const res = await axios.get(`${process.env.REACT_APP_API_URL}/api/profile/user`, config);\r\n\r\n            if (res.status === 200) {\r\n                dispatch({\r\n                    type: GET_USER_PROFILE_SUCCESS,\r\n                    payload: res.data\r\n                });\r\n            } else {\r\n                dispatch({\r\n                    type: GET_USER_PROFILE_FAIL\r\n                });\r\n            }\r\n        } catch(err) {\r\n            dispatch({\r\n                type: GET_USER_PROFILE_FAIL\r\n            });\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport const update_user_profile = (\r\n    address_line_1,\r\n    address_line_2,\r\n    city,\r\n    state_province_region,\r\n    zipcode,\r\n    phone,\r\n    country_region\r\n) => async dispatch => {\r\n    if (localStorage.getItem('access')) {\r\n        const config = {\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `JWT ${localStorage.getItem('access')}`\r\n            }\r\n        };\r\n\r\n        const body = JSON.stringify({\r\n            address_line_1,\r\n            address_line_2,\r\n            city,\r\n            state_province_region,\r\n            zipcode,\r\n            phone,\r\n            country_region\r\n        });\r\n\r\n        try {\r\n            const res = await axios.put(`${process.env.REACT_APP_API_URL}/api/profile/update`, body, config);\r\n\r\n            if (res.status === 200) {\r\n                dispatch({\r\n                    type: UPDATE_USER_PROFILE_SUCCESS,\r\n                    payload: res.data\r\n                });\r\n                dispatch(setAlert('Profile updated successfully', 'green'));\r\n            } else {\r\n                dispatch({\r\n                    type: UPDATE_USER_PROFILE_FAIL\r\n                });\r\n                dispatch(setAlert('Failed to update profile', 'red'));\r\n            }\r\n        } catch(err) {\r\n            dispatch({\r\n                type: UPDATE_USER_PROFILE_FAIL\r\n            });\r\n            dispatch(setAlert('Failed to update profile', 'red'));\r\n        }\r\n    }\r\n}","import {\r\n    TRAIN_SENTIMENT_MODEL_SUCCESS,\r\n    TRAIN_SENTIMENT_MODEL_FAIL,\r\n    GET_SENTIMENT_PREDICTION_SUCCESS,\r\n    GET_SENTIMENT_PREDICTION_FAIL\r\n} from './types';\r\n\r\nimport axios from 'axios';\r\n\r\nconst API_URL = `${process.env.REACT_APP_API_URL}/api/ml/sentimiento`;\r\n\r\n// Entrenamiento del modelo\r\nexport const train_sentiment_model = () => async dispatch => {\r\n    try {\r\n        const res = await axios.get(`${API_URL}/train`, {\r\n            headers: { Accept: 'application/json' }\r\n        });\r\n\r\n        dispatch({\r\n            type: TRAIN_SENTIMENT_MODEL_SUCCESS,\r\n            payload: res.data.message\r\n        });\r\n    } catch (error) {\r\n        console.error(\"Error entrenando modelo:\", error);\r\n        dispatch({ type: TRAIN_SENTIMENT_MODEL_FAIL });\r\n    }\r\n};\r\n\r\n// Predicción de sentimiento/emoción\r\nexport const get_sentiment_prediction = (comment) => async dispatch => {\r\n    try {\r\n        const token = localStorage.getItem('access');\r\n        const config = {\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Accept': 'application/json',\r\n                'Authorization': `JWT ${token}`\r\n            }\r\n        };\r\n\r\n        const body = JSON.stringify({ comment });\r\n\r\n        const res = await axios.post(`${API_URL}/predict`, body, config);\r\n\r\n        dispatch({\r\n            type: GET_SENTIMENT_PREDICTION_SUCCESS,\r\n            payload: res.data  // incluye prediction y probability\r\n        });\r\n    } catch (error) {\r\n        console.error(\"Error en predicción:\", error);\r\n        dispatch({ type: GET_SENTIMENT_PREDICTION_FAIL });\r\n    }\r\n};\r\n","import axios from 'axios';\r\nimport {\r\n    GET_WISHLIST_ITEMS_SUCCESS,\r\n    GET_WISHLIST_ITEMS_FAIL,\r\n    ADD_WISHLIST_ITEM_SUCCESS,\r\n    ADD_WISHLIST_ITEM_FAIL,\r\n    GET_WISHLIST_ITEM_TOTAL_SUCCESS,\r\n    GET_WISHLIST_ITEM_TOTAL_FAIL,\r\n    REMOVE_WISHLIST_ITEM_SUCCESS,\r\n    REMOVE_WISHLIST_ITEM_FAIL,\r\n    CLEAR_WISHLIST,\r\n} from './types';\r\n\r\nconst configWithToken = () => ({\r\n    headers: {\r\n        Authorization: `JWT ${localStorage.getItem('access')}`,\r\n        'Content-Type': 'application/json',\r\n        Accept: 'application/json',\r\n    },\r\n});\r\n\r\n// Obtener todos los ítems\r\nexport const get_wishlist_items = () => async dispatch => {\r\n    if (!localStorage.getItem('access')) return;\r\n\r\n    try {\r\n        const res = await axios.get(\r\n            `${process.env.REACT_APP_API_URL}/api/wishlist/wishlist-items`,\r\n            configWithToken()\r\n        );\r\n\r\n        dispatch({\r\n            type: GET_WISHLIST_ITEMS_SUCCESS,\r\n            payload: res.data,\r\n        });\r\n    } catch (err) {\r\n        dispatch({ type: GET_WISHLIST_ITEMS_FAIL });\r\n    }\r\n};\r\n\r\n// Agregar ítem\r\nexport const add_wishlist_item = product_id => async dispatch => {\r\n    if (!localStorage.getItem('access')) return;\r\n\r\n    const body = JSON.stringify({ product_id });\r\n\r\n    try {\r\n        const res = await axios.post(\r\n            `${process.env.REACT_APP_API_URL}/api/wishlist/add-item`,\r\n            body,\r\n            configWithToken()\r\n        );\r\n\r\n        dispatch({\r\n            type: ADD_WISHLIST_ITEM_SUCCESS,\r\n            payload: res.data,\r\n        });\r\n    } catch (err) {\r\n        dispatch({ type: ADD_WISHLIST_ITEM_FAIL });\r\n    }\r\n};\r\n\r\n// Obtener total\r\nexport const get_wishlist_item_total = () => async dispatch => {\r\n    if (!localStorage.getItem('access')) return;\r\n\r\n    try {\r\n        const res = await axios.get(\r\n            `${process.env.REACT_APP_API_URL}/api/wishlist/get-item-total`,\r\n            configWithToken()\r\n        );\r\n\r\n        dispatch({\r\n            type: GET_WISHLIST_ITEM_TOTAL_SUCCESS,\r\n            payload: res.data,\r\n        });\r\n    } catch (err) {\r\n        dispatch({ type: GET_WISHLIST_ITEM_TOTAL_FAIL });\r\n    }\r\n};\r\n\r\n// Remover ítem\r\nexport const remove_wishlist_item = (product_id) => async dispatch => {\r\n    if (!localStorage.getItem('access')) return;\r\n\r\n    const config = {\r\n        ...configWithToken(),\r\n        data: { product_id } \r\n    };\r\n\r\n    try {\r\n        await axios.delete(`${process.env.REACT_APP_API_URL}/api/wishlist/remove-item`, config);\r\n\r\n        dispatch({\r\n            type: REMOVE_WISHLIST_ITEM_SUCCESS,\r\n            payload: product_id  \r\n        });\r\n        console.log('🚀 Producto eliminado del wishlist:', product_id);\r\n    } catch (err) {\r\n        dispatch({ type: REMOVE_WISHLIST_ITEM_FAIL });\r\n    }\r\n};\r\n\r\nexport const clear_wishlist = () => dispatch => {\r\n    dispatch({ type: CLEAR_WISHLIST });\r\n};\r\n"],"names":["connect","state","isAuthenticated","Auth","user","_ref","product","isHovered","setIsHovered","useState","_jsxs","className","onMouseEnter","onMouseLeave","children","_jsx","Link","to","id","src","photo","alt","name","tags","map","tag","index","quantity","description","disabled","undefined","mayorista_tipo","price","price_mayorista_1","price_mayorista_2","price_mayorista_3","classNames","_len","arguments","length","classes","Array","_key","filter","Boolean","join","photos","short_description","_Fragment","Tab","Group","as","List","_ref2","selected","Panels","Panel","addToWishlist","removeFromWishlist","wishlist","setAlert","isInWishlist","setIsInWishlist","loading","setLoading","showToast","setShowToast","toastMessage","setToastMessage","toastColor","setToastColor","useEffect","found","some","item","toString","onClick","async","setTimeout","err","console","error","title","xmlns","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","AnimatePresence","motion","div","initial","opacity","y","animate","exit","transition","duration","rating","Fragment","getStars","FontAwesomeIcon","icon","faStar","faStarHalfAlt","faStarEmpty","extractYouTubeId","url","match","Products","Wishlist","items","review","Reviews","brands","Brands","reviews","categories","Categories","products","filtered_products","sentiment_prediction","rl","sentiment_model_message","sentiment_probability","faltas_agresivas","suspendido","get_product","get_related_products","get_items","add_item","get_total","get_item_total","add_wishlist_item","get_wishlist_items","get_wishlist_item_total","remove_wishlist_item","get_reviews","product_id","config","headers","res","axios","get","status","dispatch","type","GET_REVIEWS_SUCCESS","payload","data","GET_REVIEWS_FAIL","get_review","localStorage","getItem","GET_REVIEW_SUCCESS","GET_REVIEW_FAIL","create_review","comment","body","JSON","stringify","post","CREATE_REVIEW_SUCCESS","CREATE_REVIEW_FAIL","update_review","put","UPDATE_REVIEW_SUCCESS","UPDATE_REVIEW_FAIL","delete_review","delete","DELETE_REVIEW_SUCCESS","tye","DELETE_REVIEW_FAIL","filter_reviews","myRating","FILTER_REVIEWS_SUCCESS","FILTER_REVIEWS_FAIL","get_brands","get_categories","get_products","get_filtered_products","get_sentiment_prediction","train_sentiment_model","navigate","useNavigate","filtered","currentPage","setSelected","expandedReviews","setExpandedReviews","showSentimentAlert","setShowSentimentAlert","canSubmitReview","setCanSubmitReview","productId","useParams","window","scrollTo","timer","toLowerCase","unblockTimer","clearTimeout","analyzeSentiment","trim","formData","setFormData","onChange","e","target","value","filterReviews","numStars","hoveredRow","setHoveredRow","filteredBrands","setFilteredBrands","selectedLetter","brand","startsWith","stockList","setStockList","then","catch","Layout","ImageGallery","extra_images","image","sku","delay","dangerouslySetInnerHTML","__html","scale","stiffness","sold","find","logo","ease","LockClosedIcon","p","CheckCircleIcon","XCircleIcon","button","whileHover","whileTap","ShoppingCartIcon","WishlistHeart","pdf","video_url","DocumentTextIcon","href","download","DownloadIcon","rel","EyeIcon","PlayIcon","allow","allowFullScreen","LocationMarkerIcon","producto_nombre","tr","cantidad","sucursal_nombre","ExclamationIcon","handleTrainModel","htmlFor","parseInt","num","sentiment","getSentimentColor","getEmoji","toFixed","onSubmit","preventDefault","rows","required","placeholder","deleteReview","fetchData","Stars","prev","toggleExpand","showProducts","category","productsToDisplay","shuffledProducts","sort","Math","random","startIndex","slice","ProductCard","renderPagination","totalPages","ceil","startPage","max","floor","maxPagesToShow","endPage","min","check_authenticated","load_user","refresh","get_user_profile","props","Navbar","ToastContainer","autoClose","Footer","GET_BRANDS_SUCCESS","GET_BRANDS_FAIL","message","ADD_ITEM_SUCCESS","ADD_ITEM_FAIL","cart","parse","shouldAddItem","order_item","count","push","ADD_ITEM","GET_ITEMS_SUCCESS","GET_ITEMS_FAIL","GET_ITEMS","GET_TOTAL_SUCCESS","GET_TOTAL_FAIL","total","compare_total","parseFloat","compare_price","GET_TOTAL","GET_ITEM_TOTAL_SUCCESS","GET_ITEM_TOTAL_FAIL","GET_ITEM_TOTAL","update_item","UPDATE_ITEM_FAIL","UPDATE_ITEM_SUCCESS","cart_item","UPDATE_ITEM","remove_item","REMOVE_ITEM_SUCCESS","REMOVE_ITEM_FAIL","new_cart","REMOVE_ITEM","GET_USER_PROFILE_SUCCESS","GET_USER_PROFILE_FAIL","update_user_profile","address_line_1","address_line_2","city","state_province_region","zipcode","phone","country_region","UPDATE_USER_PROFILE_SUCCESS","UPDATE_USER_PROFILE_FAIL","API_URL","Accept","TRAIN_SENTIMENT_MODEL_SUCCESS","TRAIN_SENTIMENT_MODEL_FAIL","GET_SENTIMENT_PREDICTION_SUCCESS","GET_SENTIMENT_PREDICTION_FAIL","configWithToken","Authorization","GET_WISHLIST_ITEMS_SUCCESS","GET_WISHLIST_ITEMS_FAIL","ADD_WISHLIST_ITEM_SUCCESS","ADD_WISHLIST_ITEM_FAIL","GET_WISHLIST_ITEM_TOTAL_SUCCESS","GET_WISHLIST_ITEM_TOTAL_FAIL","REMOVE_WISHLIST_ITEM_SUCCESS","log","REMOVE_WISHLIST_ITEM_FAIL"],"sourceRoot":""}