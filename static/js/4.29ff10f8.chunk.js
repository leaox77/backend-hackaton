"use strict";(self.webpackChunkecommerce=self.webpackChunkecommerce||[]).push([[4],{9804:(e,t,a)=>{a.d(t,{A:()=>l});var s=a(5475),r=a(3003),o=a(5043),i=a(579);const l=(0,r.Ng)((e=>({isAuthenticated:e.Auth.isAuthenticated,user:e.Auth.user})))((e=>{let{product:t,isAuthenticated:a,user:r}=e;const[l,c]=(0,o.useState)(!1);return(0,i.jsxs)("div",{className:"group relative w-full mx-auto my-6 p-3 bg-white rounded-xl shadow-md hover:shadow-xl transition-all duration-500 transform hover:-translate-y-2 border border-gray-100",onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),children:[(0,i.jsxs)("div",{className:"relative w-full aspect-[4/3] bg-gradient-to-br from-gray-50 to-gray-200 rounded-lg overflow-hidden shadow-inner mb-4",children:[(0,i.jsx)("div",{className:"absolute inset-0 bg-gray-900 opacity-0 group-hover:opacity-10 transition-opacity duration-300 z-0"}),(0,i.jsx)(s.N_,{to:`/product/${t.id}`,className:"relative z-10",children:(0,i.jsx)("img",{src:t.photo,alt:t.name,className:"w-full h-full object-center object-contain transition-all duration-500 transform group-hover:scale-110"})})]}),(0,i.jsx)("div",{className:"flex flex-wrap gap-1 mb-3",children:t.tags&&t.tags.map(((e,t)=>(0,i.jsx)("span",{className:"px-2 py-1 text-xs rounded-full bg-blue-50 text-blue-600 font-medium",children:e},t)))}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)("h3",{className:"text-lg font-bold text-gray-800 group-hover:text-blue-600 transition-colors duration-300 truncate",children:(0,i.jsxs)(s.N_,{to:`/product/${t.id}`,className:"relative z-10",children:[(0,i.jsx)("span",{"aria-hidden":"true",className:"absolute inset-0"}),t.name]})}),a?(0,i.jsx)("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium "+(t.quantity>0?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:t.quantity>0?`En stock (${t.quantity})`:"Agotado"}):(0,i.jsx)("p",{className:"text-sm text-gray-500 line-clamp-2 sm:line-clamp-3",children:t.description||"Producto de alta calidad para satisfacer tus necesidades."})]}),(0,i.jsx)("div",{className:"my-3 h-px bg-gradient-to-r from-transparent via-gray-200 to-transparent transform transition-all duration-500 group-hover:scale-x-110 group-hover:via-blue-200"}),(0,i.jsx)("div",{className:"absolute inset-x-0 bottom-0 px-5 pb-4 pt-2 bg-white transform transition-all duration-500 "+(l?"translate-y-0 opacity-100":"translate-y-8 opacity-0"),children:(0,i.jsx)("button",{className:"w-full py-2 rounded-lg font-medium transition-all duration-300 "+(a?"bg-midnight-blue hover:bg-purple-night text-white":"bg-gray-200 text-gray-400 cursor-not-allowed"),disabled:!a,children:a?(0,i.jsx)("span",{className:"text-sm font-semibold",children:r&&void 0!==r.mayorista_tipo?0===r.mayorista_tipo?`${null===t||void 0===t?void 0:t.price} Bs`:1===r.mayorista_tipo?`${null===t||void 0===t?void 0:t.price_mayorista_1} Bs`:2===r.mayorista_tipo?`${null===t||void 0===t?void 0:t.price_mayorista_2} Bs`:3===r.mayorista_tipo?`${null===t||void 0===t?void 0:t.price_mayorista_3} Bs`:"N/A":"Inicia sesi\xf3n para ver precios"}):(0,i.jsx)("span",{className:"text-sm font-semibold flex items-center justify-center gap-2",children:"Inicia sesi\xf3n para ver precios"})})})]},t.id)}))},4306:(e,t,a)=>{a.r(t),a.d(t,{default:()=>I});var s=a(342),r=a(5043),o=a(3216),i=a(3003),l=a(117),c=a(6213),n=a(3115),d=a(593),p=a(9703),m=a(3178),g=a(8509),u=a(4308);var h=a(1507),y=a(4585),x=a(2151),v=a(1755),f=a(579);function j(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter(Boolean).join(" ")}const b=e=>{let{photos:t,short_description:a}=e;return(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)(v.oz.Group,{as:"div",className:"flex flex-col-reverse",children:[(0,f.jsxs)("div",{className:"mt-10 w-full max-w-2xl mx-auto lg:max-w-none",children:[(0,f.jsx)(v.oz.List,{className:"grid grid-cols-4 gap-4 p-2 bg-gray-100 rounded-lg",children:t.map(((e,t)=>(0,f.jsx)(v.oz,{className:"relative h-16 bg-white rounded-md flex items-center justify-center text-sm font-medium uppercase text-gray-900 cursor-pointer transition duration-300 hover:scale-105 hover:shadow-lg focus:outline-none focus:ring focus:ring-offset-4 focus:ring-opacity-50",children:t=>{let{selected:a}=t;return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("span",{className:"absolute inset-0 rounded-md overflow-hidden",children:(0,f.jsx)("img",{src:e,alt:"",className:"w-full h-full object-center object-cover transition-transform duration-500 hover:scale-110"})}),(0,f.jsx)("span",{className:j(a?"ring-midnight-blue border-2 border-gray-300 shadow-md":"ring-transparent","absolute inset-0 rounded-md ring-2 ring-offset-2 pointer-events-none"),"aria-hidden":"true"})]})}},t)))}),(0,f.jsxs)("div",{className:"mt-16 max-w-3xl mx-auto p-6 bg-white border border-gray-200 rounded-lg shadow-lg",children:[(0,f.jsx)("p",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Caracter\xedsticas Principales:"}),(0,f.jsx)("p",{className:"text-gray-600 text-l",children:a})]})]}),(0,f.jsx)(v.oz.Panels,{className:"w-full max-w-md mx-auto aspect-w-1 aspect-h-1 mt-8",children:t.map(((e,t)=>(0,f.jsx)(v.oz.Panel,{children:(0,f.jsx)("img",{src:e,alt:"",className:"border-2 p-2 w-[90%] h-auto mx-auto object-center object-cover sm:rounded-lg shadow-xl transition duration-500 hover:scale-105 hover:shadow-2xl"})},t)))})]})})};var w=a(9804),_=a(3910),N=a(6399),A=a(7929);const S=e=>{let{rating:t}=e;return(0,f.jsx)(r.Fragment,{children:(()=>{if(t&&null!==t&&void 0!==t)return(0,f.jsxs)("div",{children:[t>=1||t>=1?(0,f.jsx)(_.g,{className:"rating_stars",icon:A.yy}):.5===t?(0,f.jsx)(_.g,{className:"rating_stars",icon:A.uAg}):(0,f.jsx)(_.g,{className:"rating_stars",icon:N.yy}),t>=2||t>=2?(0,f.jsx)(_.g,{className:"rating_stars",icon:A.yy}):1.5===t?(0,f.jsx)(_.g,{className:"rating_stars",icon:A.uAg}):(0,f.jsx)(_.g,{className:"rating_stars",icon:N.yy}),t>=3||t>=3?(0,f.jsx)(_.g,{className:"rating_stars",icon:A.yy}):2.5===t?(0,f.jsx)(_.g,{className:"rating_stars",icon:A.uAg}):(0,f.jsx)(_.g,{className:"rating_stars",icon:N.yy}),t>=4||t>=4?(0,f.jsx)(_.g,{className:"rating_stars",icon:A.yy}):3.5===t?(0,f.jsx)(_.g,{className:"rating_stars",icon:A.uAg}):(0,f.jsx)(_.g,{className:"rating_stars",icon:N.yy}),t>=5||t>=5?(0,f.jsx)(_.g,{className:"rating_stars",icon:A.yy}):4.5===t?(0,f.jsx)(_.g,{className:"rating_stars",icon:A.uAg}):(0,f.jsx)(_.g,{className:"rating_stars",icon:N.yy})]})})()})},I=(0,i.Ng)((e=>({product:e.Products.product,isAuthenticated:e.Auth.isAuthenticated,wishlist:e.Wishlist.items,review:e.Reviews.review,brands:e.Brands.brands,reviews:e.Reviews.reviews,categories:e.Categories.categories,products:e.Products.products,filtered_products:e.Products.filtered_products,user:e.Auth.user,sentiment_prediction:e.rl.sentiment_prediction,sentiment_model_message:e.rl.sentiment_model_message,sentiment_probability:e.rl.sentiment_probability,faltas_agresivas:e.rl.faltas_agresivas,suspendido:e.rl.suspendido})),{get_product:g.Ps,get_related_products:g.O4,get_items:h.Su,add_item:h.K$,get_total:h.OL,get_item_total:h.ES,add_wishlist_item:m.OY,get_wishlist_items:m.uO,get_wishlist_item_total:m.mN,remove_wishlist_item:m.dm,get_reviews:e=>async t=>{const a={headers:{Accept:"application/json"}};try{const s=await c.A.get(`http://localhost:8000/api/reviews/get-reviews/${e}`,a);200===s.status?t({type:u.J4,payload:s.data}):t({type:u.mr})}catch(s){t({type:u.mr})}},get_review:e=>async t=>{if(localStorage.getItem("access")){const s={headers:{Authorization:`JWT ${localStorage.getItem("access")}`,Accept:"application/json"}};try{const a=await c.A.get(`http://localhost:8000/api/reviews/get-review/${e}`,s);200===a.status?t({type:u.QF,payload:a.data}):t({type:u.jh})}catch(a){t({type:u.jh})}}},create_review:(e,t,a)=>async s=>{if(localStorage.getItem("access")){const o={headers:{Authorization:`JWT ${localStorage.getItem("access")}`,Accept:"application/json","Content-Type":"application/json"}},i=JSON.stringify({rating:t,comment:a});try{const t=await c.A.post(`http://localhost:8000/api/reviews/create-review/${e}`,i,o);201===t.status?s({type:u.Kz,payload:t.data}):s({type:u.XI})}catch(r){s({type:u.XI})}}},update_review:(e,t,a)=>async s=>{if(localStorage.getItem("access")){const o={headers:{Authorization:`JWT ${localStorage.getItem("access")}`,Accept:"application/json","Content-Type":"application/json"}},i=JSON.stringify({rating:t,comment:a});try{const t=await c.A.put(`http://localhost:8000/api/reviews/update-review/${e}`,i,o);200===t.status?s({type:u.Fg,payload:t.data}):s({type:u.u9})}catch(r){s({type:u.u9})}}},delete_review:e=>async t=>{if(localStorage.getItem("access")){const s={headers:{Authorization:`JWT ${localStorage.getItem("access")}`,Accept:"application/json"},data:{}};try{const a=await c.A.delete(`http://localhost:8000/api/reviews/delete-review/${e}`,s);200===a.status?t({type:u.vs,payload:a.data}):t({tye:u.ys})}catch(a){t({tye:u.ys})}}},filter_reviews:(e,t)=>async a=>{const s={headers:{Accept:"application/json"}};let r;r=.5===t?"0.5":1===t||1===t?"1.0":1.5===t?"1.5":2===t||2===t?"2.0":2.5===t?"2.5":3===t||3===t?"3.0":3.5===t?"3.5":4===t||4===t?"4.0":4.5===t?"4.5":"5.0";try{const t=await c.A.get(`http://localhost:8000/api/reviews/filter-reviews/${e}?rating=${r}`,s);200===t.status?a({type:u.Vg,payload:t.data}):a({type:u.KT})}catch(o){a({type:u.KT})}},get_brands:p.I,get_categories:y.S,get_products:g.sR,get_filtered_products:g.IT,setAlert:n.n,get_sentiment_prediction:x.B,train_sentiment_model:x.x})((e=>{let{get_product:t,get_related_products:a,product:i,get_items:p,add_item:m,get_total:g,get_item_total:u,add_wishlist_item:h,get_wishlist_items:y,get_wishlist_item_total:x,isAuthenticated:v,remove_wishlist_item:j,wishlist:_,get_reviews:N,get_review:A,create_review:I,update_review:T,delete_review:$,filter_reviews:C,review:J,brands:z,get_brands:E,reviews:O,get_categories:P,get_products:k,products:F,filtered_products:W,user:L,sentiment_prediction:M,sentiment_model_message:B,sentiment_probability:K,faltas_agresivas:R,suspendido:q,get_sentiment_prediction:D,train_sentiment_model:X}=e;const[Y,H]=(0,r.useState)(!1),[Q]=((0,o.Zp)(),(0,r.useState)(!1)),[V]=(0,r.useState)(1),[Z,U]=(0,r.useState)(""),[G,ee]=(0,r.useState)({}),[te,ae]=(0,r.useState)(!1),[se,re]=(0,r.useState)(!0),oe=(0,o.g)().productId;(0,r.useEffect)((()=>{P(),k(),window.scrollTo(0,0)}),[P,k]),(0,r.useEffect)((()=>{window.scrollTo(0,0),t(oe),a(oe),y(),x()}),[t,a,y,x,oe]),(0,r.useEffect)((()=>{N(oe)}),[oe,N]),(0,r.useEffect)((()=>{A(oe)}),[oe,A]),(0,r.useEffect)((()=>{if(null!==M&&void 0!==M){ae(!0);const e=setTimeout((()=>ae(!1)),5e3);if("agresivo"===M.toLowerCase()){re(!1);const t=setTimeout((()=>{q||re(!0)}),3e3);return()=>{clearTimeout(e),clearTimeout(t)}}return()=>clearTimeout(e)}}),[M,q]);const ie=()=>{""!==ne.trim()&&D(ne)},[le,ce]=(0,r.useState)({comment:"",rating:""}),{comment:ne,rating:de}=le,pe=e=>ce({...le,[e.target.name]:e.target.value}),me=e=>{C(oe,e)},[ge,ue]=(0,r.useState)(null),[he,ye]=(0,r.useState)([]),[xe]=(0,r.useState)("ALL");(0,r.useEffect)((()=>{E()}),[E]),(0,r.useEffect)((()=>{ye("ALL"===xe?z:z.filter((e=>e.name.startsWith(xe))))}),[z,xe]);const[ve,fe]=(0,r.useState)([]);return(0,r.useEffect)((()=>{c.A.get("/api/branches/stock").then((e=>{fe(e.data),H(!1)})).catch((e=>{console.error("Error al obtener stock:",e),H(!1)}))}),[]),Y?(0,f.jsx)("p",{children:"Cargando sucursales..."}):(0,f.jsx)(s.A,{children:(0,f.jsx)("div",{className:"bg-white",children:(0,f.jsxs)("div",{className:"max-w-2xl mx-auto py-16 px-4 sm:py-24 sm:px-6 lg:max-w-7xl lg:px-8",children:[(0,f.jsxs)("div",{className:"lg:grid lg:grid-cols-2 lg:gap-x-8 lg:items-start text-sm",children:[(0,f.jsx)(b,{photos:[null===i||void 0===i?void 0:i.photo,...null!==i&&void 0!==i&&i.extra_images?i.extra_images.map((e=>e.image)):[]],short_description:(null===i||void 0===i?void 0:i.short_description)||""}),(0,f.jsxs)(l.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"relative mt-10 px-6 sm:px-8 sm:mt-16 lg:mt-0 bg-white shadow-xl rounded-3xl p-8 border border-gray-200 overflow-hidden",children:[(0,f.jsx)("div",{className:"absolute -top-10 -right-10 w-40 h-40 bg-purple-300 opacity-30 rounded-full blur-3xl"}),(0,f.jsx)("div",{className:"absolute -bottom-10 -left-10 w-40 h-40 bg-blue-300 opacity-30 rounded-full blur-3xl"}),(0,f.jsxs)("h1",{className:"text-xl font-bold text-gray-800 mb-2",children:["Producto: ",null===i||void 0===i?void 0:i.name]}),(0,f.jsxs)("p",{className:"text-lg text-gray-600",children:["SKU: ",(0,f.jsx)("span",{className:"font-medium",children:null===i||void 0===i?void 0:i.sku})]}),(0,f.jsxs)("div",{className:"mt-6 border-t border-gray-300 pt-4",children:[(0,f.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Descripci\xf3n del producto: "}),(0,f.jsx)(l.P.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"text-gray-700 bg-gray-100 p-4 rounded-lg text-sm",dangerouslySetInnerHTML:{__html:`${(null===i||void 0===i?void 0:i.description)||""} `}})]})]})]}),(0,f.jsxs)("section",{className:"my-10 max-w-7xl mx-auto p-6 bg-white rounded-lg shadow-md",children:[(0,f.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,f.jsx)("h2",{className:"text-2xl font-semibold text-gray-800 text-center",children:"Rese\xf1as del Producto"}),v&&(0,f.jsx)("button",{onClick:()=>{X()},className:"bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700 text-sm",children:"Entrenar Modelo IA"})]}),B&&(0,f.jsx)("div",{className:"mb-4 p-3 bg-green-100 text-green-700 rounded-md font-medium text-center",children:B}),(0,f.jsx)("div",{className:"mt-6 border-t border-gray-300 pt-4 flex justify-center",children:v?(0,f.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 w-full",children:[(0,f.jsxs)("div",{className:"bg-gray-50 p-6 rounded-lg shadow-md w-full",children:[(0,f.jsxs)("div",{className:"flex items-center space-x-2 mb-4",children:[(0,f.jsx)("label",{htmlFor:"starFilter",className:"text-gray-700",children:"Filtrar por estrellas:"}),(0,f.jsxs)("select",{id:"starFilter",className:"border p-2 rounded cursor-pointer",value:Z,onChange:e=>{const t=parseInt(e.target.value,10);U(t),me(t)},children:[(0,f.jsx)("option",{value:"",children:"\xdaltimo"}),[5,4,3,2,1].map((e=>(0,f.jsxs)("option",{value:e,children:[e," Estrellas"]},e)))]})]}),(0,f.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"A\xf1ade tu Rese\xf1a"}),te&&M&&(0,f.jsxs)("div",{className:`mt-4 p-4 rounded-md text-white font-semibold text-center ${(e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"feliz":return"bg-green-500";case"preocupado":return"bg-yellow-500";case"neutral":return"bg-blue-500";case"desmotivado":return"bg-red-500";case"agresivo":return"bg-pink-600";default:return"bg-gray-500"}})(M)}`,children:[(e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"feliz":return"\ud83d\ude0a";case"preocupado":return"\ud83d\ude1f";case"neutral":return"\ud83d\ude10";case"desmotivado":return"\ud83d\ude1e";case"agresivo":return"\ud83d\ude21";default:return"\ud83e\udd14"}})(M)," El comentario fue clasificado como:"," ",(0,f.jsx)("strong",{className:"uppercase",children:M}),null!==K&&(0,f.jsxs)("span",{className:"block mt-1 text-sm text-white font-normal",children:["Probabilidad: ",(100*K).toFixed(2),"%"]})]}),te&&"Agresivo"===M&&(0,f.jsx)("div",{className:"mt-4 p-3 rounded-md bg-red-100 text-red-800 text-center font-medium",children:q?(0,f.jsxs)("div",{children:["\ud83d\uded1 Has alcanzado el l\xedmite de 3 comentarios agresivos. Tu cuenta ha sido suspendida.",(0,f.jsx)("br",{}),(0,f.jsx)("span",{className:"text-sm",children:"Por favor, contacta con soporte t\xe9cnico."})]}):(0,f.jsxs)("div",{children:["\u26a0\ufe0f Comentario agresivo detectado. Advertencia ",R,"/3."]})}),(0,f.jsxs)("form",{onSubmit:J&&J.comment?e=>{e.preventDefault(),q?(0,n.n)("Tu cuenta est\xe1 suspendida por comentarios agresivos. Contacta con soporte.","error"):se?null!==de&&""!==ne.trim()&&(ie(),setTimeout((()=>{"agresivo"===(null===M||void 0===M?void 0:M.toLowerCase())&&q||T(oe,de,ne)}),1e3)):(0,n.n)("Por favor espera un momento antes de enviar otro comentario.","warning")}:e=>{e.preventDefault(),q?(0,n.n)("Tu cuenta est\xe1 suspendida por comentarios agresivos. Contacta con soporte.","error"):se?null!==de&&""!==ne.trim()&&(ie(),setTimeout((()=>{"agresivo"===(null===M||void 0===M?void 0:M.toLowerCase())&&q||I(oe,de,ne)}),1e3)):(0,n.n)("Por favor espera un momento antes de enviar otro comentario.","warning")},className:"mt-3 space-y-4 text-left",children:[(0,f.jsxs)("div",{className:"relative",children:[(0,f.jsx)("textarea",{rows:5,name:"comment",required:!0,value:ne,onChange:pe,placeholder:(null===J||void 0===J?void 0:J.comment)||"Escribe tu opini\xf3n...",className:"text-sm w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",disabled:q}),""!==ne.trim()&&(0,f.jsx)("button",{type:"button",onClick:ie,className:"absolute top-2 right-2 bg-purple-500 text-white px-2 py-1 rounded text-xs hover:bg-purple-600",children:"Analizar IA"})]}),(0,f.jsxs)("select",{name:"rating",required:!0,value:de,onChange:pe,className:"w-full p-2 border border-gray-300 rounded-lg",disabled:q,children:[(0,f.jsx)("option",{value:"",children:"Selecciona una calificaci\xf3n"}),[1,2,3,4,5].map((e=>(0,f.jsxs)("option",{value:e,children:[e," Estrella",e>1&&"s"]},e)))]}),(0,f.jsx)("button",{type:"submit",disabled:!de||!ne&&(null===J||void 0===J?void 0:J.comment)===ne||!se||q,className:"w-full py-2 rounded-lg transition "+(!de||!ne&&null!==J&&void 0!==J&&J.comment||!se||q?"bg-gray-400 cursor-not-allowed":"bg-midnight-blue text-white hover:bg-purple-night"),children:q?"Cuenta Suspendida":se?J&&J.comment?"Actualizar Rese\xf1a":"A\xf1adir Rese\xf1a":"Esperando an\xe1lisis..."})]}),J&&J.comment&&v&&!q&&(0,f.jsx)("button",{onClick:()=>{(async()=>{await $(oe),await A(oe),ce({comment:""})})()},className:"mt-2 w-full bg-crimson-red text-white py-2 rounded-lg hover:bg-red-700 transition",children:"Eliminar Rese\xf1a"})]}),(0,f.jsx)("div",{className:"space-y-4",children:O&&O.length>0?(0,f.jsx)(f.Fragment,{children:O.map(((e,t)=>(0,f.jsxs)("div",{className:"flex items-start bg-white p-3 rounded-lg shadow-sm border border-gray-200",children:[(0,f.jsx)("div",{className:"mr-3 flex-shrink-0",children:(0,f.jsx)("span",{className:"inline-block h-10 w-10 rounded-full overflow-hidden bg-gray-200",children:(0,f.jsx)("svg",{className:"h-full w-full text-gray-400",fill:"currentColor",viewBox:"0 0 24 24",children:(0,f.jsx)("path",{d:"M24 20.993V24H0v-2.996A14.977 14.977 0 0112.004 15c4.904 0 9.26 2.354 11.996 5.993zM16.002 8.999a4 4 0 11-8 0 4 4 0 018 0z"})})})}),(0,f.jsxs)("div",{className:"flex-1",children:[(0,f.jsx)(S,{rating:e.rating}),(0,f.jsx)("h4",{className:"text-sm font-semibold text-gray-800",children:e.user}),(0,f.jsx)("p",{className:"text-gray-600 text-sm mt-1 "+(G[t]?"":"line-clamp-2"),children:e.comment}),e.comment.length>100&&(0,f.jsx)("button",{onClick:()=>(e=>{ee((t=>({...t,[e]:!t[e]})))})(t),className:"text-indigo-600 hover:underline text-sm mt-1",children:G[t]?"Mostrar menos":"Mostrar m\xe1s"})]})]},t)))}):(0,f.jsx)("div",{className:"flex justify-center",children:(0,f.jsx)("p",{className:"text-gray-500 text-sm",children:"A\xfan no hay rese\xf1as para este producto."})})})]}):(0,f.jsxs)(l.P.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5,ease:"easeInOut"},className:"w-72 mx-auto text-white text-sm font-semibold px-4 py-2 bg-gray-700 shadow-lg rounded-md flex items-center justify-center gap-2",children:[(0,f.jsx)(d.A,{className:"w-5 h-5"})," Inicia sesi\xf3n para ver rese\xf1as de los productos"]})})]}),(0,f.jsx)("div",{className:"flex items-baseline justify-between pt-12 pb-6 border-b border-gray-200",children:(0,f.jsx)("h1",{className:"text-4xl font-extrabold tracking-tight text-gray-900",children:"Productos relacionados"})}),(0,f.jsxs)("section",{"aria-labelledby":"products-heading",className:"pt-10 pb-6 px-6 sm:px-10 lg:px-4 md:px-4",children:[(0,f.jsx)("h2",{id:"products-heading",className:"sr-only",children:"Productos"}),(0,f.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-x-10 gap-y-12",children:(0,f.jsxs)("div",{className:"lg:col-span-3",children:[(0,f.jsx)("div",{className:"grid sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-6",children:(()=>{if(!i||!i.category)return null;const e=Q?W:F,t=[...(null===e||void 0===e?void 0:e.filter((e=>e.category===i.category)))||[]].sort((()=>Math.random()-.5)),a=5*(V-1);return t.slice(a,a+5).map((e=>(0,f.jsx)(w.A,{product:e},e.id)))})()}),(0,f.jsx)("div",{className:"mt-10",children:(()=>{const e=Q?W:F,t=e?Math.ceil(e.length/5):0;if(t<=1)return null;let a=Math.max(1,V-Math.floor(5)),s=Math.min(t,a+10-1);s-a+1<10&&(a=Math.max(1,s-10+1))})()})]})})]})]})})})}))},342:(e,t,a)=>{a.d(t,{A:()=>m});var s=a(3401),r=(a(2342),a(35)),o=a(1507),i=a(9784),l=a(5043),c=a(3003),n=a(4834),d=a(8017),p=a(579);const m=(0,c.Ng)(null,{check_authenticated:r.f_,load_user:r.Jc,refresh:r.Ow,get_items:o.Su,get_total:o.OL,get_item_total:o.ES,get_user_profile:i.h})((e=>((0,l.useEffect)((()=>{e.refresh(),e.check_authenticated(),e.load_user(),e.get_items(),e.get_total(),e.get_item_total(),e.get_user_profile()}),[]),(0,p.jsxs)("div",{children:[(0,p.jsx)(n.A,{}),(0,p.jsx)(s.N9,{autoClose:5e3}),e.children,(0,p.jsx)(d.A,{})]}))))},9703:(e,t,a)=>{a.d(t,{I:()=>o});var s=a(6213),r=a(4308);const o=()=>async e=>{const t={headers:{Accept:"application/json"}};try{const a=await s.A.get("http://localhost:8000/api/brand/brands",t);a.status>=200&&a.status<300?e({type:r.Oj,payload:a.data}):(console.error("Error: Unexpected response status",a.status),e({type:r.$_}))}catch(a){console.error("Error fetching brands:",a.message),e({type:r.$_})}}},1507:(e,t,a)=>{a.d(t,{ES:()=>c,K$:()=>o,OL:()=>l,Su:()=>i,eV:()=>n,j5:()=>d});var s=a(6213),r=a(4308);const o=e=>async t=>{if(localStorage.getItem("access")){const o={headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`JWT ${localStorage.getItem("access")}`}},i=e.id,l=JSON.stringify({product_id:i});try{const e=await s.A.post("http://localhost:8000/api/cart/add-item",l,o);201===e.status?t({type:r.CF,payload:e.data}):t({type:r.J1})}catch(a){t({type:r.J1})}}else{let a=[];localStorage.getItem("cart")&&(a=JSON.parse(localStorage.getItem("cart")));let s=!0;a.map((t=>{e.id.toString()===t.product.id.toString()&&(s=!1)}));const o={product:e,count:1};s&&a.push(o),t({type:r.SJ,payload:a})}},i=()=>async e=>{if(localStorage.getItem("access")){const a={headers:{Accept:"application/json",Authorization:`JWT ${localStorage.getItem("access")}`}};try{const t=await s.A.get("http://localhost:8000/api/cart/cart-items",a);200===t.status?e({type:r._W,payload:t.data}):e({type:r.BS})}catch(t){e({type:r.BS})}}else e({type:r.K})},l=()=>async e=>{if(localStorage.getItem("access")){const a={headers:{Accept:"application/json",Authorization:`JWT ${localStorage.getItem("access")}`}};try{const t=await s.A.get("http://localhost:8000/api/cart/get-total",a);200===t.status?e({type:r.oy,payload:t.data}):e({type:r.pp})}catch(t){e({type:r.pp})}}else{let t=0,a=0,s=[];localStorage.getItem("cart")&&(s=JSON.parse(localStorage.getItem("cart")),s.map((e=>{t+=parseFloat(e.product.price)*parseFloat(e.count),a+=parseFloat(e.product.compare_price)*parseFloat(e.count)}))),e({type:r.Kl,payload:[parseFloat(t.toFixed(2)),parseFloat(a.toFixed(2))]})}},c=()=>async e=>{if(localStorage.getItem("access")){const a={headers:{Accept:"application/json",Authorization:`JWT ${localStorage.getItem("access")}`}};try{const t=await s.A.get("http://localhost:8000/api/cart/get-item-total",a);200===t.status?e({type:r.O5,payload:t.data}):e({type:r.DY})}catch(t){e({type:r.DY})}}else{let t=0;localStorage.getItem("cart")&&(t=JSON.parse(localStorage.getItem("cart")).length),e({type:r.Ig,payload:t})}},n=(e,t)=>async a=>{if(localStorage.getItem("access")){const i={headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`JWT ${localStorage.getItem("access")}`}},l=e.product.id,c=JSON.stringify({product_id:l,count:t});try{const e=await s.A.put("http://localhost:8000/api/cart/update-item",c,i);200!==e.status||e.data.error?a({type:r.lP}):a({type:r.Qk,payload:e.data})}catch(o){a({type:r.lP})}}else{let s=[];localStorage.getItem("cart")&&(s=JSON.parse(localStorage.getItem("cart")),s.map(((a,r)=>{a.product.id.toString()===e.product.id.toString()&&(s[r].count=parseInt(t))}))),a({type:r.u3,payload:s})}},d=e=>async t=>{if(localStorage.getItem("access")){const o=e.product.id,i=JSON.stringify({product_id:o}),l={headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`JWT ${localStorage.getItem("access")}`},data:i};try{const e=await s.A.delete("http://localhost:8000/api/cart/remove-item",l);200===e.status?t({type:r.J0,payload:e.data}):t({type:r.uP})}catch(a){t({type:r.uP})}}else{let a=[],s=[];localStorage.getItem("cart")&&(a=JSON.parse(localStorage.getItem("cart")),a.map((t=>{t.product.id.toString()!==e.product.id.toString()&&s.push(t)}))),t({type:r.Zk,payload:s})}}},9784:(e,t,a)=>{a.d(t,{Y:()=>l,h:()=>i});var s=a(6213),r=a(3115),o=a(4308);const i=()=>async e=>{if(localStorage.getItem("access")){const a={headers:{Accept:"application/json",Authorization:`JWT ${localStorage.getItem("access")}`}};try{const t=await s.A.get("http://localhost:8000/api/profile/user",a);200===t.status?e({type:o.xC,payload:t.data}):e({type:o.kA})}catch(t){e({type:o.kA})}}},l=(e,t,a,i,l,c,n)=>async d=>{if(localStorage.getItem("access")){const m={headers:{Accept:"application/json","Content-Type":"application/json",Authorization:`JWT ${localStorage.getItem("access")}`}},g=JSON.stringify({address_line_1:e,address_line_2:t,city:a,state_province_region:i,zipcode:l,phone:c,country_region:n});try{const e=await s.A.put("http://localhost:8000/api/profile/update",g,m);200===e.status?(d({type:o.Mf,payload:e.data}),d((0,r.n)("Profile updated successfully","green"))):(d({type:o.TX}),d((0,r.n)("Failed to update profile","red")))}catch(p){d({type:o.TX}),d((0,r.n)("Failed to update profile","red"))}}}},2151:(e,t,a)=>{a.d(t,{B:()=>l,x:()=>i});var s=a(4308),r=a(6213);const o="http://localhost:8000/api/ml/sentimiento",i=()=>async e=>{try{const t=await r.A.get(`${o}/train`,{headers:{Accept:"application/json"}});e({type:s.fL,payload:t.data.message})}catch(t){console.error("Error entrenando modelo:",t),e({type:s.g6})}},l=e=>async t=>{try{const a={headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`JWT ${localStorage.getItem("access")}`}},i=JSON.stringify({comment:e}),l=await r.A.post(`${o}/predict`,i,a);t({type:s.pv,payload:l.data})}catch(a){console.error("Error en predicci\xf3n:",a),t({type:s.u_})}}},3178:(e,t,a)=>{a.d(t,{OY:()=>l,dm:()=>n,mN:()=>c,uO:()=>i});var s=a(6213),r=a(4308);const o=()=>({headers:{Authorization:`JWT ${localStorage.getItem("access")}`,"Content-Type":"application/json",Accept:"application/json"}}),i=()=>async e=>{if(localStorage.getItem("access"))try{const t=await s.A.get("http://localhost:8000/api/wishlist/wishlist-items",o());e({type:r.Q$,payload:t.data})}catch(t){e({type:r.ti})}},l=e=>async t=>{if(!localStorage.getItem("access"))return;const a=JSON.stringify({product_id:e});try{const e=await s.A.post("http://localhost:8000/api/wishlist/add-item",a,o());t({type:r.eW,payload:e.data})}catch(i){t({type:r.Xd})}},c=()=>async e=>{if(localStorage.getItem("access"))try{const t=await s.A.get("http://localhost:8000/api/wishlist/get-item-total",o());e({type:r.qT,payload:t.data})}catch(t){e({type:r.hZ})}},n=e=>async t=>{if(!localStorage.getItem("access"))return;const a={...o(),data:{product_id:e}};try{await s.A.delete("http://localhost:8000/api/wishlist/remove-item",a),t({type:r.$F,payload:e}),console.log("\ud83d\ude80 Producto eliminado del wishlist:",e)}catch(i){t({type:r.in})}}}}]);
//# sourceMappingURL=4.29ff10f8.chunk.js.map