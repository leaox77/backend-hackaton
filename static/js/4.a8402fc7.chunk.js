"use strict";(self.webpackChunkecommerce=self.webpackChunkecommerce||[]).push([[4],{9804:(e,t,a)=>{a.d(t,{A:()=>l});var s=a(5475),r=a(3003),i=a(5043),o=a(579);const l=(0,r.Ng)((e=>({isAuthenticated:e.Auth.isAuthenticated,user:e.Auth.user})))((e=>{let{product:t,isAuthenticated:a,user:r}=e;const[l,c]=(0,i.useState)(!1);return(0,o.jsxs)("div",{className:"group relative w-full mx-auto my-6 p-3 bg-white rounded-xl shadow-md hover:shadow-xl transition-all duration-500 transform hover:-translate-y-2 border border-gray-100",onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),children:[(0,o.jsxs)("div",{className:"relative w-full aspect-[4/3] bg-gradient-to-br from-gray-50 to-gray-200 rounded-lg overflow-hidden shadow-inner mb-4",children:[(0,o.jsx)("div",{className:"absolute inset-0 bg-gray-900 opacity-0 group-hover:opacity-10 transition-opacity duration-300 z-0"}),(0,o.jsx)(s.N_,{to:`/product/${t.id}`,className:"relative z-10",children:(0,o.jsx)("img",{src:t.photo,alt:t.name,className:"w-full h-full object-center object-contain transition-all duration-500 transform group-hover:scale-110"})})]}),(0,o.jsx)("div",{className:"flex flex-wrap gap-1 mb-3",children:t.tags&&t.tags.map(((e,t)=>(0,o.jsx)("span",{className:"px-2 py-1 text-xs rounded-full bg-blue-50 text-blue-600 font-medium",children:e},t)))}),(0,o.jsxs)("div",{className:"space-y-2",children:[(0,o.jsx)("h3",{className:"text-lg font-bold text-gray-800 group-hover:text-blue-600 transition-colors duration-300 truncate",children:(0,o.jsxs)(s.N_,{to:`/product/${t.id}`,className:"relative z-10",children:[(0,o.jsx)("span",{"aria-hidden":"true",className:"absolute inset-0"}),t.name]})}),a?(0,o.jsx)("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium "+(t.quantity>0?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:t.quantity>0?`En stock (${t.quantity})`:"Agotado"}):(0,o.jsx)("p",{className:"text-sm text-gray-500 line-clamp-2 sm:line-clamp-3",children:t.description||"Producto de alta calidad para satisfacer tus necesidades."})]}),(0,o.jsx)("div",{className:"my-3 h-px bg-gradient-to-r from-transparent via-gray-200 to-transparent transform transition-all duration-500 group-hover:scale-x-110 group-hover:via-blue-200"}),(0,o.jsx)("div",{className:"absolute inset-x-0 bottom-0 px-5 pb-4 pt-2 bg-white transform transition-all duration-500 "+(l?"translate-y-0 opacity-100":"translate-y-8 opacity-0"),children:(0,o.jsx)("button",{className:"w-full py-2 rounded-lg font-medium transition-all duration-300 "+(a?"bg-midnight-blue hover:bg-purple-night text-white":"bg-gray-200 text-gray-400 cursor-not-allowed"),disabled:!a,children:a?(0,o.jsx)("span",{className:"text-sm font-semibold",children:r&&void 0!==r.mayorista_tipo?0===r.mayorista_tipo?`${null===t||void 0===t?void 0:t.price} Bs`:1===r.mayorista_tipo?`${null===t||void 0===t?void 0:t.price_mayorista_1} Bs`:2===r.mayorista_tipo?`${null===t||void 0===t?void 0:t.price_mayorista_2} Bs`:3===r.mayorista_tipo?`${null===t||void 0===t?void 0:t.price_mayorista_3} Bs`:"N/A":"Inicia sesi\xf3n para ver precios"}):(0,o.jsx)("span",{className:"text-sm font-semibold flex items-center justify-center gap-2",children:"Inicia sesi\xf3n para ver precios"})})})]},t.id)}))},4306:(e,t,a)=>{a.r(t),a.d(t,{default:()=>W});var s=a(342),r=a(5043),i=a(3216),o=a(3003),l=a(117),c=a(6213),n=a(3115),d=a(593),p=a(6914),m=a(7538),g=a(8872),u=a(8040),h=a(9518),x=a(1139),y=a(8176),v=a(7299),f=a(6135),j=a(9703),b=a(3178),w=a(8509),N=a(4308);var _=a(1507),A=a(4585),S=a(1755),I=a(579);function $(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter(Boolean).join(" ")}const P=e=>{let{photos:t,short_description:a}=e;return(0,I.jsx)(I.Fragment,{children:(0,I.jsxs)(S.oz.Group,{as:"div",className:"flex flex-col-reverse",children:[(0,I.jsxs)("div",{className:"mt-10 w-full max-w-2xl mx-auto lg:max-w-none",children:[(0,I.jsx)(S.oz.List,{className:"grid grid-cols-4 gap-4 p-2 bg-gray-100 rounded-lg",children:t.map(((e,t)=>(0,I.jsx)(S.oz,{className:"relative h-16 bg-white rounded-md flex items-center justify-center text-sm font-medium uppercase text-gray-900 cursor-pointer transition duration-300 hover:scale-105 hover:shadow-lg focus:outline-none focus:ring focus:ring-offset-4 focus:ring-opacity-50",children:t=>{let{selected:a}=t;return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("span",{className:"absolute inset-0 rounded-md overflow-hidden",children:(0,I.jsx)("img",{src:e,alt:"",className:"w-full h-full object-center object-cover transition-transform duration-500 hover:scale-110"})}),(0,I.jsx)("span",{className:$(a?"ring-midnight-blue border-2 border-gray-300 shadow-md":"ring-transparent","absolute inset-0 rounded-md ring-2 ring-offset-2 pointer-events-none"),"aria-hidden":"true"})]})}},t)))}),(0,I.jsxs)("div",{className:"mt-16 max-w-3xl mx-auto p-6 bg-white border border-gray-200 rounded-lg shadow-lg",children:[(0,I.jsx)("p",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Caracter\xedsticas Principales:"}),(0,I.jsx)("p",{className:"text-gray-600 text-l",children:a})]})]}),(0,I.jsx)(S.oz.Panels,{className:"w-full max-w-md mx-auto aspect-w-1 aspect-h-1 mt-8",children:t.map(((e,t)=>(0,I.jsx)(S.oz.Panel,{children:(0,I.jsx)("img",{src:e,alt:"",className:"border-2 p-2 w-[90%] h-auto mx-auto object-center object-cover sm:rounded-lg shadow-xl transition duration-500 hover:scale-105 hover:shadow-2xl"})},t)))})]})})};var T=a(3546);const J=e=>{let{addToWishlist:t,removeFromWishlist:a,product:s,wishlist:i,setAlert:o}=e;const[c,n]=(0,r.useState)(!1),[d,p]=(0,r.useState)(!1),[m,g]=(0,r.useState)(!1),[u,h]=(0,r.useState)(""),[x,y]=(0,r.useState)("green");(0,r.useEffect)((()=>{if(i&&s){const e=i.some((e=>e.product.id.toString()===s.id.toString()));n(e)}}),[i,s]);return(0,I.jsxs)("div",{className:"relative",children:[(0,I.jsxs)("button",{onClick:async()=>{if(!d){p(!0);try{if(c)await a(s.id),n(!1),h("Eliminado de favoritos \ud83d\ude2d"),y("red"),g(!0),setTimeout((()=>g(!1)),3e3),o&&o("Producto eliminado de favoritos","warning");else{await t(s)?(n(!0),h("A\xf1adido a favoritos \ud83d\ude0e"),y("green"),g(!0),setTimeout((()=>g(!1)),3e3),o&&o("Producto a\xf1adido a favoritos","success")):o&&o("Ya est\xe1 en favoritos","info")}}catch(e){console.error(e),o&&o("Error al procesar favoritos","danger")}finally{p(!1)}}},disabled:d,className:"ml-4 py-2 px-3 rounded-md flex items-center justify-center transition-all duration-200\n          "+(c?"text-red-500 bg-red-100":"text-gray-400 hover:text-gray-600 hover:bg-gray-100"),title:c?"Eliminar de favoritos":"Agregar a favoritos",children:[(0,I.jsx)("svg",{className:"h-6 w-6 flex-shrink-0",xmlns:"http://www.w3.org/2000/svg",fill:c?"currentColor":"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,I.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),(0,I.jsx)("span",{className:"sr-only",children:c?"Eliminar de favoritos":"Agregar a favoritos"})]}),(0,I.jsx)(T.N,{children:m&&(0,I.jsx)(l.P.div,{initial:{opacity:0,y:-15},animate:{opacity:1,y:0},exit:{opacity:0,y:-15},transition:{duration:.4},className:"absolute -top-16 left-0 z-50 px-5 py-3 rounded-lg shadow-lg text-sm sm:text-base font-semibold whitespace-nowrap\n              "+("green"===x?"bg-green-100 text-green-700":"bg-red-100 text-red-700"),children:u})})]})};var k=a(9804),z=a(3910),C=a(6399),E=a(7929);const F=e=>{let{rating:t}=e;return(0,I.jsx)(r.Fragment,{children:(()=>{if(t&&null!==t&&void 0!==t)return(0,I.jsxs)("div",{children:[t>=1||t>=1?(0,I.jsx)(z.g,{className:"rating_stars",icon:E.yy}):.5===t?(0,I.jsx)(z.g,{className:"rating_stars",icon:E.uAg}):(0,I.jsx)(z.g,{className:"rating_stars",icon:C.yy}),t>=2||t>=2?(0,I.jsx)(z.g,{className:"rating_stars",icon:E.yy}):1.5===t?(0,I.jsx)(z.g,{className:"rating_stars",icon:E.uAg}):(0,I.jsx)(z.g,{className:"rating_stars",icon:C.yy}),t>=3||t>=3?(0,I.jsx)(z.g,{className:"rating_stars",icon:E.yy}):2.5===t?(0,I.jsx)(z.g,{className:"rating_stars",icon:E.uAg}):(0,I.jsx)(z.g,{className:"rating_stars",icon:C.yy}),t>=4||t>=4?(0,I.jsx)(z.g,{className:"rating_stars",icon:E.yy}):3.5===t?(0,I.jsx)(z.g,{className:"rating_stars",icon:E.uAg}):(0,I.jsx)(z.g,{className:"rating_stars",icon:C.yy}),t>=5||t>=5?(0,I.jsx)(z.g,{className:"rating_stars",icon:E.yy}):4.5===t?(0,I.jsx)(z.g,{className:"rating_stars",icon:E.uAg}):(0,I.jsx)(z.g,{className:"rating_stars",icon:C.yy})]})})()})},O=e=>{const t=e.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/);return t&&11===t[2].length?t[2]:null},W=(0,o.Ng)((e=>({product:e.Products.product,isAuthenticated:e.Auth.isAuthenticated,wishlist:e.Wishlist.items,review:e.Reviews.review,brands:e.Brands.brands,reviews:e.Reviews.reviews,categories:e.Categories.categories,products:e.Products.products,filtered_products:e.Products.filtered_products,user:e.Auth.user})),{get_product:w.Ps,get_related_products:w.O4,get_items:_.Su,add_item:_.K$,get_total:_.OL,get_item_total:_.ES,add_wishlist_item:b.OY,get_wishlist_items:b.uO,get_wishlist_item_total:b.mN,remove_wishlist_item:b.dm,get_reviews:e=>async t=>{const a={headers:{Accept:"application/json"}};try{const s=await c.A.get(`http://localhost:8000/api/reviews/get-reviews/${e}`,a);200===s.status?t({type:N.J4,payload:s.data}):t({type:N.mr})}catch(s){t({type:N.mr})}},get_review:e=>async t=>{if(localStorage.getItem("access")){const s={headers:{Authorization:`JWT ${localStorage.getItem("access")}`,Accept:"application/json"}};try{const a=await c.A.get(`http://localhost:8000/api/reviews/get-review/${e}`,s);200===a.status?t({type:N.QF,payload:a.data}):t({type:N.jh})}catch(a){t({type:N.jh})}}},create_review:(e,t,a)=>async s=>{if(localStorage.getItem("access")){const i={headers:{Authorization:`JWT ${localStorage.getItem("access")}`,Accept:"application/json","Content-Type":"application/json"}},o=JSON.stringify({rating:t,comment:a});try{const t=await c.A.post(`http://localhost:8000/api/reviews/create-review/${e}`,o,i);201===t.status?s({type:N.Kz,payload:t.data}):s({type:N.XI})}catch(r){s({type:N.XI})}}},update_review:(e,t,a)=>async s=>{if(localStorage.getItem("access")){const i={headers:{Authorization:`JWT ${localStorage.getItem("access")}`,Accept:"application/json","Content-Type":"application/json"}},o=JSON.stringify({rating:t,comment:a});try{const t=await c.A.put(`http://localhost:8000/api/reviews/update-review/${e}`,o,i);200===t.status?s({type:N.Fg,payload:t.data}):s({type:N.u9})}catch(r){s({type:N.u9})}}},delete_review:e=>async t=>{if(localStorage.getItem("access")){const s={headers:{Authorization:`JWT ${localStorage.getItem("access")}`,Accept:"application/json"},data:{}};try{const a=await c.A.delete(`http://localhost:8000/api/reviews/delete-review/${e}`,s);200===a.status?t({type:N.vs,payload:a.data}):t({tye:N.ys})}catch(a){t({tye:N.ys})}}},filter_reviews:(e,t)=>async a=>{const s={headers:{Accept:"application/json"}};let r;r=.5===t?"0.5":1===t||1===t?"1.0":1.5===t?"1.5":2===t||2===t?"2.0":2.5===t?"2.5":3===t||3===t?"3.0":3.5===t?"3.5":4===t||4===t?"4.0":4.5===t?"4.5":"5.0";try{const t=await c.A.get(`http://localhost:8000/api/reviews/filter-reviews/${e}?rating=${r}`,s);200===t.status?a({type:N.Vg,payload:t.data}):a({type:N.KT})}catch(i){a({type:N.KT})}},get_brands:j.I,get_categories:A.S,get_products:w.sR,get_filtered_products:w.IT,setAlert:n.n})((e=>{let{get_product:t,get_related_products:a,product:o,get_items:j,add_item:b,get_total:w,get_item_total:N,add_wishlist_item:_,get_wishlist_items:A,get_wishlist_item_total:S,isAuthenticated:$,remove_wishlist_item:T,wishlist:z,get_reviews:C,get_review:E,create_review:W,update_review:M,delete_review:L,filter_reviews:B,review:q,brands:D,get_brands:R,reviews:K,get_categories:V,get_products:Y,products:X,filtered_products:H,user:Q}=e;const[Z,U]=(0,r.useState)(!1),G=(0,i.Zp)(),[ee]=(0,r.useState)(!1),[te]=(0,r.useState)(1),[ae,se]=(0,r.useState)(""),[re,ie]=(0,r.useState)({}),oe=(0,i.g)().productId;(0,r.useEffect)((()=>{V(),Y(),window.scrollTo(0,0)}),[V,Y]),(0,r.useEffect)((()=>{window.scrollTo(0,0),t(oe),a(oe),A(),S()}),[t,a,A,S,oe]),(0,r.useEffect)((()=>{C(oe)}),[oe,C]),(0,r.useEffect)((()=>{E(oe)}),[oe,E]);const[le,ce]=(0,r.useState)({comment:"",rating:""}),{comment:ne,rating:de}=le,pe=e=>ce({...le,[e.target.name]:e.target.value}),me=e=>{B(oe,e)},[ge,ue]=(0,r.useState)(null),[he,xe]=(0,r.useState)([]),[ye]=(0,r.useState)("ALL");(0,r.useEffect)((()=>{R()}),[R]),(0,r.useEffect)((()=>{xe("ALL"===ye?D:D.filter((e=>e.name.startsWith(ye))))}),[D,ye]);const[ve,fe]=(0,r.useState)([]);return(0,r.useEffect)((()=>{c.A.get("/api/branches/stock").then((e=>{fe(e.data),U(!1)})).catch((e=>{console.error("Error al obtener stock:",e),U(!1)}))}),[]),Z?(0,I.jsx)("p",{children:"Cargando sucursales..."}):(0,I.jsx)(s.A,{children:(0,I.jsx)("div",{className:"bg-white",children:(0,I.jsxs)("div",{className:"max-w-2xl mx-auto py-16 px-4 sm:py-24 sm:px-6 lg:max-w-7xl lg:px-8",children:[(0,I.jsxs)("div",{className:"lg:grid lg:grid-cols-2 lg:gap-x-8 lg:items-start text-sm",children:[(0,I.jsx)(P,{photos:[null===o||void 0===o?void 0:o.photo,...null!==o&&void 0!==o&&o.extra_images?o.extra_images.map((e=>e.image)):[]],short_description:(null===o||void 0===o?void 0:o.short_description)||""}),(0,I.jsxs)(l.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"relative mt-10 px-6 sm:px-8 sm:mt-16 lg:mt-0 bg-white shadow-xl rounded-3xl p-8 border border-gray-200 overflow-hidden",children:[(0,I.jsx)("div",{className:"absolute -top-10 -right-10 w-40 h-40 bg-purple-300 opacity-30 rounded-full blur-3xl"}),(0,I.jsx)("div",{className:"absolute -bottom-10 -left-10 w-40 h-40 bg-blue-300 opacity-30 rounded-full blur-3xl"}),(0,I.jsxs)("h1",{className:"text-xl font-bold text-gray-800 mb-2",children:["Producto: ",null===o||void 0===o?void 0:o.name]}),(0,I.jsxs)("p",{className:"text-lg text-gray-600",children:["SKU: ",(0,I.jsx)("span",{className:"font-medium",children:null===o||void 0===o?void 0:o.sku})]}),(0,I.jsxs)("div",{className:"mt-6 border-t border-gray-300 pt-4",children:[(0,I.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Descripci\xf3n del producto: "}),(0,I.jsx)(l.P.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"text-gray-700 bg-gray-100 p-4 rounded-lg text-sm",dangerouslySetInnerHTML:{__html:`${(null===o||void 0===o?void 0:o.description)||""} `}})]}),(0,I.jsx)("div",{className:"mt-6 border-t border-gray-300 pt-4 flex justify-center",children:$?(0,I.jsxs)(l.P.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",stiffness:150,delay:.2},className:"bg-white shadow-lg rounded-lg overflow-hidden p-6",children:[(0,I.jsx)("h2",{className:"text-lg font-semibold text-gray-700 mb-4",children:"Detalles del Producto"}),(0,I.jsx)("table",{className:"w-full border-collapse border border-gray-300",children:(0,I.jsxs)("tbody",{children:[(0,I.jsxs)("tr",{className:"border-b",children:[(0,I.jsx)("td",{className:"px-4 py-2 text-gray-600 font-normal bg-gray-100 text-sm",children:"Cantidad Disponible"}),(0,I.jsx)("td",{className:"px-4 py-2 text-sm",children:1===(null===o||void 0===o?void 0:o.quantity)?"1 unidad":`${null===o||void 0===o?void 0:o.quantity} unidades`})]}),(0,I.jsxs)("tr",{className:"border-b",children:[(0,I.jsx)("td",{className:"px-4 py-2 text-sm text-gray-600 font-normal bg-gray-100",children:"Productos Vendidos"}),(0,I.jsx)("td",{className:"px-4 py-2 text-sm",children:1===(null===o||void 0===o?void 0:o.sold)?"1 unidad":`${null===o||void 0===o?void 0:o.sold} unidades`})]}),(0,I.jsxs)("tr",{className:"border-b",children:[(0,I.jsx)("td",{className:"px-4 py-2 text-sm text-gray-600 font-normal bg-gray-100",children:"Precio por tu categor\xeda"}),(0,I.jsx)("td",{className:"px-4 py-2 text-sm text-green-700 font-medium",children:Q&&void 0!==Q.mayorista_tipo?0===Q.mayorista_tipo?`${null===o||void 0===o?void 0:o.price} Bs`:1===Q.mayorista_tipo?`${null===o||void 0===o?void 0:o.price_mayorista_1} Bs`:2===Q.mayorista_tipo?`${null===o||void 0===o?void 0:o.price_mayorista_2} Bs`:3===Q.mayorista_tipo?`${null===o||void 0===o?void 0:o.price_mayorista_3} Bs`:"N/A":"Inicia sesi\xf3n para ver precios"})]}),(0,I.jsxs)("tr",{children:[(0,I.jsx)("td",{className:"px-4 py-2 text-sm text-gray-600 font-normal bg-gray-100",children:"Marca"}),(0,I.jsx)("td",{className:"px-4 py-2 text-sm flex items-center gap-2",children:(()=>{const e=null===he||void 0===he?void 0:he.find((e=>e.id===(null===o||void 0===o?void 0:o.brand)));return e?e.logo?(0,I.jsx)(I.Fragment,{children:(0,I.jsx)("img",{src:e.logo,alt:e.name,className:"w-26 h-8 object-contain border"})}):(0,I.jsx)("span",{className:"font-medium",children:e.name}):(0,I.jsx)("span",{className:"font-normal",children:"Desconocida"})})()})]})]})})]}):(0,I.jsxs)(l.P.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5,ease:"easeInOut"},className:"w-72 mx-auto text-white text-sm font-semibold px-4 py-2 bg-gray-700 shadow-lg rounded-md flex items-center justify-center gap-2",children:[(0,I.jsx)(d.A,{className:"w-5 h-5"})," Inicia sesi\xf3n para m\xe1s detalles"]})}),(0,I.jsxs)("div",{className:"mt-6",children:[(0,I.jsx)(l.P.p,{className:"mt-4 flex items-center gap-2 text-lg font-medium",initial:{scale:.9},animate:{scale:1},transition:{type:"spring",stiffness:200},children:(null===o||void 0===o?void 0:o.quantity)>0?(0,I.jsxs)("span",{className:"text-green-600 flex items-center gap-2",children:[(0,I.jsx)(p.A,{className:"w-6 h-6 text-green-500 animate-bounce"})," En Stock"]}):(0,I.jsxs)("span",{className:"text-red-600 flex items-center gap-2",children:[(0,I.jsx)(m.A,{className:"w-6 h-6 text-red-500 animate-pulse"})," Agotado"]})}),(0,I.jsxs)("div",{className:"mt-6 flex gap-4",children:[Z?(0,I.jsx)("button",{className:"flex-1 bg-gray-500 rounded-lg py-3 px-8 text-white cursor-not-allowed",children:"Cargando..."}):(0,I.jsxs)(l.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:async()=>{o&&null!==o&&void 0!==o&&o.quantity>0&&(U(!0),await b(o),await j(),await w(),await N(),U(!1),G("/cart"))},className:"w-max bg-midnight-blue hover:bg-purple-night transition-all rounded-lg py-3 px-8 text-white shadow-md flex items-center justify-center",children:[(0,I.jsx)(g.A,{className:"w-6 h-6 mr-2"})," Agregar al Carrito"]}),(0,I.jsx)(J,{product:o,wishlist:z,setAlert:n.n,addToWishlist:async e=>(await _(e.id),!0),removeFromWishlist:async e=>{await T(e)}})]})]})]})]}),(0,I.jsxs)("div",{className:"bg-white p-2 rounded-lg shadow-md mt-16",children:[(0,I.jsx)("h3",{className:"text-2xl font-semibold text-gray-800 mb-4",children:"Recursos del Producto"}),(0,I.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,I.jsx)("div",{className:"space-y-6",children:null!==o&&void 0!==o&&o.pdf||null!==o&&void 0!==o&&o.video_url?(0,I.jsxs)(I.Fragment,{children:[(null===o||void 0===o?void 0:o.pdf)&&(0,I.jsxs)("div",{className:"bg-blue-50 p-6 rounded-lg shadow-md transform transition hover:scale-105",children:[(0,I.jsxs)("div",{className:"flex items-center mb-4",children:[(0,I.jsx)(u.A,{className:"w-10 h-10 text-blue-600 mr-3"}),(0,I.jsx)("h4",{className:"text-xl font-semibold text-blue-800",children:"Manual de usuario"})]}),(0,I.jsxs)("div",{className:"flex space-x-4",children:[(0,I.jsxs)("a",{href:o.pdf,download:!0,className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition flex items-center justify-center",children:[(0,I.jsx)(h.A,{className:"w-5 h-5 mr-2"})," Descargar PDF"]}),(0,I.jsxs)("a",{href:o.pdf,target:"_blank",rel:"noopener noreferrer",className:"flex-1 bg-gray-600 text-white py-2 px-4 rounded-lg hover:bg-gray-700 transition flex items-center justify-center",children:[(0,I.jsx)(x.A,{className:"w-5 h-5 mr-2"})," Visualizar"]})]})]}),(null===o||void 0===o?void 0:o.video_url)&&(0,I.jsxs)("div",{className:"bg-green-50 p-6 rounded-lg shadow-md transform transition hover:scale-105",children:[(0,I.jsxs)("div",{className:"flex items-center mb-4",children:[(0,I.jsx)(y.A,{className:"w-10 h-10 text-green-600 mr-3"}),(0,I.jsx)("h4",{className:"text-xl font-semibold text-green-800",children:"Video Explicativo"})]}),(0,I.jsx)("div",{className:"w-full aspect-video rounded-lg overflow-hidden shadow-lg",children:(0,I.jsx)("iframe",{src:`https://www.youtube.com/embed/${O(o.video_url)}`,title:"Product Video",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"w-full h-full"})})]})]}):(0,I.jsx)("div",{className:"bg-gray-100 p-6 rounded-lg text-center",children:(0,I.jsx)("p",{className:"text-gray-600 text-md font-medium",children:"\ud83d\udea7 Estamos trabajando en agregar recursos para este producto. \xa1Vuelve pronto! \ud83d\ude80"})})}),$?(0,I.jsxs)(l.P.div,{className:"bg-white rounded-xl shadow-lg overflow-hidden border border-gray-200",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5},children:[(0,I.jsxs)("div",{className:"bg-gradient-to-r from-midnight-blue to-purple-night p-5 flex items-center space-x-4 text-white",children:[(0,I.jsx)(v.A,{className:"w-8 h-8 animate-bounce text-red-500"}),(0,I.jsx)("h2",{className:"text-l font-bold tracking-wide",children:"Stock por Sucursal"})]}),(0,I.jsxs)("div",{className:"p-6",children:[(0,I.jsxs)("h1",{className:"text-l font-extrabold text-gray-800 mb-6 border-b-2 border-indigo-200 pb-3",children:["Producto: ",null===o||void 0===o?void 0:o.name]}),(0,I.jsx)("div",{className:"overflow-x-auto",children:(0,I.jsxs)("table",{className:"w-full text-left border-collapse",children:[(0,I.jsx)("thead",{className:"bg-indigo-50",children:(0,I.jsxs)("tr",{children:[(0,I.jsx)("th",{className:"p-4 text-sm font-semibold text-indigo-800 uppercase",children:"Sucursal"}),(0,I.jsx)("th",{className:"p-4 text-sm font-semibold text-indigo-800 uppercase text-center",children:"Cantidad"})]})}),(0,I.jsx)("tbody",{children:ve.filter((e=>e.producto_nombre===(null===o||void 0===o?void 0:o.name))).map(((e,t)=>(0,I.jsxs)(l.P.tr,{className:"border-b transition-all "+(0===e.cantidad?"bg-red-50":ge===t?"bg-blue-50":""),whileHover:{scale:1.02},onMouseEnter:()=>ue(t),onMouseLeave:()=>ue(null),children:[(0,I.jsx)("td",{className:"p-4 text-gray-700 font-medium text-sm",children:e.sucursal_nombre}),(0,I.jsxs)("td",{className:"p-4 text-center font-bold flex justify-center items-center gap-2 text-xs",children:[0===e.cantidad?(0,I.jsx)(m.A,{className:"w-5 h-5 text-red-600"}):e.cantidad<=5?(0,I.jsx)(f.A,{className:"w-5 h-5 text-yellow-600"}):(0,I.jsx)(p.A,{className:"w-5 h-5 text-green-600"}),(0,I.jsx)("span",{className:0===e.cantidad?"text-red-600":e.cantidad<=5?"text-yellow-600":"text-green-600",children:e.cantidad})]})]},e.id)))})]})})]})]}):(0,I.jsxs)(l.P.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5,ease:"easeInOut"},className:"w-72 h-1/6 mx-auto text-white text-sm font-semibold px-4 py-2 bg-gray-700 shadow-lg rounded-md flex items-center justify-center gap-2",children:[(0,I.jsx)(d.A,{className:"w-5 h-5"})," Inicia sesi\xf3n para m\xe1s detalles"]})]})]}),(0,I.jsxs)("section",{className:"my-10 max-w-7xl mx-auto p-6 bg-white rounded-lg shadow-md",children:[(0,I.jsx)("h2",{className:"text-2xl font-semibold text-gray-800 mb-6 text-center",children:"Rese\xf1as del Producto"}),(0,I.jsx)("div",{className:"mt-6 border-t border-gray-300 pt-4 flex justify-center",children:$?(0,I.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 w-full",children:[(0,I.jsxs)("div",{className:"bg-gray-50 p-6 rounded-lg shadow-md w-full",children:[(0,I.jsxs)("div",{className:"flex items-center space-x-2 mb-4",children:[(0,I.jsx)("label",{htmlFor:"starFilter",className:"text-gray-700",children:"Filtrar por estrellas:"}),(0,I.jsxs)("select",{id:"starFilter",className:"border p-2 rounded cursor-pointer",value:ae,onChange:e=>{const t=parseInt(e.target.value,10);se(t),me(t)},children:[(0,I.jsx)("option",{value:"",children:"\xdaltimo"}),[5,4,3,2,1].map((e=>(0,I.jsxs)("option",{value:e,children:[e," Estrellas"]},e)))]})]}),(0,I.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"A\xf1ade tu Rese\xf1a"}),(0,I.jsxs)("form",{onSubmit:q&&q.comment?e=>{e.preventDefault(),null!==de&&M(oe,de,ne)}:e=>{e.preventDefault(),null!==de&&W(oe,de,ne)},className:"mt-3 space-y-4 text-left",children:[(0,I.jsx)("textarea",{rows:5,name:"comment",required:!0,value:ne,onChange:pe,placeholder:(null===q||void 0===q?void 0:q.comment)||"Escribe tu opini\xf3n...",className:"text-sm w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),(0,I.jsxs)("select",{name:"rating",required:!0,value:de,onChange:pe,className:"w-full p-2 border border-gray-300 rounded-lg",children:[(0,I.jsx)("option",{value:"",children:"Selecciona una calificaci\xf3n"}),[1,2,3,4,5].map((e=>(0,I.jsxs)("option",{value:e,children:[e," Estrella",e>1&&"s"]},e)))]}),(0,I.jsx)("button",{type:"submit",disabled:!de||!ne&&(null===q||void 0===q?void 0:q.comment)===ne,className:"w-full py-2 rounded-lg transition "+(!de||!ne&&null!==q&&void 0!==q&&q.comment?"bg-gray-400 cursor-not-allowed":"bg-midnight-blue text-white hover:bg-purple-night"),children:q&&q.comment?"Actualizar Rese\xf1a":"A\xf1adir Rese\xf1a"})]}),q&&q.comment&&$&&(0,I.jsx)("button",{onClick:()=>{(async()=>{await L(oe),await E(oe),ce({comment:""})})()},className:"mt-2 w-full bg-crimson-red text-white py-2 rounded-lg hover:bg-red-700 transition",children:"Eliminar Rese\xf1a"})]}),(0,I.jsx)("div",{className:"space-y-4",children:K&&K.length>0?(0,I.jsx)(I.Fragment,{children:K.map(((e,t)=>(0,I.jsxs)("div",{className:"flex items-start bg-white p-3 rounded-lg shadow-sm border border-gray-200",children:[(0,I.jsx)("div",{className:"mr-3 flex-shrink-0",children:(0,I.jsx)("span",{className:"inline-block h-10 w-10 rounded-full overflow-hidden bg-gray-200",children:(0,I.jsx)("svg",{className:"h-full w-full text-gray-400",fill:"currentColor",viewBox:"0 0 24 24",children:(0,I.jsx)("path",{d:"M24 20.993V24H0v-2.996A14.977 14.977 0 0112.004 15c4.904 0 9.26 2.354 11.996 5.993zM16.002 8.999a4 4 0 11-8 0 4 4 0 018 0z"})})})}),(0,I.jsxs)("div",{className:"flex-1",children:[(0,I.jsx)(F,{rating:e.rating}),(0,I.jsx)("h4",{className:"text-sm font-semibold text-gray-800",children:e.user}),(0,I.jsx)("p",{className:"text-gray-600 text-sm mt-1 "+(re[t]?"":"line-clamp-2"),children:e.comment}),e.comment.length>100&&(0,I.jsx)("button",{onClick:()=>(e=>{ie((t=>({...t,[e]:!t[e]})))})(t),className:"text-indigo-600 hover:underline text-sm mt-1",children:re[t]?"Mostrar menos":"Mostrar m\xe1s"})]})]},t)))}):(0,I.jsx)("div",{className:"flex justify-center",children:(0,I.jsx)("p",{className:"text-gray-500 text-sm",children:"A\xfan no hay rese\xf1as para este producto."})})})]}):(0,I.jsxs)(l.P.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5,ease:"easeInOut"},className:"w-72 mx-auto text-white text-sm font-semibold px-4 py-2 bg-gray-700 shadow-lg rounded-md flex items-center justify-center gap-2",children:[(0,I.jsx)(d.A,{className:"w-5 h-5"})," Inicia sesi\xf3n para ver rese\xf1as de los productos"]})})]}),(0,I.jsx)("div",{className:"flex items-baseline justify-between pt-12 pb-6 border-b border-gray-200",children:(0,I.jsx)("h1",{className:"text-4xl font-extrabold tracking-tight text-gray-900",children:"Productos relacionados"})}),(0,I.jsxs)("section",{"aria-labelledby":"products-heading",className:"pt-10 pb-6 px-6 sm:px-10 lg:px-4 md:px-4",children:[(0,I.jsx)("h2",{id:"products-heading",className:"sr-only",children:"Productos"}),(0,I.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-x-10 gap-y-12",children:(0,I.jsxs)("div",{className:"lg:col-span-3",children:[(0,I.jsx)("div",{className:"grid sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-6",children:(()=>{if(!o||!o.category)return null;const e=ee?H:X,t=[...(null===e||void 0===e?void 0:e.filter((e=>e.category===o.category)))||[]].sort((()=>Math.random()-.5)),a=5*(te-1);return t.slice(a,a+5).map((e=>(0,I.jsx)(k.A,{product:e},e.id)))})()}),(0,I.jsx)("div",{className:"mt-10",children:(()=>{const e=ee?H:X,t=e?Math.ceil(e.length/5):0;if(t<=1)return null;let a=Math.max(1,te-Math.floor(5)),s=Math.min(t,a+10-1);s-a+1<10&&(a=Math.max(1,s-10+1))})()})]})})]})]})})})}))},342:(e,t,a)=>{a.d(t,{A:()=>m});var s=a(3401),r=(a(2342),a(35)),i=a(1507),o=a(9784),l=a(5043),c=a(3003),n=a(4834),d=a(8017),p=a(579);const m=(0,c.Ng)(null,{check_authenticated:r.f_,load_user:r.Jc,refresh:r.Ow,get_items:i.Su,get_total:i.OL,get_item_total:i.ES,get_user_profile:o.h})((e=>((0,l.useEffect)((()=>{e.refresh(),e.check_authenticated(),e.load_user(),e.get_items(),e.get_total(),e.get_item_total(),e.get_user_profile()}),[]),(0,p.jsxs)("div",{children:[(0,p.jsx)(n.A,{}),(0,p.jsx)(s.N9,{autoClose:5e3}),e.children,(0,p.jsx)(d.A,{})]}))))},9703:(e,t,a)=>{a.d(t,{I:()=>i});var s=a(6213),r=a(4308);const i=()=>async e=>{const t={headers:{Accept:"application/json"}};try{const a=await s.A.get("http://localhost:8000/api/brand/brands",t);a.status>=200&&a.status<300?e({type:r.Oj,payload:a.data}):(console.error("Error: Unexpected response status",a.status),e({type:r.$_}))}catch(a){console.error("Error fetching brands:",a.message),e({type:r.$_})}}},1507:(e,t,a)=>{a.d(t,{ES:()=>c,K$:()=>i,OL:()=>l,Su:()=>o,eV:()=>n,j5:()=>d});var s=a(6213),r=a(4308);const i=e=>async t=>{if(localStorage.getItem("access")){const i={headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`JWT ${localStorage.getItem("access")}`}},o=e.id,l=JSON.stringify({product_id:o});try{const e=await s.A.post("http://localhost:8000/api/cart/add-item",l,i);201===e.status?t({type:r.CF,payload:e.data}):t({type:r.J1})}catch(a){t({type:r.J1})}}else{let a=[];localStorage.getItem("cart")&&(a=JSON.parse(localStorage.getItem("cart")));let s=!0;a.map((t=>{e.id.toString()===t.product.id.toString()&&(s=!1)}));const i={product:e,count:1};s&&a.push(i),t({type:r.SJ,payload:a})}},o=()=>async e=>{if(localStorage.getItem("access")){const a={headers:{Accept:"application/json",Authorization:`JWT ${localStorage.getItem("access")}`}};try{const t=await s.A.get("http://localhost:8000/api/cart/cart-items",a);200===t.status?e({type:r._W,payload:t.data}):e({type:r.BS})}catch(t){e({type:r.BS})}}else e({type:r.K})},l=()=>async e=>{if(localStorage.getItem("access")){const a={headers:{Accept:"application/json",Authorization:`JWT ${localStorage.getItem("access")}`}};try{const t=await s.A.get("http://localhost:8000/api/cart/get-total",a);200===t.status?e({type:r.oy,payload:t.data}):e({type:r.pp})}catch(t){e({type:r.pp})}}else{let t=0,a=0,s=[];localStorage.getItem("cart")&&(s=JSON.parse(localStorage.getItem("cart")),s.map((e=>{t+=parseFloat(e.product.price)*parseFloat(e.count),a+=parseFloat(e.product.compare_price)*parseFloat(e.count)}))),e({type:r.Kl,payload:[parseFloat(t.toFixed(2)),parseFloat(a.toFixed(2))]})}},c=()=>async e=>{if(localStorage.getItem("access")){const a={headers:{Accept:"application/json",Authorization:`JWT ${localStorage.getItem("access")}`}};try{const t=await s.A.get("http://localhost:8000/api/cart/get-item-total",a);200===t.status?e({type:r.O5,payload:t.data}):e({type:r.DY})}catch(t){e({type:r.DY})}}else{let t=0;localStorage.getItem("cart")&&(t=JSON.parse(localStorage.getItem("cart")).length),e({type:r.Ig,payload:t})}},n=(e,t)=>async a=>{if(localStorage.getItem("access")){const o={headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`JWT ${localStorage.getItem("access")}`}},l=e.product.id,c=JSON.stringify({product_id:l,count:t});try{const e=await s.A.put("http://localhost:8000/api/cart/update-item",c,o);200!==e.status||e.data.error?a({type:r.lP}):a({type:r.Qk,payload:e.data})}catch(i){a({type:r.lP})}}else{let s=[];localStorage.getItem("cart")&&(s=JSON.parse(localStorage.getItem("cart")),s.map(((a,r)=>{a.product.id.toString()===e.product.id.toString()&&(s[r].count=parseInt(t))}))),a({type:r.u3,payload:s})}},d=e=>async t=>{if(localStorage.getItem("access")){const i=e.product.id,o=JSON.stringify({product_id:i}),l={headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`JWT ${localStorage.getItem("access")}`},data:o};try{const e=await s.A.delete("http://localhost:8000/api/cart/remove-item",l);200===e.status?t({type:r.J0,payload:e.data}):t({type:r.uP})}catch(a){t({type:r.uP})}}else{let a=[],s=[];localStorage.getItem("cart")&&(a=JSON.parse(localStorage.getItem("cart")),a.map((t=>{t.product.id.toString()!==e.product.id.toString()&&s.push(t)}))),t({type:r.Zk,payload:s})}}},9784:(e,t,a)=>{a.d(t,{Y:()=>l,h:()=>o});var s=a(6213),r=a(3115),i=a(4308);const o=()=>async e=>{if(localStorage.getItem("access")){const a={headers:{Accept:"application/json",Authorization:`JWT ${localStorage.getItem("access")}`}};try{const t=await s.A.get("http://localhost:8000/api/profile/user",a);200===t.status?e({type:i.xC,payload:t.data}):e({type:i.kA})}catch(t){e({type:i.kA})}}},l=(e,t,a,o,l,c,n)=>async d=>{if(localStorage.getItem("access")){const m={headers:{Accept:"application/json","Content-Type":"application/json",Authorization:`JWT ${localStorage.getItem("access")}`}},g=JSON.stringify({address_line_1:e,address_line_2:t,city:a,state_province_region:o,zipcode:l,phone:c,country_region:n});try{const e=await s.A.put("http://localhost:8000/api/profile/update",g,m);200===e.status?(d({type:i.Mf,payload:e.data}),d((0,r.n)("Profile updated successfully","green"))):(d({type:i.TX}),d((0,r.n)("Failed to update profile","red")))}catch(p){d({type:i.TX}),d((0,r.n)("Failed to update profile","red"))}}}},3178:(e,t,a)=>{a.d(t,{OY:()=>l,dm:()=>n,mN:()=>c,uO:()=>o});var s=a(6213),r=a(4308);const i=()=>({headers:{Authorization:`JWT ${localStorage.getItem("access")}`,"Content-Type":"application/json",Accept:"application/json"}}),o=()=>async e=>{if(localStorage.getItem("access"))try{const t=await s.A.get("http://localhost:8000/api/wishlist/wishlist-items",i());e({type:r.Q$,payload:t.data})}catch(t){e({type:r.ti})}},l=e=>async t=>{if(!localStorage.getItem("access"))return;const a=JSON.stringify({product_id:e});try{const e=await s.A.post("http://localhost:8000/api/wishlist/add-item",a,i());t({type:r.eW,payload:e.data})}catch(o){t({type:r.Xd})}},c=()=>async e=>{if(localStorage.getItem("access"))try{const t=await s.A.get("http://localhost:8000/api/wishlist/get-item-total",i());e({type:r.qT,payload:t.data})}catch(t){e({type:r.hZ})}},n=e=>async t=>{if(!localStorage.getItem("access"))return;const a={...i(),data:{product_id:e}};try{await s.A.delete("http://localhost:8000/api/wishlist/remove-item",a),t({type:r.$F,payload:e}),console.log("\ud83d\ude80 Producto eliminado del wishlist:",e)}catch(o){t({type:r.in})}}}}]);
//# sourceMappingURL=4.a8402fc7.chunk.js.map