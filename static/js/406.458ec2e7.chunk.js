"use strict";(self.webpackChunkecommerce=self.webpackChunkecommerce||[]).push([[406],{3842:(e,t,a)=>{a.d(t,{A:()=>d});var s=a(5475),i=a(2783),r=a(8029),c=a(5977),l=a(579);function o(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter(Boolean).join(" ")}const d=()=>(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(s.N_,{to:"/dashboard",className:o("text-gray-600 hover:bg-gray-50 hover:text-gray-900","group flex items-center px-2 py-2 text-base font-medium rounded-md"),children:[(0,l.jsx)(i.A,{className:o("mr-4 flex-shrink-0 h-6 w-6 text-gray-400 group-hover:text-gray-500"),"aria-hidden":"true"}),"Dashboard"]}),(0,l.jsxs)(s.N_,{to:"/dashboard/payments",className:o("text-gray-600 hover:bg-gray-50 hover:text-gray-900","group flex items-center px-2 py-2 text-base font-medium rounded-md"),children:[(0,l.jsx)(r.A,{className:o("mr-4 flex-shrink-0 h-6 w-6 text-gray-400 group-hover:text-gray-500"),"aria-hidden":"true"}),"Historial de compras"]}),(0,l.jsxs)(s.N_,{to:"/dashboard/profile",className:o("text-gray-600 hover:bg-gray-50 hover:text-gray-900","group flex items-center px-2 py-2 text-base font-medium rounded-md"),children:[(0,l.jsx)(c.A,{className:o("mr-4 flex-shrink-0 h-6 w-6 text-gray-400 group-hover:text-gray-500"),"aria-hidden":"true"}),"Perfil"]})]})},2406:(e,t,a)=>{a.r(t),a.d(t,{default:()=>y});var s=a(3003),i=a(3216),r=a(5043),c=a(5475),l=a(6178),o=a.n(l),d=a(1804),n=a(1507),m=a(3842),h=a(1471),x=a(2258),p=a(2363),g=a(9478),u=a(579);const y=(0,s.Ng)((e=>({order:e.Orders.order,isAuthenticated:e.Auth.isAuthenticated,user:e.Auth.user})),{get_items:n.Su,get_total:n.OL,get_item_total:n.ES,get_order_detail:d._q})((e=>{let{order:t,isAuthenticated:a,get_order_detail:s}=e;const[l,d]=(0,r.useState)(!1),n=(0,i.g)().transaction_id;return(0,r.useEffect)((()=>{s(n)}),[n,s]),a?(0,u.jsxs)("div",{className:"flex min-h-screen bg-gradient-to-br from-indigo-50 to-blue-100",children:[l&&(0,u.jsxs)("div",{className:"fixed inset-0 z-50 flex md:hidden",children:[(0,u.jsx)("div",{className:"fixed inset-0 bg-gray-800 bg-opacity-75 backdrop-blur-sm",onClick:()=>d(!1)}),(0,u.jsxs)("div",{className:"relative flex flex-col w-72 max-w-xs bg-white shadow-xl rounded-r-xl overflow-hidden",children:[(0,u.jsx)("div",{className:"p-5 bg-gradient-to-r from-midnight-blue to-purple-night",children:(0,u.jsxs)("div",{className:"flex items-center justify-between",children:[(0,u.jsx)("h2",{className:"text-xl font-bold text-white",children:"Mi Cuenta"}),(0,u.jsx)("button",{className:"p-2 rounded-full bg-white bg-opacity-20 hover:bg-opacity-30 transition",onClick:()=>d(!1),children:(0,u.jsx)(h.A,{className:"h-5 w-5 text-white"})})]})}),(0,u.jsx)("nav",{className:"mt-5 p-4 space-y-3",children:(0,u.jsx)(m.A,{})})]})]}),(0,u.jsxs)("aside",{className:"hidden md:flex md:w-72 md:flex-col bg-white border-r border-gray-200 shadow-lg fixed h-full",children:[(0,u.jsx)("div",{className:"p-5 bg-gradient-to-r from-midnight-blue to-purple-night",children:(0,u.jsx)("h2",{className:"text-xl font-bold text-white",children:"Mi Cuenta"})}),(0,u.jsx)("div",{className:"p-4",children:(0,u.jsx)(c.N_,{to:"/",className:"inline-flex items-center justify-center w-full px-4 py-2 text-sm font-medium text-midnight-blue bg-indigo-100 border border-transparent rounded-md hover:bg-indigo-200 transition",children:"Regresar a Inicio"})}),(0,u.jsx)("nav",{className:"mt-2 p-4 space-y-2",children:(0,u.jsx)(m.A,{})})]}),(0,u.jsxs)("main",{className:"flex-1 md:ml-72",children:[(0,u.jsx)("div",{className:"sticky top-0 z-10 bg-white shadow-md",children:(0,u.jsx)("div",{className:"mx-auto px-4 sm:px-6 lg:px-8",children:(0,u.jsxs)("div",{className:"flex justify-between h-16",children:[(0,u.jsx)("div",{className:"flex items-center md:hidden",children:(0,u.jsx)("button",{className:"p-2 rounded-md text-gray-600 hover:text-gray-900 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500",onClick:()=>d(!0),children:(0,u.jsx)(x.A,{className:"h-6 w-6"})})}),(0,u.jsx)("div",{className:"flex items-center",children:(0,u.jsx)("h1",{className:"text-2xl font-semibold text-gray-800",children:"Detalle de Factura"})}),(0,u.jsx)("div",{className:"flex items-center",children:(0,u.jsx)(p.A,{className:"h-8 w-8 text-midnight-blue"})})]})})}),(0,u.jsx)("div",{className:"mx-auto sm:px-6 lg:px-8 py-8 max-w-4xl",children:t?(0,u.jsxs)("div",{className:"bg-white rounded-xl shadow-xl overflow-hidden",children:[(0,u.jsx)("div",{className:"px-6 py-4 bg-gradient-to-r from-midnight-blue to-purple-night",children:(0,u.jsxs)("div",{className:"flex justify-between items-center",children:[(0,u.jsxs)("h2",{className:"text-lg font-bold text-white",children:["Detalles del Pedido #",t.transaction_id?t.transaction_id.slice(-6):"N/A"]}),(0,u.jsx)("span",{className:"px-3 py-1 text-xs font-semibold text-indigo-800 bg-indigo-100 rounded-full",children:t.status||"Procesando"})]})}),(0,u.jsxs)("div",{className:"p-6",children:[(0,u.jsxs)("div",{className:"text-sm border-b border-gray-200 pb-5 flex justify-between items-center",children:[(0,u.jsxs)("div",{className:"flex items-center text-sm text-gray-500",children:[(0,u.jsx)(p.A,{className:"h-5 w-5 text-indigo-500 mr-2"}),(0,u.jsxs)("div",{children:["ID de Transacci\xf3n: ",(0,u.jsx)("span",{className:"font-medium",children:t.transaction_id})]})]}),(0,u.jsx)("div",{className:"font-medium text-gray-900",children:t.date_issued?(0,u.jsxs)("time",{dateTime:t.date_issued,children:[o()(t.date_issued).format("LL")," \u2022 ",o()(t.date_issued).fromNow()]}):(0,u.jsx)("time",{dateTime:new Date,children:o()().format("LL")})})]}),(0,u.jsxs)("div",{className:"mt-8",children:[(0,u.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Productos Comprados"}),(0,u.jsx)("div",{className:"space-y-8",children:t.order_items&&t.order_items.map((e=>(0,u.jsx)("div",{className:"bg-white border border-gray-200 rounded-lg shadow-sm overflow-hidden",children:(0,u.jsx)("div",{className:"p-6",children:(0,u.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-6",children:[(0,u.jsxs)("div",{className:"md:col-span-7",children:[(0,u.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:(0,u.jsx)("p",{className:"hover:text-midnight-blue transition",children:"Producto:"})}),(0,u.jsx)(c.N_,{to:`/product/${(null===e||void 0===e?void 0:e.id)||(null===e||void 0===e?void 0:e.product_id)}`,className:"hover:text-midnight-blue transition",children:e.name}),(0,u.jsx)("p",{className:"text-gray-600 mb-4",children:e.s}),(0,u.jsxs)("div",{className:"flex items-center text-sm text-gray-500 mb-4",children:[(0,u.jsx)(p.A,{className:"h-5 w-5 text-indigo-500 mr-2"}),(0,u.jsxs)("div",{children:["ID de Transacci\xf3n: ",(0,u.jsx)("span",{className:"font-medium",children:t.transaction_id})]})]})]}),(0,u.jsx)("div",{className:"md:col-span-5 bg-indigo-50 p-4 rounded-lg",children:(0,u.jsxs)("div",{children:[(0,u.jsxs)("div",{className:"flex items-center mb-2",children:[(0,u.jsx)(g.A,{className:"h-5 w-5 text-indigo-500 mr-2"}),(0,u.jsx)("h4",{className:"font-medium text-gray-900",children:"Detalles del Producto"})]}),(0,u.jsxs)("div",{className:"ml-7 text-gray-600 space-y-1",children:[(0,u.jsxs)("p",{className:"text-sm flex justify-between",children:[(0,u.jsx)("span",{children:"Precio total del producto:"}),(0,u.jsx)("span",{className:"font-medium",children:e.price})]}),(0,u.jsxs)("p",{className:"text-sm flex justify-between",children:[(0,u.jsx)("span",{children:"Cantidad:"}),(0,u.jsx)("span",{className:"font-medium",children:e.count})]})]})]})})]})})},e.id)))})]})]})]}):(0,u.jsxs)("div",{className:"bg-white rounded-xl shadow-xl overflow-hidden",children:[(0,u.jsx)("div",{className:"px-6 py-4 bg-gradient-to-r from-midnight-blue to-purple-night",children:(0,u.jsx)("h2",{className:"text-lg font-bold text-white",children:"Cargando pedido..."})}),(0,u.jsx)("div",{className:"p-6",children:(0,u.jsx)("p",{className:"text-gray-500",children:"Buscando informaci\xf3n del pedido..."})})]})})]})]}):(0,u.jsx)(i.C5,{to:"/"})}))},1507:(e,t,a)=>{a.d(t,{ES:()=>l,OL:()=>c,Su:()=>r});var s=a(6213),i=a(4308);const r=()=>async e=>{if(localStorage.getItem("access")){const a={headers:{Accept:"application/json",Authorization:`JWT ${localStorage.getItem("access")}`}};try{const t=await s.A.get("http://localhost:8000/api/cart/cart-items",a);200===t.status?e({type:i._W,payload:t.data}):e({type:i.BS})}catch(t){e({type:i.BS})}}else e({type:i.K})},c=()=>async e=>{if(localStorage.getItem("access")){const a={headers:{Accept:"application/json",Authorization:`JWT ${localStorage.getItem("access")}`}};try{const t=await s.A.get("http://localhost:8000/api/cart/get-total",a);200===t.status?e({type:i.oy,payload:t.data}):e({type:i.pp})}catch(t){e({type:i.pp})}}else{let t=0,a=0,s=[];localStorage.getItem("cart")&&(s=JSON.parse(localStorage.getItem("cart")),s.map((e=>{t+=parseFloat(e.product.price)*parseFloat(e.count),a+=parseFloat(e.product.compare_price)*parseFloat(e.count)}))),e({type:i.Kl,payload:[parseFloat(t.toFixed(2)),parseFloat(a.toFixed(2))]})}},l=()=>async e=>{if(localStorage.getItem("access")){const a={headers:{Accept:"application/json",Authorization:`JWT ${localStorage.getItem("access")}`}};try{const t=await s.A.get("http://localhost:8000/api/cart/get-item-total",a);200===t.status?e({type:i.O5,payload:t.data}):e({type:i.DY})}catch(t){e({type:i.DY})}}else{let t=0;localStorage.getItem("cart")&&(t=JSON.parse(localStorage.getItem("cart")).length),e({type:i.Ig,payload:t})}}},1804:(e,t,a)=>{a.d(t,{ES:()=>d,Jb:()=>r,OL:()=>o,Su:()=>l,_q:()=>c});var s=a(6213),i=a(4308);const r=()=>async e=>{if(localStorage.getItem("access")){const a={headers:{Accept:"application/json",Authorization:`JWT ${localStorage.getItem("access")}`}};try{const t=await s.A.get("http://localhost:8000/api/orders/get-orders",a);200===t.status?e({type:i.f3,payload:t.data}):e({type:i.ul})}catch(t){e({type:i.ul})}}},c=e=>async t=>{if(localStorage.getItem("access")){const r={headers:{Accept:"application/json",Authorization:`JWT ${localStorage.getItem("access")}`}};try{const a=await s.A.get(`http://localhost:8000/api/orders/get-order/${e}`,r);200===a.status?t({type:i.Ny,payload:a.data}):t({type:i.NI})}catch(a){t({type:i.NI})}}},l=()=>async e=>{if(localStorage.getItem("access")){const a={headers:{Accept:"application/json",Authorization:`JWT ${localStorage.getItem("access")}`}};try{const t=await s.A.get("http://localhost:8000/api/cart/get-items",a);200===t.status?e({type:i._W,payload:t.data}):e({type:i.BS})}catch(t){e({type:i.BS})}}},o=()=>async e=>{if(localStorage.getItem("access")){const a={headers:{Accept:"application/json",Authorization:`JWT ${localStorage.getItem("access")}`}};try{const t=await s.A.get("http://localhost:8000/api/cart/get-total",a);200===t.status?e({type:i.oy,payload:t.data}):e({type:i.pp})}catch(t){e({type:i.pp})}}},d=()=>async e=>{if(localStorage.getItem("access")){const a={headers:{Accept:"application/json",Authorization:`JWT ${localStorage.getItem("access")}`}};try{const t=await s.A.get("http://localhost:8000/api/cart/get-item-total",a);200===t.status?e({type:i.O5,payload:t.data}):e({type:i.DY})}catch(t){e({type:i.DY})}}}}}]);
//# sourceMappingURL=406.458ec2e7.chunk.js.map